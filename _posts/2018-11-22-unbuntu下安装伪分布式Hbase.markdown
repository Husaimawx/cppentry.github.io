---
layout:     post
title:      unbuntu下安装伪分布式Hbase
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/nuisthou/article/details/49253339				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);">1.下载 hbase</span><br style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);"><p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);"> 用什么版本的hadoop，就用什么版本的hbase;</span></p>
<p><span style="font-family:'微软雅黑', '宋体';color:#444444;"><span style="font-size:14px;line-height:21px;">我采用的hadoop版本是hadoop-0.20.2,采用的hbase版本为hbase-0.90.5</span></span></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);">2.解压下载到的hbase安装包，在/home/hadoop/下解压</span></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);">tar -zxvf   *************</span></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);">3.修改两个配置文件：</span></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);"></span></p>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
1）配置hbase-env.sh </div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
[hadoop@node01 conf]$ vi hbase-env.sh</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
# The java implementation to use.  Java 1.6 required.</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
export JAVA_HOME=/usr/java/jdk1.6.0_37</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
 </div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
# Extra Java CLASSPATH elements.  Optional.</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
export HBASE_CLASSPATH=/usr/local/hadoop/hadoop-0.20.2/conf</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
<br></div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
<span style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;line-height:18px;background-color:rgb(250,250,250);">export </span><span class="attribute" style="border:none;color:#FF0000;background-color:rgb(250,250,250);font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;line-height:18px;">HBASE_MANAGES_ZK</span><span style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;line-height:18px;background-color:rgb(250,250,250);">=</span><span class="attribute-value" style="border:none;color:#0000FF;background-color:rgb(250,250,250);font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;line-height:18px;">true</span><span style="font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;line-height:18px;background-color:rgb(250,250,250);"> </span><br></div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
2)<span style="color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">配置hbase-site.xml </span></div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
<span style="color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;"></span>
<pre style="line-height:18px;font-family:'Courier New' !important;"><span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">configuration</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>hbase.rootdir<span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>file:///home/hadoop/hbase-0.20.2/data<span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>hbase.cluster.distributed<span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>true<span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5 !important;">configuration</span><span style="color:rgb(0,0,255);line-height:1.5 !important;">&gt;</span></pre>
4.替换Jar包
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
[hadoop@node01 lib]$ cp hadoop-core-0.20-append-r1056497.jar hadoop-core-0.20-append-r1056497.sav</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
[hadoop@node01 lib]$ cp ../../hadoop-0.20.2/hadoop-0.20.2-core.jar  <span style="color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;background-color:rgb(241,241,241);">hadoop-core-0.20-append-r1056497.jar</span></div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
[hadoop@node01 lib]$ ls</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
注意修改/etc/hosts  ：</div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
<span style="color:rgb(54,46,43);font-family:Arial;font-size:14px;line-height:26px;">127.0.0.1   localhost </span></div>
<div style="border-width:0px;list-style:none;color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">
172.16.82.235  unbuntu1404  </div>
</div>
5.<span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">先启动hadoop，再启动hbase：</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:~/hadoop-1.1.1/bin$ ./start-all.sh #启动hadoop</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:~/hadoop-1.1.1/bin$ jps #查看hadoop启动情况,确认DataNode，SecondaryNameNode，DataNode，JobTracker，TaskTracker全部启动</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8163 DataNode</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">10343 Jps</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8443 JobTracker</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">7990 NameNode</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8615 TaskTracker</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8358 SecondaryNameNode </span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:~/hbase-0.94.3/bin$ ./start-hbase.sh  #确认hadoop完全启动后启动hbase</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:~/hbase-0.94.3/bin$ jps #查看hbase启动情况，确认HQuorumPeer，HMaster，HRegionServer全部启动</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8163 DataNode</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">10343 Jps</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">9060 HQuorumPeer</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8443 JobTracker</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">9370 HRegionServer</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">7990 NameNode</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">9170 HMaster</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8615 TaskTracker</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">8358 SecondaryNameNode</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:~/hbase-0.94.3/bin$ </span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:/home$ hbase -version #查看hbase版本，表示hbase安装成功</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">java version "1.7.0"</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">Java(TM) SE Runtime Environment (build 1.7.0-b147)</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">Java HotSpot(TM) Client VM (build 21.0-b17, mixed mode)</span><br style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">hadoop@ubuntu:/home$ </span>
<p></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;">6.先关闭hbase，在关闭hadoop</span></span></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">stop-hbase.sh；</span><br></span></span></p>
<p><span style="color:rgb(68,68,68);font-family:'微软雅黑', '宋体';font-size:14px;line-height:21px;background-color:rgb(241,241,241);"><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;"><span style="color:rgb(51,51,51);font-family:'宋体';font-size:14px;line-height:28px;">stop-all.sh;</span></span></span></p>
            </div>
                </div>