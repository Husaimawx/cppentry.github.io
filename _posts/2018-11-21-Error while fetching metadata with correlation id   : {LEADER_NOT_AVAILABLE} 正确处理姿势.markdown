---
layout:     post
title:      Error while fetching metadata with correlation id   : {LEADER_NOT_AVAILABLE} 正确处理姿势
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/luozhonghua2014/article/details/80369469				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p>kafka出现:</p><p> Error while fetching metadata with correlation id   : {LEADER_NOT_AVAILABLE}<br></p><p>表示无法识别kafka hostname</p><p><strong>正确处理姿势</strong></p><p>1、修改server.properties如下，目的是让kafka监听的到</p><p>vi   /opt/kafka/kafka/config/server.properties</p><p> </p><p><img src="https://img-blog.csdn.net/20180518211257282?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" style="margin-bottom:0px;" alt=""><br></p><p><br></p><p>2  ps -ef | grep kafka</p><p>    kill -9   kafka的pid</p><p>3 ps -ef | grep zookeeper</p><p>   kill -9  zookeeper的pid</p><p>4   启动service zookeeper start</p><p>     启动kafka   :bin/kafka-server-start.sh config/server.properties</p><p>5  测试</p><p>  bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test7<br></p><p>  <img src="https://img-blog.csdn.net/20180518211840816?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>bin/kafka-console-consumer.sh --zookeeper localhost:2181 --topic test7 --from-beginning<br></p><p><img src="https://img-blog.csdn.net/20180518211905187?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p>以上仅为本地服务器操作可行，远程访问就会报</p><p>o.a.kafka.common.network.Selector - Connection with /192.168.176.136 disconnected<br>java.net.ConnectException: Connection refused: <strong><span style="color:#ff0000;">no further information</span></strong><br></p><p><br></p><p>如果要本地和远程访问都没有问题，解决如下</p><p>重复2、3操作</p><p>然后增加和修改如下</p><p>vi   /opt/kafka/kafka/config/server.properties<br></p><p><img src="https://img-blog.csdn.net/20180518220053146?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p>进行远程telnet测试</p><p>telnet 192.168.176.136 9092</p><p><img src="https://img-blog.csdn.net/20180518220204709?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p>测试成功</p><p><br></p><p>进行本地测试</p><p><img src="https://img-blog.csdn.net/20180518220255299?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180518220309974?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p>进行远程程序访问，成功访问</p><p><img src="https://img-blog.csdn.net/20180518220531695?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1b3pob25naHVhMjAxNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p>参考</p><p>https://www.2cto.com/net/201801/712758.html   注意这个与解决的版本不同<br></p><p>http://www.mamicode.com/info-detail-2031083.html  <br></p><p><br></p>            </div>
                </div>