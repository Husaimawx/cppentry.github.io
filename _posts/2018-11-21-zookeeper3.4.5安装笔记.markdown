---
layout:     post
title:      zookeeper3.4.5安装笔记
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<div class="bct fc05 fc11 nbw-blog ztag"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">1：解压 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">官网zookeeper.apache.org下载安装包，然后解压缩到hadoop1的/app/hadoop/zookeeper345目录，目录属于hadoop:hadoop。计划安装在hadoop2.2.0集群的5台虚拟机上，用hadoop:hadoop身份安装，虚拟机的配置：</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">hadoop1    192.168.100.171</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">hadoop2    192.168.100.172</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">hadoop3    192.168.100.173</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">hadoop4    192.168.100.174</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">hadoop5    192.168.100.175</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;"> </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">2：配置 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[root@hadoop1 conf]# su - hadoop </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 ~]$ cd /app/hadoop/zookeeper345/conf </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 conf]$ vi zoo.cfg </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">dataDir=/app/hadoop/zookeeper345/data </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">dataLogDir=/app/hadoop/zookeeper345/datalog </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">server.1=hadoop1:2888:3888</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">server.2=hadoop2:2888:3888 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">server.3=hadoop3:2888:3888 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">server.4=hadoop4:2888:3888 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">server.5=hadoop5:2888:3888 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 conf]$ cd .. </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ mkdir data </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ mkdir datalog </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ echo 1 &gt; data/myid </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">说明</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">*******************************************************************************************</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">tickTime：这个时间是作为 Zookeeper 服务器之间或客户端与服务器之间维持心跳的时间间隔，也就是每个 tickTime 时间就会发送一个心跳。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">initLimit：这个配置项是用来配置 Zookeeper 接受客户端（这里所说的客户端不是用户连接Zookeeper 服务器的客户端，而是 Zookeeper 服务器集群中连接到 Leader 的 Follower 服务器）初始化连接时最长能忍受多少个心跳时间间隔数。当已经超过initLimit个心跳的时间（也就是tickTime）长度后
 Zookeeper 服务器还没有收到客户端的返回信息，那么表明这个客户端连接失败。总的时间长度就是 initLimit*tickTime 毫秒。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">syncLimit：这个配置项标识 Leader 与 Follower 之间发送消息、请求和应答时间长度，最长不能超过多少个 tickTime 的时间长度，总的时间长度就是 syncLimit*tickTime 毫秒。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">dataDir：顾名思义就是 Zookeeper 保存数据的目录，默认情况下Zookeeper 将写数据的日志文件也保存在这个目录里。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">clientPort：这个端口就是客户端连接 Zookeeper 服务器的端口，Zookeeper 会监听这个端口，接受客户端的访问请求。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">server.A=B:C:D:其中 A 是一个数字，表示这个是第几号服务器；B 是这个服务器的 ip 地址；C表示的是这个服务器与集群中的 Leader 服务器交换信息的端口；D 表示的是万一集群中的Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的
 Leader，而这个端口就是用来执行选举时服务器相互通信的端口。如果是伪集群的配置方式，由于 B 都是一样，所以不同的Zookeeper 实例通信端口号不能一样，所以要给它们分配不同的端口号。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">除了修改 zoo.cfg 配置文件，集群模式下还要配置一个文件 myid，这个文件在 dataDir 目录下，这个文件里面就有一个数据就是 A 的值，Zookeeper 启动时会读取这个文件，拿到里面的数据与zoo.cfg 里面的配置信息比较从而判断到底是那个
 server。</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">*******************************************************************************************</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;"> </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">3：分发软件包并修改myid </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ cd .. </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 hadoop]$ scp -r zookeeper345 hadoop@hadoop2:/app/hadoop/ </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 hadoop]$ scp -r zookeeper345 hadoop@hadoop3:/app/hadoop/ </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 hadoop]$ scp -r zookeeper345 hadoop@hadoop4:/app/hadoop/ </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 hadoop]$ scp -r zookeeper345 hadoop@hadoop5:/app/hadoop/ </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ ssh hadoop2 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop2 ~]$ echo 2 &gt;/app/hadoop/zookeeper345/data/myid </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop2 ~]$ exit </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ ssh hadoop3 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop3 ~]$ echo 3 &gt;/app/hadoop/zookeeper345/data/myid </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop3 ~]$ exit </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ ssh hadoop4 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop4 ~]$ echo 4 &gt;/app/hadoop/zookeeper345/data/myid </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop4 ~]$ exit </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ ssh hadoop5 </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop5 ~]$ echo 5 &gt;/app/hadoop/zookeeper345/data/myid </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop5 ~]$ exit</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">4：启动zookeeper</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop1 zookeeper345]$ bin/zkServer.sh start</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop2 zookeeper345]$ bin/zkServer.sh start</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop3 zookeeper345]$ bin/zkServer.sh start</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop4 zookeeper345]$ bin/zkServer.sh start</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop5 zookeeper345]$ bin/zkServer.sh start</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">5：检查和测试</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop5 zookeeper345]$ jps</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><div style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;">
<img src="https://img-blog.csdn.net/20140521112106125?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9va19tbWlja3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br></div>
<span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;"> </span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">[hadoop@hadoop5 zookeeper345]$ bin/zkCli.sh -server hadoop1:2181</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><div style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;">
<img src="https://img-blog.csdn.net/20140521112116703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9va19tbWlja3k=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br></div>
<br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">6：小挫折</span><br style="line-height:28px;font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;"><span style="font-family:'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, '宋体';font-size:16px;line-height:28px;">在配置conf/zoo.cfg的时候不小心将server.4=hadoop4:2888:3888写成了server.4=hadoop4.2888:3888，结果每台服务器启动后又自动挂了，最后在查根目录下的zookeeper.out文件，才发现是节点hadoop4的问题，但查了好几次都没发现错误，最后才发现原来是将:写成.，近视眼啊，真杯具。。。</span></div>
            </div>
                </div>