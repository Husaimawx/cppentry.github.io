---
layout:     post
title:      hive DDL语法汇总
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/dzjun/article/details/50454460				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <div style="font-size:14px;" class="iteye-blog-content-contain">
<p>hive DDL语法汇总</p>
<p>１、对表重命名</p>
<p>hive&gt; ALTER TABLE table_name RENAME TO new_table_name;</p>
<p> </p>
<p>2、修改表备注</p>
<p><code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-weight:bold !important;color:#006699 !important;background:none !important;" class="sql keyword">hive&gt; ALTER</code> <code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-weight:bold !important;color:#006699 !important;background:none !important;" class="sql keyword">TABLE</code> <code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background:none !important;" class="sql plain">table_name </code><code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-weight:bold !important;color:#006699 !important;background:none !important;" class="sql keyword">SET</code> <code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background:none !important;" class="sql plain">TBLPROPERTIES (</code><code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#0000FF !important;background:none !important;" class="sql string">'comment'</code> <code style="line-height:20px;font-size:14px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background:none !important;" class="sql plain">= new_comment);</code></p>
<p> </p>
<p>3、添加表分区</p>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">hive&gt; ALTER TABLE table_name ADD [IF NOT EXISTS] PARTITION partition_spec </code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;background:none !important;" class="java spaces">  </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">[LOCATION </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#0000FF !important;background:none !important;" class="java string">'location1'</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">] partition_spec [LOCATION </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#0000FF !important;background:none !important;" class="java string">'location2'</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">] ...;</code>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1"> </div>
<div style="border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1">
<div style="color:#333333;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;line-height:20px;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">hive&gt; ALTER TABLE page_view </code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">ADD </code>
</div>
<div style="color:#333333;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;line-height:20px;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">
<code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">　　PARTITION (dt=</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#0000FF !important;background:none !important;" class="java string">'2008-08-08'</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">, country=</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#0000FF !important;background:none !important;" class="java string">'us'</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">) location </code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#0000FF !important;background:none !important;" class="java string">'/path/to/us/part080808'</code>
</div>
<div style="color:#333333;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;line-height:20px;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;background:none !important;" class="java spaces"> 　 </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">PARTITION (dt=</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#0000FF !important;background:none !important;" class="java string">'2008-08-09'</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">, country=</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#0000FF !important;background:none !important;" class="java string">'us'</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">) location </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#0000FF !important;background:none !important;" class="java string">'/path/to/us/part080809'</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">;</code>
</div>
<div style="color:#333333;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;line-height:20px;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1"> </div>
<div style="color:#333333;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;line-height:20px;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1">4、对表分区进行重命名</div>
<div style="color:#333333;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;line-height:20px;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1"> </div>
<div style="border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1">hive&gt; ALTER TABLE table_name PARTITION partition_spec RENAME TO PARTITION partition_spec</div>
</div>
<p> </p>
<p>5、交换分区（0.12版本以上支持）</p>
<p>两个表结构必需相同，</p>
<p>hive&gt; ALTER TABLE table_name_1 EXCHANGE PARTITION (partition_spec) WITH TABLE table_name_2;</p>
<p> </p>
<p>6、删除表分区</p>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE table_name DROP [IF EXISTS] PARTITION partition_spec[, PARTITION partition_spec, ...]　</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">[IGNORE PROTECTION] [PURGE];            </code>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">
<code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">注意：PURGE 参数是在Hive </code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#009900 !important;background:none !important;" class="java value">1.2</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#000000 !important;background:none !important;" class="java plain">.</code><code style="font-size:14px !important;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;color:#009900 !important;background:none !important;" class="java value">0及以后的版本才支持，加上该参数则直接删除表分区，而不是将数据放入垃圾回收站；如果没加purge参数，则删掉的分区进入回收站</code>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">7、恢复分区</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">MSCK REPAIR TABLE table_name;</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">8、归档分区</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">
<div style="border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE table_name ARCHIVE PARTITION partition_spec;</code></div>
<div style="border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE table_name UNARCHIVE PARTITION partition_spec;</code></div>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2"> </div>
<p>9、修改列</p>
<p>ALTER TABLE table_name [PARTITION partition_spec] CHANGE [COLUMN] col_old_name col_new_name column_type　[COMMENT col_comment] [FIRST|AFTER column_name] [CASCADE|RESTRICT];</p>
<p> </p>
<p>例子：</p>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">CREATE TABLE test_change (a </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-weight:bold !important;font-size:14px !important;color:#006699 !important;background:none !important;" class="java keyword">int</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">, b </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-weight:bold !important;font-size:14px !important;color:#006699 !important;background:none !important;" class="java keyword">int</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">, c </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-weight:bold !important;font-size:14px !important;color:#006699 !important;background:none !important;" class="java keyword">int</code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">);</code>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#008200 !important;background:none !important;" class="java comments">// First change column a's name to a1.</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number4 index3 alt1"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE test_change CHANGE a a1 INT;</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number5 index4 alt2"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number6 index5 alt1"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#008200 !important;background:none !important;" class="java comments">// Next change column a1's name to a2, its data type to string, and put it after column b.</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number7 index6 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE test_change CHANGE a1 a2 STRING AFTER b;</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number8 index7 alt1"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#008200 !important;background:none !important;" class="java comments">// The new table's structure is:  b int, a2 string, c int.</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number9 index8 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain"> </code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number10 index9 alt1"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#008200 !important;background:none !important;" class="java comments">// Then change column c's name to c1, and put it as the first column.</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number11 index10 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE test_change CHANGE c c1 INT FIRST;</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number12 index11 alt1"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#008200 !important;background:none !important;" class="java comments">// The new table's structure is:  c1 int, b int, a2 string.</code></div>
<p> </p>
<p>10、增加列</p>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number1 index0 alt2"><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ALTER TABLE table_name [PARTITION partition_spec]</code></div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number2 index1 alt1">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;background:none !important;" class="java spaces">  </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">ADD|REPLACE COLUMNS (col_name data_type [COMMENT col_comment], ...)</code>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2">
<code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;background:none !important;" class="java spaces">  </code><code style="font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;border:0px !important;overflow:visible !important;vertical-align:baseline !important;font-size:14px !important;color:#000000 !important;background:none !important;" class="java plain">[CASCADE|RESTRICT]</code>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2">hive&gt; alter table table_name add columns(new_column_name column_type)</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2">11、删除列</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2">原表有三列(a int, b int ,c int);</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2">hive&gt; <span style="font-family:monospace;line-height:16px;">ALTER TABLE test_change REPLACE COLUMNS (a int, b int)</span>
</div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2"> </div>
<div style="line-height:20px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace;color:#333333;border:0px !important;overflow:visible !important;vertical-align:baseline !important;background-image:none !important;" class="line number3 index2 alt2"><span style="font-family:monospace;line-height:16px;">注：删除列时，如果是把前面的列删除，hive只是将列名往前移，数据并没有动，这个要小心</span></div>
<p> </p>
</div>            </div>
                </div>