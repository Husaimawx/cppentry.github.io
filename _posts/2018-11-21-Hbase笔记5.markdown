---
layout:     post
title:      Hbase笔记5
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p>Hbase 集群管理</p><p><br></p><p>bin/hbase shell</p><p>scan 'hbase:meta'</p><p>truncate清空</p><p>bin/hbase hbck 检查集群的状态</p><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180524182607925" alt=""><br></p><p><br></p><p>与Hive集成</p><p><img src="https://img-blog.csdn.net/20180524184108367" alt=""><br></p><p>数据存储在Hbase中</p><p>hive表的描述信息存储在hive中</p><p>hive-table hbase-table </p><p>hive-column hbse-rowkey hbase-cf-column</p><p>handler</p><p>两种方式：</p><p>管理表</p><p>    创建hive表的时候，指定数据存储在hbase中，删除表时，也会删除hbase中的表</p><p><img src="https://img-blog.csdn.net/20180525100028640" alt=""><br></p><p>hive中创建hbase_table_1, hbase中创建xyz,通过hive向表中插入数据</p><p>在创建hive表时也会创建hbase表</p><p><br></p><p>  外部表</p><p>  已经存在的一个Hbase表，需要对表中的数据进行分析，hive删除外部表，不会删除hbase中的表</p><p><span style="font-size:14px;background-color:rgb(255,255,255);font-family:SimSun;">引用</span><span style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">hbase</span><span style="font-size:14px;background-color:rgb(255,255,255);font-family:SimSun;">中一张已经存在的表</span><br></p><p><img src="https://img-blog.csdn.net/20180525102749929" alt=""><br></p><p>创建表与外部表的映射关系，将hbase数据映射到hive中，进行分析</p><p>  </p><p> Hive就是Hbase客户端</p><p>   需要一些配置信息，jar包</p><p><img src="https://img-blog.csdn.net/20180525094853482" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180525095143619" alt=""></p><p><img src="https://img-blog.csdn.net/20180525095212369" alt=""><br></p><p><img src="https://img-blog.csdn.net/20180525100735976" alt=""><br></p><p>hive-site.xml</p><p><img src="https://img-blog.csdn.net/20180525095721856" alt=""><br></p><p><br></p><p><br></p><p><img src="https://img-blog.csdn.net/20180525101424572" alt=""><br></p><p><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">hive</span><span lang="en-us" xml:lang="en-us" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">+h</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">base</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:SimSun;">这种方式，无论哪种，数据都是在</span><span lang="en-us" xml:lang="en-us" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">h</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">base</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:SimSun;">中存放的，</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">hive</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:SimSun;">只会在</span><span lang="en-us" xml:lang="en-us" style="font-size:14px;background-color:rgb(255,255,255);font-family:Calibri;">hdfs</span><span lang="zh-cn" xml:lang="zh-cn" style="font-size:14px;background-color:rgb(255,255,255);font-family:SimSun;">上创建目录，不会生成真正的数据文件；</span><br></p>            </div>
                </div>