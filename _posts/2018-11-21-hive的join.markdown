---
layout:     post
title:      hive的join
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
关键字：Hive Join、Hive LEFT|RIGTH|FULL OUTER JOIN、Hive LEFT SEMI JOIN、Hive Cross Join</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
Hive中除了支持和传统数据库中一样的内关联、左关联、右关联、全关联，还支持LEFT SEMI JOIN和CROSS JOIN，但这两种JOIN类型也可以用前面的代替。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
注意：Hive中Join的关联键必须在ON ()中指定，不能在Where中指定，否则就会先做笛卡尔积，再过滤。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
数据准备：</p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">hive</span><span class="pun" style="color:rgb(0,170,0);">&gt;</span><span class="pln" style="color:rgb(0,0,255);"> desc lxw1234_a</span><span class="pun" style="color:rgb(0,170,0);">;</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">OK</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">id                      </span><span class="kwd" style="color:rgb(249,38,89);">string</span><span class="pln" style="color:rgb(0,0,255);">                                      </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">name                    </span><span class="kwd" style="color:rgb(249,38,89);">string</span><span class="pln" style="color:rgb(0,0,255);">                                      </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="typ" style="color:rgb(0,170,0);">Time</span><span class="pln" style="color:rgb(0,0,255);"> taken</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">0.094</span><span class="pln" style="color:rgb(0,0,255);"> seconds</span><span class="pun" style="color:rgb(0,170,0);">,</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="typ" style="color:rgb(0,170,0);">Fetched</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);"> row</span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">s</span><span class="pun" style="color:rgb(0,170,0);">)</span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">hive</span><span class="pun" style="color:rgb(0,170,0);">&gt;</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="kwd" style="color:rgb(249,38,89);">select</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="pun" style="color:rgb(0,170,0);">*</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="kwd" style="color:rgb(249,38,89);">from</span><span class="pln" style="color:rgb(0,0,255);"> lxw1234_a</span><span class="pun" style="color:rgb(0,170,0);">;</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">OK</span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);">       wangwu</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="typ" style="color:rgb(0,170,0);">Time</span><span class="pln" style="color:rgb(0,0,255);"> taken</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">0.116</span><span class="pln" style="color:rgb(0,0,255);"> seconds</span><span class="pun" style="color:rgb(0,170,0);">,</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="typ" style="color:rgb(0,170,0);">Fetched</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);"> row</span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">s</span><span class="pun" style="color:rgb(0,170,0);">)</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">hive</span><span class="pun" style="color:rgb(0,170,0);">&gt;</span><span class="pln" style="color:rgb(0,0,255);"> desc lxw1234_b</span><span class="pun" style="color:rgb(0,170,0);">;</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">OK</span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">id                      </span><span class="kwd" style="color:rgb(249,38,89);">string</span><span class="pln" style="color:rgb(0,0,255);">                                      </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">age                     </span><span class="kwd" style="color:rgb(249,38,89);">int</span><span class="pln" style="color:rgb(0,0,255);">                                         </span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="typ" style="color:rgb(0,170,0);">Time</span><span class="pln" style="color:rgb(0,0,255);"> taken</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">0.159</span><span class="pln" style="color:rgb(0,0,255);"> seconds</span><span class="pun" style="color:rgb(0,170,0);">,</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="typ" style="color:rgb(0,170,0);">Fetched</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);"> row</span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">s</span><span class="pun" style="color:rgb(0,170,0);">)</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">hive</span><span class="pun" style="color:rgb(0,170,0);">&gt;</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="kwd" style="color:rgb(249,38,89);">select</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="pun" style="color:rgb(0,170,0);">*</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="kwd" style="color:rgb(249,38,89);">from</span><span class="pln" style="color:rgb(0,0,255);"> lxw1234_b</span><span class="pun" style="color:rgb(0,170,0);">;</span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">OK</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       </span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">4</span><span class="pln" style="color:rgb(0,0,255);">       </span><span class="lit" style="color:rgb(204,0,204);">21</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="typ" style="color:rgb(0,170,0);">Time</span><span class="pln" style="color:rgb(0,0,255);"> taken</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">0.09</span><span class="pln" style="color:rgb(0,0,255);"> seconds</span><span class="pun" style="color:rgb(0,170,0);">,</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="typ" style="color:rgb(0,170,0);">Fetched</span><span class="pun" style="color:rgb(0,170,0);">:</span><span class="pln" style="color:rgb(0,0,255);"> </span><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);"> row</span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">s</span><span class="pun" style="color:rgb(0,170,0);">)</span></li></ol>
<h2 style="line-height:18px;color:rgb(85,85,85);font-size:18px;border-left:4px solid rgb(0,166,124);background-color:rgb(251,251,251);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
10.1 内关联（JOIN）</h2>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
只返回能关联上的结果。</p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">age </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">join lxw1234_b b </span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">ON </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--执行结果</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan        </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi    	</span><span class="lit" style="color:rgb(204,0,204);">29</span></li></ol>
<h2 style="line-height:18px;color:rgb(85,85,85);font-size:18px;border-left:4px solid rgb(0,166,124);background-color:rgb(251,251,251);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
10.2 左外关联（LEFT [OUTER] JOIN）</h2>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
以LEFT [OUTER] JOIN关键字前面的表作为主表，和其他表进行关联，返回记录和主表的记录数一致，关联不上的字段置为NULL。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
是否指定OUTER关键字，貌似对查询结果无影响。</p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">age </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">left join lxw1234_b b </span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">ON </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--执行结果：</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">   zhangsan   </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">   lisi        </span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);">   wangwu    NULL</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li></ol>
<h2 style="line-height:18px;color:rgb(85,85,85);font-size:18px;border-left:4px solid rgb(0,166,124);background-color:rgb(251,251,251);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
10.3 右外关联（RIGHT [OUTER] JOIN）</h2>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
和左外关联相反，以RIGTH [OUTER] JOIN关键词后面的表作为主表，和前面的表做关联，返回记录数和主表一致，关联不上的字段为NULL。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
是否指定OUTER关键字，貌似对查询结果无影响。</p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">age </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">RIGHT OUTER JOIN lxw1234_b b </span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">ON </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--执行结果：</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">          zhangsan    	   </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">          lisi    	   </span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">NULL       NULL    	   </span><span class="lit" style="color:rgb(204,0,204);">21</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li></ol>
<h2 style="line-height:18px;color:rgb(85,85,85);font-size:18px;border-left:4px solid rgb(0,166,124);background-color:rgb(251,251,251);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
10.4 全外关联（FULL [OUTER] JOIN）</h2>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
以两个表的记录为基准，返回两个表的记录去重之和，关联不上的字段为NULL。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
是否指定OUTER关键字，貌似对查询结果无影响。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
<span style="color:rgb(255,0,0);">注意：FULL JOIN时候，Hive不会使用MapJoin来优化。</span></p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">age </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FULL OUTER JOIN lxw1234_b b </span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">ON </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--执行结果：</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan        	</span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi    		</span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);">       wangwu  		NULL</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">NULL    NULL    		</span><span class="lit" style="color:rgb(204,0,204);">21</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li></ol>
<h2 style="line-height:18px;color:rgb(85,85,85);font-size:18px;border-left:4px solid rgb(0,166,124);background-color:rgb(251,251,251);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
10.5 LEFT SEMI JOIN</h2>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
以LEFT SEMI JOIN关键字前面的表为主表，返回主表的KEY也在副表中的记录。</p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name </span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">LEFT SEMI JOIN lxw1234_b b </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">ON </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--执行结果：</span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--等价于：</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">WHERE a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id IN </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">SELECT id FROM lxw1234_b</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--也等价于：</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name </span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">join lxw1234_b b </span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">ON </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--也等价于：</span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name </span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">WHERE EXISTS </span><span class="pun" style="color:rgb(0,170,0);">(</span><span class="pln" style="color:rgb(0,0,255);">SELECT </span><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);"> FROM lxw1234_b b WHERE a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id </span><span class="pun" style="color:rgb(0,170,0);">=</span><span class="pln" style="color:rgb(0,0,255);"> b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">);</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li></ol>
<h2 style="line-height:18px;color:rgb(85,85,85);font-size:18px;border-left:4px solid rgb(0,166,124);background-color:rgb(251,251,251);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
10.6 笛卡尔积关联（CROSS JOIN）</h2>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
返回两个表的笛卡尔积结果，不需要指定关联键。</p>
<pre class="prettyprint linenums" style="color:rgb(68,68,68);margin-left:0px;line-height:20px;background-color:rgb(248,248,248);border-width:1px;border-style:solid;border-color:rgb(238,238,238);overflow:hidden;text-indent:30px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"></pre><ol class="linenums" style="margin-left:40px;list-style:none;"><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">SELECT a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">id</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">a</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">name</span><span class="pun" style="color:rgb(0,170,0);">,</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">b</span><span class="pun" style="color:rgb(0,170,0);">.</span><span class="pln" style="color:rgb(0,0,255);">age </span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">FROM lxw1234_a a </span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);">CROSS JOIN lxw1234_b b</span><span class="pun" style="color:rgb(0,170,0);">;</span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pun" style="color:rgb(0,170,0);">--执行结果：</span></li><li class="L7" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan        </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L8" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan        </span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L9" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">1</span><span class="pln" style="color:rgb(0,0,255);">       zhangsan        </span><span class="lit" style="color:rgb(204,0,204);">21</span></li><li class="L0" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi    </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L1" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi    </span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L2" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">2</span><span class="pln" style="color:rgb(0,0,255);">       lisi    </span><span class="lit" style="color:rgb(204,0,204);">21</span></li><li class="L3" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);">       wangwu  </span><span class="lit" style="color:rgb(204,0,204);">30</span></li><li class="L4" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);">       wangwu  </span><span class="lit" style="color:rgb(204,0,204);">29</span></li><li class="L5" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="lit" style="color:rgb(204,0,204);">3</span><span class="pln" style="color:rgb(0,0,255);">	 wangwu  </span><span class="lit" style="color:rgb(204,0,204);">21</span></li><li class="L6" style="line-height:20px;text-indent:0px;color:rgb(190,190,197);margin-left:0px;list-style:decimal;"><span class="pln" style="color:rgb(0,0,255);"> </span></li></ol>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
Hive中的JOIN类型基本就是上面这些，至于JOIN时候使用哪一种，完全得根据实际的业务需求来定，但起码你要搞清楚这几种关联类型会返回什么样的结果。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
除非特殊需求，并且数据量不是特别大的情况下，才可以慎用CROSS JOIN，否则，很难跑出正确的结果，或者JOB压根不能执行完。</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
经验告诉我，Hive中只要是涉及到两个表关联，首先得了解一下数据，看是否存在多对多的关联</p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
<br></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
</p>
<h3 style="line-height:35px;color:rgb(85,85,85);font-size:16px;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;text-indent:30px;">
<a title="" href="http://lxw1234.com/" rel="nofollow" style="color:rgb(0,166,124);">Hive相关文章（持续更新）</a>：</h3>
<p></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
<a title="" href="http://lxw1234.com/archives/tag/learn-hive" rel="nofollow" style="color:rgb(0,166,124);">一起学Hive系列</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/238.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive概述，Hive是什么</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/251.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive函数大全-完整版</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/265.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive中的数据库(Database)和表(Table)</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/269.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive的安装配置</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/284.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive的视图和分区</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/286.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive的动态分区</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/290.htm" rel="nofollow" style="color:rgb(0,166,124);">向Hive表中加载数据</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/292.htm" rel="nofollow" style="color:rgb(0,166,124);">使用Hive命令行</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/307.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive的查询语句SELECT</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
—-<a title="" href="http://lxw1234.com/archives/2015/06/313.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive中Join的原理和机制</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
<a title="" href="http://lxw1234.com/archives/tag/hive-window-functions" rel="nofollow" style="color:rgb(0,166,124);">Hive分析函数系列</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
<a title="" href="http://lxw1234.com/archives/2015/05/207.htm" rel="nofollow" style="color:rgb(0,166,124);">Hive索引</a></p>
<p style="color:rgb(85,85,85);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:15px;text-align:left;text-indent:30px;">
<a title="" href="http://lxw1234.com/archives/2015/04/15.htm" rel="nofollow" style="color:rgb(0,166,124);">hive优化之——控制hive任务中的map数和reduce数</a></p>
<br>            </div>
                </div>