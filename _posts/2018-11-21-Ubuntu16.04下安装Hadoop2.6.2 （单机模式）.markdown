---
layout:     post
title:      Ubuntu16.04下安装Hadoop2.6.2 （单机模式）
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                一、在Ubuntu下创建hadoop组和hadoop用户<br>    增加hadoop用户组，同时在该组里增加hadoop用户，后续在涉及到hadoop操作时，我们使用该用户。<br><br><br><br>1、创建hadoop用户组<br>    sudo addgroup hadoop <br><br> 2、创建hadoop用户    <br><br>    sudo adduser -ingroup hadoop hadoop<br><br>    回车后会提示输入新的UNIX密码，这是新建用户hadoop的密码，输入回车即可。<br><br>    如果不输入密码，回车后会重新提示输入密码，即密码不能为空。<br><br>    最后确认信息是否正确，如果没问题，输入 Y，回车即可。  <br><br> 3、为hadoop用户添加权限 <br>     输入：sudo gedit /etc/sudoers<br><br>     回车，打开sudoers文件<br><br>     给hadoop用户赋予和root用户同样的权限<br><br>二、用新增加的hadoop用户登录Ubuntu系统<br><br>       su hadoop<br><br>三、安装ssh<br>sudo apt-get install openssh-server<br><br> 安装完成后，启动服务<br><br>sudo /etc/init.d/ssh start<br><br><br><br>查看服务是否正确启动：ps -e | grep ss设置免密码登录，生成私钥和公钥<br><br>ssh-keygen -t rsa -P ""<br><br><br><br>此时会在／home／hadoop/.ssh下生成两个文件：id_rsa和id_rsa.pub，前者为私钥，后者为公钥。<br><br>下面我们将公钥追加到authorized_keys中，它用户保存所有允许以当前用户身份登录到ssh客户端用户的公钥内容。<br><br>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys<br><br>登录ssh<br><br>ssh localhost<br><br>退出<br><br>exit<br><br><br><br>四、安装Java环境 <br>     查看安装结果，输入命令：java -version，结果如下表示安装成功。<br><br>     java version "1.8.0_77"<br><br>    Java(TM) SE Runtime Environment (build 1.8.0_77-b03)<br><br>    Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)<br><br><br><br>五、安装hadoop2.6.2<br>    1、官网下载http://mirror.bit.edu.cn/apache/hadoop/common/<br><br><br>    2、安装<br><br><br>        解压<br><br>        sudo tar xzf hadoop-2.6.2.tar.gz        <br><br>        假如我们要把hadoop安装到/usr/local下<br><br>        拷贝到/usr/local/下，文件夹为hadoop<br><br>        sudo mv hadoop-2.6.2 /usr/local/hadoop           <br><br><br><br>赋予用户对该文件夹的读写权限<br><br>        sudo chmod 777 /usr/local/hadoop<br><br><br><br>3、配置<br><br><br>        1）配置~/.bashrc    <br><br>配置该文件前需要知道Java的安装路径，用来设置JAVA_HOME环境变量，可以使用下面命令行查看安装路径<br><br>    sudo gedit ~/.bashrc<br><br><br><br>    该命令会打开该文件的编辑窗口，在文件末尾追加下面内容，然后保存，关闭编辑窗口。<br><br>#HADOOP VARIABLES START<br><br>export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_77<br><br>export HADOOP_INSTALL=/usr/local/hadoop<br><br>export PATH=$PATH:$HADOOP_INSTALL/bin<br><br>export PATH=$PATH:$HADOOP_INSTALL/sbin<br><br>export HADOOP_MAPRED_HOME=$HADOOP_INSTALL<br><br>export HADOOP_COMMON_HOME=$HADOOP_INSTALL<br><br>export HADOOP_HDFS_HOME=$HADOOP_INSTALL<br><br>export YARN_HOME=$HADOOP_INSTALL<br><br>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_INSTALL/lib/native<br><br>export HADOOP_OPTS="-Djava.library.path=$HADOOP_INSTALL/lib"<br><br>#HADOOP VARIABLES END<br><br><br><br>执行下面命，使添加的环境变量生效：<br><br>        source ~/.bashrc<br><br>2）编辑/usr/local/hadoop/etc/hadoop/hadoop-env.sh<br><br><br><br>        执行下面命令，打开该文件的编辑窗口<br><br>        sudo gedit /usr/local/hadoop/etc/hadoop/hadoop-env.sh<br><br>找到JAVA_HOME变量，修改此变量如下<br><br>        export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_77<br><br>六、WordCount测试<br><br><br>单机模式安装完成，下面通过执行hadoop自带实例WordCount验证是否安装成功<br><br>    /usr/local/hadoop路径下创建input文件夹    <br><br>mkdir input<br><br><br><br>    拷贝README.txt到input    <br><br>cp README.txt input<br><br>    执行WordCount<br><br>    bin/hadoop jar share/hadoop/mapreduce/sources/hadoop-mapreduce-examples-2.6.2-sources.jar org.apache.hadoop.examples.WordCount input output  <br><br><br><br><br><br>执行 cat output/*，查看字符统计结果            </div>
                </div>