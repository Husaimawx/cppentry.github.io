---
layout:     post
title:      Ubuntu下 hadoop的安装与配置
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p style="margin-top:10px;margin-bottom:10px;padding:0px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);"><span style="font-size:14px;">转载自：https://www.cnblogs.com/87hbteo/p/7606012.html</span></p><h2 style="margin-top:10px;margin-bottom:10px;padding:0px;font-size:21px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);">一、准备</h2><h3 style="margin-top:10px;margin-bottom:10px;padding:0px;font-size:16px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);"><a style="margin:0px;padding:0px;"></a>1.1创建hadoop用户</h3><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> useradd -m hadoop -s /bin/bash  #创建hadoop用户，并使用/bin/<span style="margin:0px;padding:0px;line-height:1.5;">bash作为shell
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">passwd</span><span style="margin:0px;padding:0px;line-height:1.5;"> hadoop                   #为hadoop用户设置密码，之后需要连续输入两次密码
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> adduser hadoop <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span><span style="margin:0px;padding:0px;line-height:1.5;">             #为hadoop用户增加管理员权限
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">su</span> -<span style="margin:0px;padding:0px;line-height:1.5;"> hadoop                          #切换当前用户为用户hadoop
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> apt-get update                  #更新hadoop用户的apt,方便后面的安装</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><h3 style="margin-top:10px;margin-bottom:10px;padding:0px;font-size:16px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);"><a style="margin:0px;padding:0px;"></a>1.2安装SSH,设置SSH无密码登陆</h3><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> apt-get <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">install</span> openssh-<span style="margin:0px;padding:0px;line-height:1.5;">server   #安装SSH server
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">ssh</span><span style="margin:0px;padding:0px;line-height:1.5;"> localhost                         #登陆SSH，第一次登陆输入yes
$ exit                                  #退出登录的ssh localhost
$ cd </span>~/.<span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">ssh</span>/<span style="margin:0px;padding:0px;line-height:1.5;">                            #如果没法进入该目录，执行一次ssh localhost
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">ssh-keygen</span> -t rsa　　</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">输入完  $ ssh-keygen -t rsa　语句以后，需要连续敲击三次回车，如下图：</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img src="https://images2017.cnblogs.com/blog/1139343/201709/1139343-20170928110119965-299294660.png" alt="" style="padding:0px;border:0px;max-width:660px;"></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">其中，第一次回车是让KEY存于默认位置，以方便后续的命令输入。第二次和第三次是确定passphrase，相关性不大。两次回车输入完毕以后，如果出现类似于下图所示的输出，即成功：</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img src="https://images2017.cnblogs.com/blog/1139343/201709/1139343-20170928110536840-777008126.jpg" alt="" style="padding:0px;border:0px;max-width:660px;"></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">之后再输入：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">cat</span> ./id_rsa.pub &gt;&gt; ./<span style="margin:0px;padding:0px;line-height:1.5;">authorized_keys #加入授权
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">ssh</span> localhost                         #此时已不需密码即可登录localhost，并可见下图。如果失败则可以搜索SSH免密码登录来寻求答案</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img src="https://images2017.cnblogs.com/blog/1139343/201709/1139343-20170928110719637-31277406.png" alt="" style="padding:0px;border:0px;max-width:660px;"></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><h2 style="margin-top:10px;margin-bottom:10px;padding:0px;font-size:21px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);">二、安装jdk1.7</h2><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">首先在<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html%20" rel="nofollow" style="margin:0px;padding:0px;color:rgb(0,0,0);">oracle官网</a>下载jdk1.7 http://www.oracle.com/technetwork/java/javase/downloads/index.html 接下来进行安装与环境变量配置，根据个人电脑系统选择对应版本，我选的是jdk-7u80-linux-x64.tar.gz</p><pre class="prettyprint" style="margin-bottom:0px;padding:0px;white-space:pre-wrap;text-align:left;background-color:rgb(255,255,255);"></pre><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">mkdir</span> /usr/lib/<span style="margin:0px;padding:0px;line-height:1.5;">jvm                           #创建jvm文件夹
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">tar</span> zxvf jdk-7u80-linux-x64.<span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">tar</span>.gz  -C /usr/lib #/ 解压到/usr/lib/<span style="margin:0px;padding:0px;line-height:1.5;">jvm目录下
$ cd </span>/usr/lib/<span style="margin:0px;padding:0px;line-height:1.5;">jvm                                 #进入该目录
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">mv</span>  jdk1.<span style="margin:0px;padding:0px;color:rgb(128,0,128);line-height:1.5;">7</span><span style="margin:0px;padding:0px;line-height:1.5;">.0_80 java                         #重命名为java
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">vi</span> ~/.bashrc                                 #给JDK配置环境变量</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">注：其中如果权限不够，无法在相关目录下创建jvm文件夹，那么可以使用 $ sudo -i  语句进入root账户来创建文件夹。</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">另外推荐使用vim来编辑环境变量，即最后一句使用指令</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ vim ~/.bashrc </pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">如果没有vim,可以使用：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$<span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> apt-get <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">install</span> vim</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">来进行下载。</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><pre class="prettyprint" style="margin-bottom:0px;padding:0px;white-space:pre-wrap;text-align:left;background-color:rgb(255,255,255);"></pre><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img src="https://images2017.cnblogs.com/blog/1139343/201709/1139343-20170928111356262-1434564476.png" alt="" style="padding:0px;border:0px;max-width:660px;"></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> 在.bashrc文件添加如下指令：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">export JAVA_HOME=/usr/lib/jvm/<span style="margin:0px;padding:0px;line-height:1.5;">java
export JRE_HOME</span>=${JAVA_HOME}/<span style="margin:0px;padding:0px;line-height:1.5;">jre
export CLASSPATH</span>=.:${JAVA_HOME}/lib:${JRE_HOME}/<span style="margin:0px;padding:0px;line-height:1.5;">lib
export PATH</span>=${JAVA_HOME}/bin:$PATH</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">在文件修改完毕以后，输入代码：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ source ~/<span style="margin:0px;padding:0px;line-height:1.5;">.bashrc                       #使新配置的环境变量生效
$ java </span>-version                          #检测是否安装成功，查看java版本</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">如果出现如下图所示的内容，即为安装成功</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img src="https://images2017.cnblogs.com/blog/1139343/201709/1139343-20170928112353012-1757450590.png" alt="" style="padding:0px;border:0px;max-width:660px;"></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">注：如果各位不想一个一个的敲击，可以复制黏贴，但因为vim不支持系统粘贴板，所以需要先下载相关插件vim-gnome</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">sudo apt-get install vim-gnome</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">然后复制相关代码，光标移到指定位置，使用指令 "+p，即可复制，注意 " 也是需要敲击的内容，即一共有 " 、+、p 三个操作符需要敲入</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><h2 style="margin-top:10px;margin-bottom:10px;padding:0px;font-size:21px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);">三、安装hadoop-2.6.0</h2><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">先下载hadoop-2.6.0.tar.gz，链接如下: <br style="margin:0px;padding:0px;">http://mirrors.hust.edu.cn/apache/hadoop/common/</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">下面进行安装：</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">$ <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">tar</span> -zxvf  hadoop-<span style="margin:0px;padding:0px;color:rgb(128,0,128);line-height:1.5;">2.6</span>.<span style="margin:0px;padding:0px;color:rgb(128,0,128);line-height:1.5;">0</span>.<span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">tar</span>.gz -C /usr/local    #解压到/usr/<span style="margin:0px;padding:0px;line-height:1.5;">local目录下
$ cd </span>/usr/<span style="margin:0px;padding:0px;line-height:1.5;">local
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">mv</span>  hadoop-<span style="margin:0px;padding:0px;color:rgb(128,0,128);line-height:1.5;">2.6</span>.<span style="margin:0px;padding:0px;color:rgb(128,0,128);line-height:1.5;">0</span><span style="margin:0px;padding:0px;line-height:1.5;">    hadoop                      #重命名为hadoop
$ </span><span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">sudo</span> <span style="margin:0px;padding:0px;color:rgb(0,0,255);line-height:1.5;">chown</span> -R hadoop ./hadoop                        #修改文件权限</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">给hadoop配置环境变量，将下面代码添加到.bashrc文件:</p><div class="cnblogs_code" style="margin:5px 0px;padding:5px;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-size:12px;text-align:left;font-family:'Courier New';"><pre style="margin-bottom:0px;padding-right:0px;padding-left:0px;white-space:pre-wrap;font-family:'Courier New';">export HADOOP_HOME=/usr/local/<span style="margin:0px;padding:0px;line-height:1.5;">hadoop
export CLASSPATH</span>=$($HADOOP_HOME/bin/<span style="margin:0px;padding:0px;line-height:1.5;">hadoop classpath):$CLASSPATH
export HADOOP_COMMON_LIB_NATIVE_DIR</span>=$HADOOP_HOME/lib/<span style="margin:0px;padding:0px;line-height:1.5;">native
export PATH</span>=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</pre></div><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img src="https://images2017.cnblogs.com/blog/1139343/201709/1139343-20170928113521434-2017853701.png" alt="" style="padding:0px;border:0px;max-width:660px;"></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"> </p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">同样，执行source ~./bashrc使设置生效，并查看hadoop是否安装成功</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><img title="" src="https://img-blog.csdn.net/20170321124003176?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXJfS2tUaWFu/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" style="padding:0px;border:0px;max-width:660px;"></p>            </div>
                </div>