---
layout:     post
title:      hive desc table乱码问题
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<div id="article_content" class="article_content tracking-ad" style="font-size:15px;color:rgb(85,85,85);line-height:35px;font-family:'microsoft yahei';">
<div class="markdown_views" style="color:rgb(63,63,63);">
<p>
环境 cdh5.8.3 + <a href="http://lib.csdn.net/base/hive" rel="nofollow" class="replace_word" title="Hive知识库" style="color:rgb(223,52,52);font-weight:bold;">Hive</a> 1.1.0。 <a href="http://lib.csdn.net/base/hive" rel="nofollow" class="replace_word" title="Hive知识库" style="color:rgb(223,52,52);font-weight:bold;">hive</a> 元<a href="http://lib.csdn.net/base/mysql" rel="nofollow" class="replace_word" title="MySQL知识库" style="color:rgb(223,52,52);font-weight:bold;">数据库</a>用的是<a href="http://lib.csdn.net/base/mysql" rel="nofollow" class="replace_word" title="MySQL知识库" style="color:rgb(223,52,52);font-weight:bold;">MySQL</a></p>
<p>
创建表后，用desc 在hive中查看表信息，注释显示乱码。解决方案如下：</p>
<p>
1 进入<a href="http://lib.csdn.net/base/mysql" rel="nofollow" class="replace_word" title="MySQL知识库" style="color:rgb(223,52,52);font-weight:bold;">mysql</a> ，执行</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);background-color:rgba(128,128,128,.05);border:0px solid rgb(136,136,136);"><code class="hljs sql has-numbering" style="display:block;background:transparent;color:inherit;font-family:'Source Code Pro', monospace;"><span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">show</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">create</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">database</span> hive </span></code></pre><ul class="pre-numbering" style="width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);list-style:none;text-align:right;opacity:0;"><li>1</li></ul><ul class="pre-numbering" style="width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);list-style:none;text-align:right;"><li>1</li></ul><pre style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);"><code style="font-family:'Source Code Pro', monospace;color:inherit;background-color:transparent;">查看hive 数据库当前编码，如果是utf8 则执行下面sql
</code></pre>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);background-color:rgba(128,128,128,.05);border:0px solid rgb(136,136,136);"><code class="hljs sql has-numbering" style="display:block;background:transparent;color:inherit;font-family:'Source Code Pro', monospace;"><span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">alter</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">database</span> hive <span class="hljs-keyword" style="color:rgb(0,0,136);">default</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">character</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> latin1 </span></code></pre><ul class="pre-numbering" style="width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);list-style:none;text-align:right;opacity:0;"><li>1</li></ul><ul class="pre-numbering" style="width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);list-style:none;text-align:right;"><li>1</li></ul><p>
将 hive 数据库默认编码改成 latin1</p>
<p>
2 执行下面sql ，修改表</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);background-color:rgba(128,128,128,.05);border:0px solid rgb(136,136,136);"><code class="hljs sql has-numbering" style="display:block;background:transparent;color:inherit;font-family:'Source Code Pro', monospace;">use hive; 
<span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">alter</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">table</span> COLUMNS_V2 modify <span class="hljs-keyword" style="color:rgb(0,0,136);">column</span> COMMENT <span class="hljs-keyword" style="color:rgb(0,0,136);">varchar</span>(<span class="hljs-number" style="color:rgb(0,102,102);">256</span>) <span class="hljs-keyword" style="color:rgb(0,0,136);">character</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> utf8;</span>
<span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">alter</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">table</span> TABLE_PARAMS modify <span class="hljs-keyword" style="color:rgb(0,0,136);">column</span> PARAM_VALUE <span class="hljs-keyword" style="color:rgb(0,0,136);">varchar</span>(<span class="hljs-number" style="color:rgb(0,102,102);">4000</span>) <span class="hljs-keyword" style="color:rgb(0,0,136);">character</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> utf8;</span>
<span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">alter</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">table</span> PARTITION_PARAMS  modify <span class="hljs-keyword" style="color:rgb(0,0,136);">column</span> PARAM_VALUE <span class="hljs-keyword" style="color:rgb(0,0,136);">varchar</span>(<span class="hljs-number" style="color:rgb(0,102,102);">4000</span>) <span class="hljs-keyword" style="color:rgb(0,0,136);">character</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> utf8;</span>
<span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">alter</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">table</span> PARTITION_KEYS  modify <span class="hljs-keyword" style="color:rgb(0,0,136);">column</span> PKEY_COMMENT <span class="hljs-keyword" style="color:rgb(0,0,136);">varchar</span>(<span class="hljs-number" style="color:rgb(0,102,102);">4000</span>) <span class="hljs-keyword" style="color:rgb(0,0,136);">character</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> utf8;</span>
<span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">alter</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">table</span>  INDEX_PARAMS  modify <span class="hljs-keyword" style="color:rgb(0,0,136);">column</span> PARAM_VALUE  <span class="hljs-keyword" style="color:rgb(0,0,136);">varchar</span>(<span class="hljs-number" style="color:rgb(0,102,102);">4000</span>) <span class="hljs-keyword" style="color:rgb(0,0,136);">character</span> <span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> utf8;</span></code></pre><ul class="pre-numbering" style="width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);list-style:none;text-align:right;opacity:0;"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li></ul><ul class="pre-numbering" style="width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);list-style:none;text-align:right;"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li></ul><p>
<a href="https://my.oschina.net/jackieyeah/blog/742088" rel="nofollow" style="color:rgb(12,137,207);">https://my.oschina.net/jackieyeah/blog/742088</a></p>
</div>
</div>
<div class="bdsharebuttonbox tracking-ad bdshare-button-style0-16" style="font-family:'microsoft yahei';">
<a href="http://blog.csdn.net/jobschen/article/details/54140400#" rel="nofollow" class="bds_more" style="line-height:16px;color:rgb(51,51,51);"></a><a href="http://blog.csdn.net/jobschen/article/details/54140400#" rel="nofollow" class="bds_qzone" title="分享到QQ空间" style="line-height:16px;"></a><a href="http://blog.csdn.net/jobschen/article/details/54140400#" rel="nofollow" class="bds_tsina" title="分享到新浪微博" style="line-height:16px;"></a><a href="http://blog.csdn.net/jobschen/article/details/54140400#" rel="nofollow" class="bds_tqq" title="分享到腾讯微博" style="line-height:16px;"></a><a href="http://blog.csdn.net/jobschen/article/details/54140400#" rel="nofollow" class="bds_renren" title="分享到人人网" style="line-height:16px;"></a><a href="http://blog.csdn.net/jobschen/article/details/54140400#" rel="nofollow" class="bds_weixin" title="分享到微信" style="line-height:16px;"></a></div>
<div id="digg" style="text-align:center;font-family:'microsoft yahei';">
</div>
            </div>
                </div>