---
layout:     post
title:      一些简单的大数据基础知识
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p><img src="https://img-blog.csdn.net/20180612090834167?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDU5MjkzNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p><br></p><p>1, 为什么不是直接将人脸识别数据直接 放到hbase里, 而是要通过Kafka?</p><p>    因为数据量大, 发送速度快, hbase不能支撑.  而kafka集群里有负载均衡, 能将数据稳定高效的放到hbase里.</p><p>2,hbase是什么?</p><p></p><div class="para" style="font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);">HBase – Hadoop Database，是一个高<a href="https://baike.baidu.com/item/%E5%8F%AF%E9%9D%A0" rel="nofollow" style="color:rgb(19,110,194);">可靠</a>性、高性能、面向列、可伸缩的<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F" rel="nofollow" style="color:rgb(19,110,194);">分布式存储系统</a>，利用HBase技术可在廉价PC Server上搭建起大规模<a href="https://baike.baidu.com/item/%E7%BB%93%E6%9E%84" rel="nofollow" style="color:rgb(19,110,194);">结构</a>化<a href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8" rel="nofollow" style="color:rgb(19,110,194);">存储</a>集群。</div><div class="para" style="font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);">与FUJITSU Cliq等商用大数据产品不同，HBase是Google Bigtable的开源实现，<a href="https://baike.baidu.com/item/%E7%B1%BB%E4%BC%BC" rel="nofollow" style="color:rgb(19,110,194);">类似</a>Google Bigtable利用GFS作为其文件<a href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8" rel="nofollow" style="color:rgb(19,110,194);">存储</a>系统，HBase利用Hadoop HDFS作为其<a href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6" rel="nofollow" style="color:rgb(19,110,194);">文件</a>存储<a href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F" rel="nofollow" style="color:rgb(19,110,194);">系统</a>；Google运行MapReduce来处理Bigtable中的海量<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE" rel="nofollow" style="color:rgb(19,110,194);">数据</a>，HBase同样利用Hadoop MapReduce来处理HBase中的<a href="https://baike.baidu.com/item/%E6%B5%B7%E9%87%8F" rel="nofollow" style="color:rgb(19,110,194);">海量</a>数据；Google Bigtable利用 Chubby作为协同服务，HBase利用Zookeeper作为对应。<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [1]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a></div><div class="para" style="font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);">上图描述Hadoop EcoSystem中的各层系统。其中,HBase位于结构化<a href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8" rel="nofollow" style="color:rgb(19,110,194);">存储</a>层，Hadoop HDFS为HBase提供了高可靠性的底层存储支持，Hadoop MapReduce为HBase提供了高性能的计算能力，Zookeeper为HBase提供了稳定服务和failover机制。<div class="lemma-picture text-pic layout-right" style="border:1px solid rgb(224,224,224);margin:0px 0px 3px;float:right;clear:right;width:220px;"><a class="image-link" href="https://baike.baidu.com/pic/HBase/7670213/0/4e83cb62c5dbd78ae6113ae2?fr=lemma&amp;ct=single" rel="nofollow" title="" style="color:rgb(19,110,194);width:220px;height:158px;"><img src="https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=4c1de59d7bcb0a4681228c3b5b62f63e/b3b7d0a20cf431ad8b01445e4b36acaf2fdd9881.jpg" alt="" style="border:0px;margin-right:auto;margin-bottom:0px;margin-left:auto;width:220px;height:158px;"></a></div></div><div class="para" style="font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);">此外，Pig和Hive还为HBase提供了高层语言支持，使得在HBase上进行数据统计处理变的非常简单。 Sqoop则为HBase提供了方便的RDBMS数据导入功能，使得<a href="https://baike.baidu.com/item/%E4%BC%A0%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow" style="color:rgb(19,110,194);">传统数据库</a>数据向HBase中迁移变的非常方便。</div><div>2,kafka是什么?<br></div><div class="anchor-list" style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:12px;background-color:rgb(255,255,255);"><a class="lemma-anchor para-title" style="color:rgb(19,110,194);"></a><a class="lemma-anchor" style="color:rgb(19,110,194);"><br></a></div><div class="para-title level-2" style="clear:both;border-left:12px solid rgb(79,156,238);line-height:24px;font-size:22px;font-family:'Microsoft YaHei', SimHei, Verdana;margin:35px 0px 15px -30px;background:rgb(255,255,255) url(&quot;https://bkssl.bdimg.com/static/wiki-lemma/normal/resource/img/paraTitle-line_c5e6d61.png&quot;);color:rgb(51,51,51);"></div><dl class="lemmaWgt-lemmaTitle lemmaWgt-lemmaTitle-" style="margin:0px 0px 10px;padding:0px;width:700px;font-family:arial, tahoma, 'Microsoft Yahei', '宋体', sans-serif;color:rgb(51,51,51);font-size:12px;background-color:rgb(255,255,255);"><dd class="lemmaWgt-lemmaTitle-title" style="margin-bottom:5px;margin-left:0px;padding:0px;"><a class="edit-lemma cmn-btn-hover-blue cmn-btn-28 j-edit-link" style="color:rgb(102,102,102);border:1px solid rgb(197,197,197);text-align:center;line-height:14px;padding:6px 0px;margin:0px 5px 0px 0px;width:60px;height:14px;"></a></dd></dl><div class="lemma-summary" style="clear:both;font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);"><div class="para" style="margin-bottom:15px;text-indent:2em;line-height:24px;"><span style="font-weight:700;">Kafka</span>是由<a href="https://baike.baidu.com/item/Apache%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A" rel="nofollow" style="color:rgb(19,110,194);">Apache软件基金会</a>开发的一个开源流处理平台，由<a href="https://baike.baidu.com/item/Scala" rel="nofollow" style="color:rgb(19,110,194);">Scala</a>和<a href="https://baike.baidu.com/item/Java/85979" rel="nofollow" style="color:rgb(19,110,194);">Java</a>编写。Kafka是一种高吞吐量的<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F" rel="nofollow" style="color:rgb(19,110,194);">分布式</a>发布订阅消息系统，它可以处理消费者规模的网站中的所有动作流数据。 这种动作（网页浏览，搜索和其他用户的行动）是在现代网络上的许多社会功能的一个关键因素。 这些数据通常是由于吞吐量的要求而通过处理日志和日志聚合来解决。 对于像<a href="https://baike.baidu.com/item/Hadoop" rel="nofollow" style="color:rgb(19,110,194);">Hadoop</a>的一样的<a href="https://baike.baidu.com/item/%E6%97%A5%E5%BF%97/2769135" rel="nofollow" style="color:rgb(19,110,194);">日志</a>数据和离线分析系统，但又要求实时处理的限制，这是一个可行的解决方案。Kafka的目的是通过<a href="https://baike.baidu.com/item/Hadoop" rel="nofollow" style="color:rgb(19,110,194);">Hadoop</a>的并行加载机制来统一线上和离线的消息处理，也是为了通过<a href="https://baike.baidu.com/item/%E9%9B%86%E7%BE%A4" rel="nofollow" style="color:rgb(19,110,194);">集群</a>来提供实时的消息。</div><div class="para" style="margin-bottom:15px;text-indent:2em;line-height:24px;"><div class="para" style="font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);">Kafka<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [1]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a> 是一种高吞吐量<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [2]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a> 的分布式发布订阅消息系统，有如下特性：</div><ul class="custom_dot para-list list-paddingleft-1" style="margin-bottom:15px;margin-left:2em;list-style:none;color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:12px;background-color:rgb(255,255,255);"><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">通过O(1)的磁盘数据结构提供消息的持久化，这种结构对于即使数以TB的消息存储也能够保持长时间的稳定性能。</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">高吞吐量<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [2]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a> ：即使是非常普通的硬件Kafka也可以支持每秒数百万<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [2]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a> 的消息。</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">支持通过Kafka服务器和消费机集群来分区消息。</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">支持<a href="https://baike.baidu.com/item/Hadoop" rel="nofollow" style="color:rgb(19,110,194);">Hadoop</a>并行数据加载。<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [3]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a></div></li></ul><div class="para" style="font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);">Kafka通过官网发布了最新版本1.1.0<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [4-5]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a></div><div class="anchor-list" style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:12px;background-color:rgb(255,255,255);"><a class="lemma-anchor para-title" style="color:rgb(19,110,194);"></a><a class="lemma-anchor" style="color:rgb(19,110,194);"></a><a class="lemma-anchor" style="color:rgb(19,110,194);"></a></div><div class="para-title level-2" style="clear:both;border-left:12px solid rgb(79,156,238);line-height:24px;font-size:22px;font-family:'Microsoft YaHei', SimHei, Verdana;margin:35px 0px 15px -30px;background:rgb(255,255,255) url(&quot;https://bkssl.bdimg.com/static/wiki-lemma/normal/resource/img/paraTitle-line_c5e6d61.png&quot;);color:rgb(51,51,51);"><h2 class="title-text" style="margin-top:0px;margin-bottom:0px;padding:0px 8px 0px 18px;font-size:22px;color:rgb(0,0,0);float:left;line-height:24px;font-weight:400;">相关术语介绍</h2><a class="edit-icon j-edit-link" style="color:rgb(136,136,136);float:right;height:22px;line-height:22px;padding-left:24px;font-size:12px;font-family:SimSun;"><span class="cmn-icon wiki-lemma-icons wiki-lemma-icons_edit-lemma" style="font-family:'baikeFont_layout';line-height:1;margin:0px 3px 0px 0px;vertical-align:text-bottom;color:rgb(170,170,170);"></span>编辑</a></div><ul class="custom_dot para-list list-paddingleft-1" style="margin-bottom:15px;margin-left:2em;list-style:none;color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:12px;background-color:rgb(255,255,255);"><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Broker</div><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Kafka集群包含一个或多个服务器，这种服务器被称为broker<span class="sup--normal" style="font-size:12px;line-height:0;vertical-align:baseline;margin-left:2px;color:rgb(51,102,204);padding:0px 2px;"> [5]</span><a class="sup-anchor" style="color:rgb(19,110,194);font-size:0px;line-height:0;"> </a></div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Topic</div><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">每条发布到Kafka集群的消息都有一个类别，这个类别被称为Topic。（物理上不同Topic的消息分开存储，逻辑上一个Topic的消息虽然保存于一个或多个broker上但用户只需指定消息的Topic即可生产或消费数据而不必关心数据存于何处）</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Partition</div><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Partition是物理上的概念，每个Topic包含一个或多个Partition.</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Producer</div><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">负责发布消息到Kafka broker</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Consumer</div><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">消息消费者，向Kafka broker读取消息的客户端。</div></li><li class="list-dot list-dot-paddingleft" style="margin-top:0px;margin-left:0px;padding:0px;list-style:none;"><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">Consumer Group</div><div class="para" style="font-size:14px;margin-bottom:0px;line-height:24px;margin-left:20px;">每个Consumer属于一个特定的Consumer Group（可为每个Consumer指定group name，若不指定group name则属于默认的group）。</div></li></ul><br></div></div><br>            </div>
                </div>