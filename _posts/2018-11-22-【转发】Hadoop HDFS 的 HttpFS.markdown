---
layout:     post
title:      【转发】Hadoop HDFS 的 HttpFS
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <h1 style="margin-top:10px;margin-bottom:10px;padding:0px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);">背景</h1><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">要写一个操作HDFS的web后台(文件CRUD)，虽然可以直接使用HDFS提供的<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">FileSystem</code>类然后通过<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">get</code>方法获取到一个<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">DistributedFileSystem</code>（假设提供的文件url的模式是<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">hdfs://</code>开头）的实例来操作HDFS，但是这种方法有个限制就是调用方必须能和HDFS集群中的所有主机通信。然后这个要求有时并不能满足，比如HDFS集群部署在一个内部隔离网络中，而WEB服务器部署在另外一个网络中，虽然namenode做了NAT可以被外部网络访问，但如前所述这是不够的。</p><h1 style="margin-top:10px;margin-bottom:10px;padding:0px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);">WebHDFS</h1><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">WebHDFS提供了访问HDFS的RESTful接口，在自己安装的Hadoop 2.6中是默认启动的。它和Web管理界面同在namenode的50070端口下，比如可以通过如下地址来列出HDFS根目录的文件：</p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><br></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><span class="hljs-symbol" style="margin:0px;padding:0px;color:rgb(0,176,232);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">http:</span><span class="hljs-comment" style="margin:0px;padding:0px;color:#008000;font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">//10.214.208.138:50070/webhdfs/v1/?op=LISTSTATUS</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">{</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"FileStatuses"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:{</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"FileStatus"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:[{</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"accessTime"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"blockSize"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"childrenNum"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">1</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"fileId"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">16389</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"group"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"supergroup"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"length"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"modificationTime"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">1438583475410</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"owner"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"ubuntu"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"pathSuffix"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"user"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"permission"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"755"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"replication"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"storagePolicy"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"type"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"DIRECTORY"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">},{</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"accessTime"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"blockSize"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"childrenNum"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"fileId"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">16387</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"group"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"supergroup"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"length"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"modificationTime"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">1438583448451</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"owner"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"ubuntu"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"pathSuffix"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"users"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"permission"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"755"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"replication"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"storagePolicy"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"type"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"DIRECTORY"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">},{</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"accessTime"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"blockSize"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"childrenNum"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"fileId"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">16391</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"group"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"supergroup"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"length"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"modificationTime"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">1438584555313</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"owner"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"ubuntu"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"pathSuffix"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"yellowbook"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"permission"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"755"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"replication"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"storagePolicy"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-number" style="margin:0px;padding:0px;color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">0</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">,</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"type"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">:</span><span class="hljs-string" style="margin:0px;padding:0px;color:rgb(163,21,21);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;">"DIRECTORY"</span><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);">}]}}</span><br></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);"><br></span></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);"><span style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;text-align:left;white-space:pre-wrap;background-color:rgb(245,245,245);"></span></p><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">通过将HDFS文件路径的模式部分换成webhdfs可以获得<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">WebHdfsFileSystem</code>,但是使用它还是需要跟集群不同机器进行交互的。</p><h1 style="margin-top:10px;margin-bottom:10px;padding:0px;line-height:1.5;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;text-align:left;background-color:rgb(255,255,255);">HttpFS</h1><p style="margin:10px auto;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(255,255,255);">HttpFS本质上是一个代理服务，它部署在能够完全访问HDFS集群的网络内，对于文件CURD的操作全部提交给HttpFS服务，然后由它去更HDFS集群交互，所以客户端不需要能够访问所有HDFS主机。HttpFS服务提供的操作接口是HTTP协议的RESTful接口，但是官方没有提供现成的Java客户端。HttpFS服务默认没有启动，可以使用在<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">hadoop-2.6.0/sbin</code>中提供的<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">httpfs.sh</code>脚本来启动。HttpFS相关的文件在<code style="margin:1px 5px;line-height:1.8;vertical-align:middle;padding:0px 5px;font-family:'Courier New', sans-serif;background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);">hadoop-2.6.0/share/hadoop/httpfs</code>目录下。</p><br>            </div>
                </div>