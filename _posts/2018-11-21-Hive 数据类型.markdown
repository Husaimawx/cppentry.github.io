---
layout:     post
title:      Hive 数据类型
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/WYpersist/article/details/80174676				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <div><p>Hive 提供了基本数据类型和复杂数据类型，复杂数据类型是 Java <span style="font-family:'宋体';">语言所不具有的。</span></p><p> Hive <span style="font-family:'宋体';">的两种数据类型以及数据类型之间的转换。</span></p><p><span style="font-family:'宋体';"><img src="https://img-blog.csdn.net/20180408052005455?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dZcGVyc2lzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></span></p><h3>（一）<span style="font-family:'宋体';">基本数据类型</span><a></a></h3><div><strong><img src="https://img-blog.csdn.net/20180408052021222?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dZcGVyc2lzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></strong></div><p>由上表我们看到hive不支持日期类型，在hive里日期都是用字符串来表示的，而常用的日期格式转化操作则是通过自定义函数进行操作。</p><p>hive是用java开发的，hive里的基本数据类型和java的基本数据类型也是一一对应的，</p><p>除了string类型。有符号的整数类型：TINYINT、SMALLINT、INT和BIGINT分别等价于java</p><p>的byte、short、int和long原子类型，它们分别为1字节、2字节、4字节和8字节有符号整</p><p>数。Hive的浮点数据类型FLOAT和DOUBLE,对应于java的基本类型float和double类型。而hive的BOOLEAN类型相当于java的基本数据类型boolean。</p><p>对于hive的String类型相当于数据库的varchar类型，该类型是一个可变的字符串，不过它不能声明其中最多能存储多少个字符，理论上它可以存储2GB的字符数。</p><h3>（二）<span style="font-family:'宋体';">复杂数据类型</span></h3><div><strong><span style="font-family:'宋体';"><img src="https://img-blog.csdn.net/20180408052050411?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dZcGVyc2lzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="" style="margin-bottom:0px;"><br></span></strong></div><p>Hive 有三种复杂数据类型 ARRAY、MAP 和 STRUCT。ARRAY 和 MAP 与 Java 中的</p><p>Array 和 Map 类似，而STRUCT 与 C语言中的 Struct 类似，它封装了一个命名字段集合，复杂数据类型允许任意层次的嵌套。</p></div><div><p align="justify">复杂数据类型的声明必须使用尖括号指明其中数据字段的类型。定义三列，每列对应一种复杂的数据类型，如下所示。</p><p>CREATE TABLE complex( col1 ARRAY&lt; INT&gt;,</p><p>col2 MAP&lt; STRING,INT&gt;,</p><p>col3 STRUCT&lt; a:STRING,b:INT,c:DOUBLE&gt;</p><p>)</p><h3><span style="font-family:'宋体';">（三）类型转化</span></h3><p align="justify">Hive 的原子数据类型是可以进行隐式转换的，类似于 Java <span style="font-family:'宋体';">的类型转换，例如某表达式使用</span> INT <span style="font-family:'宋体';">类型，</span>TINYINT <span style="font-family:'宋体';">会自动转换为</span>INT <span style="font-family:'宋体';">类型，但是</span> Hive <span style="font-family:'宋体';">不会进行反向转化，例如，某表达式使用</span> TINYINT <span style="font-family:'宋体';">类型，</span>INT <span style="font-family:'宋体';">不会自动转换为</span> TINYINT <span style="font-family:'宋体';">类型，它会返回错误，除非使用</span> CAST <span style="font-family:'宋体';">操作。</span></p><p>（1）隐式类型转换规则如下。</p><p align="right">1）、任何整数类型都可以隐式地转换为一个范围更广的类型，如 TINYINT 可以转换成</p><p>INT，INT 可以转换成 BIGINT。</p><p>2）、所有整数类型、FLOAT 和 String 类型都可以隐式地转换成 DOUBLE。</p><p>3）、TINYINT、SMALLINT、INT 都可以转换为 FLOAT。</p><p>4）、BOOLEAN 类型不可以转换为任何其它的类型。</p><p>（2<span style="font-family:'宋体';">）可以使用</span> CAST <span style="font-family:'宋体';">操作显示进行数据类型转换，例如</span> CAST('1' AS INT) <span style="font-family:'宋体';">将把字符串</span>'1' <span style="font-family:'宋体';">转换成整数</span> 1<span style="font-family:'宋体';">；如果强制类型转换失败，如执行</span> CAST('X' AS INT)，表达式返回空值NULL。</p></div>            </div>
                </div>