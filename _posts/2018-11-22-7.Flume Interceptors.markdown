---
layout:     post
title:      7.Flume Interceptors
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：转自 http://www.234plus.com/					https://blog.csdn.net/ZhongGuoZhiChuang/article/details/72885151				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<h3 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:22.4px;font-family:'Microsoft YaHei';">
Flume Interceptors<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-interceptors" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h3>
<p style="text-align:justify;line-height:20.8px;font-family:'Microsoft YaHei';font-size:16px;">
Flume has the capability to modify/drop events in-flight. This is done with the help of interceptors. Interceptors are classes that implement <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.interceptor.Interceptor</span></tt> interface.
 An interceptor can modify or even drop events based on any criteria chosen by the developer of the interceptor. Flume supports chaining of interceptors. This is made possible through by specifying the list of interceptor builder class names in the configuration.
 Interceptors are specified as a whitespace separated list in the source configuration. The order in which the interceptors are specified is the order in which they are invoked. The list of events returned by one interceptor is passed to the next interceptor
 in the chain. Interceptors can modify or drop events. If an interceptor needs to drop events, it just does not return that event in the list that it returns. If it is to drop all events, then it simply returns an empty list. Interceptors are named components,
 here is an example of how they are created through configuration:</p>
<div class="highlight-properties" style="font-family:'Microsoft YaHei';font-size:16px;">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">r1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sinks</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">k1</span>
<span class="na" style="color:rgb(0,128,128);">a1.channels</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">c1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">i1 i2</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">org.apache.flume.interceptor.HostInterceptor$Builder</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.preserveExisting</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">false</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.hostHeader</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">hostname</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i2.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">org.apache.flume.interceptor.TimestampInterceptor$Builder</span>
<span class="na" style="color:rgb(0,128,128);">a1.sinks.k1.filePrefix</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">FlumeData.%{CollectorHost}.%Y-%m-%d</span>
<span class="na" style="color:rgb(0,128,128);">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">c1</span>
</pre>
</div>
</div>
<p style="text-align:justify;line-height:20.8px;font-family:'Microsoft YaHei';font-size:16px;">
Note that the interceptor builders are passed to the type config parameter. The interceptors are themselves configurable and can be passed configuration values just like they are passed to any other configurable component. In the above example, events are passed
 to the HostInterceptor first and the events returned by the HostInterceptor are then passed along to the TimestampInterceptor. You can specify either the fully qualified class name (FQCN) or the alias <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">timestamp</span></tt>.
 If you have multiple collectors writing to the same HDFS path, then you could also use the HostInterceptor.</p>
<div class="section" id="timestamp-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Timestamp Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#timestamp-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor inserts into the event headers, the time in millis at which it processes the event. This interceptor inserts a header with key <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">timestamp</span></tt> whose
 value is the relevant timestamp. This interceptor can preserve an existing timestamp if it is already present in the configuration.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">timestamp</span></tt> or the FQCN</td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
preserveExisting</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
false</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
If the timestamp already exists, should it be preserved - true or false</td>
</tr></tbody></table><p style="text-align:justify;line-height:20.8px;">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">r1</span>
<span class="na" style="color:rgb(0,128,128);">a1.channels</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">c1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold;">=</span>  <span class="s" style="color:rgb(187,136,68);">c1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">seq</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">i1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">timestamp</span>
</pre>
</div>
</div>
</div>
<div class="section" id="host-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Host Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#host-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor inserts the hostname or IP address of the host that this agent is running on. It inserts a header with key <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">host</span></tt> or
 a configured key whose value is the hostname or IP address of the host, based on configuration.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">host</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
preserveExisting</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
false</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
If the host header already exists, should it be preserved - true or false</td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
useIP</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
true</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Use the IP Address if true, else use hostname.</td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
hostHeader</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
host</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The header key to be used.</td>
</tr></tbody></table><p style="text-align:justify;line-height:20.8px;">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">r1</span>
<span class="na" style="color:rgb(0,128,128);">a1.channels</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">c1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">i1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">host</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.hostHeader</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">hostname</span>
</pre>
</div>
</div>
</div>
<div class="section" id="static-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Static Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#static-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">Static interceptor allows user to append a static header with static value to all events.</p>
<p style="text-align:justify;line-height:20.8px;">The current implementation does not allow specifying multiple headers at one time. Instead user might chain multiple static interceptors each defining one static header.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="16%"><col width="7%"><col width="77%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">static</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
preserveExisting</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
true</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
If configured header already exists, should it be preserved - true or false</td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
key</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
key</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Name of header that should be created</td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
value</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
value</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Static value that should be created</td>
</tr></tbody></table><p style="text-align:justify;line-height:20.8px;">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">r1</span>
<span class="na" style="color:rgb(0,128,128);">a1.channels</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">c1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold;">=</span>  <span class="s" style="color:rgb(187,136,68);">c1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">seq</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">i1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">static</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.key</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">datacenter</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.value</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">NEW_YORK</span>
</pre>
</div>
</div>
</div>
<div class="section" id="uuid-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
UUID Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#uuid-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor sets a universally unique identifier on all events that are intercepted. An example UUID is <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">b5755073-77a9-43c1-8fad-b7a586fc1b97</span></tt>,
 which represents a 128-bit value.</p>
<p style="text-align:justify;line-height:20.8px;">Consider using UUIDInterceptor to automatically assign a UUID to an event if no application level unique key for the event is available. It can be important to assign UUIDs to events as soon as they enter the
 Flume network; that is, in the first Flume Source of the flow. This enables subsequent deduplication of events in the face of replication and redelivery in a Flume network that is designed for high availability and high performance. If an application level
 key is available, this is preferable over an auto-generated UUID because it enables subsequent updates and deletes of event in data stores using said well known application level key.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="13%"><col width="6%"><col width="81%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.sink.solr.morphline.UUIDInterceptor$Builder</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
headerName</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
id</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The name of the Flume header to modify</td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
preserveExisting</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
true</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
If the UUID header already exists, should it be preserved - true or false</td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
prefix</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
“”</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The prefix string constant to prepend to each generated UUID</td>
</tr></tbody></table></div>
<div class="section" id="morphline-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Morphline Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#morphline-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor filters the events through a <a class="reference external" href="http://cloudera.github.io/cdk/docs/current/cdk-morphlines/index.html" rel="nofollow" style="color:rgb(53,95,124);">morphline
 configuration file</a> that defines a chain of transformation commands that pipe records from one command to another. For example the morphline can ignore certain events or alter or insert certain event headers via regular expression based pattern matching,
 or it can auto-detect and set a MIME type via Apache Tika on events that are intercepted. For example, this kind of packet sniffing can be used for content based dynamic routing in a Flume topology. MorphlineInterceptor can also help to implement dynamic routing
 to multiple Apache Solr collections (e.g. for multi-tenancy).</p>
<p style="text-align:justify;line-height:20.8px;">Currently, there is a restriction in that the morphline of an interceptor must not generate more than one output record for each input event. This interceptor is not intended for heavy duty ETL processing -
 if you need this consider moving ETL processing from the Flume Source to a Flume Sink, e.g. to a MorphlineSolrSink.</p>
<p style="text-align:justify;line-height:20.8px;">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="10%"><col width="4%"><col width="85%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.sink.solr.morphline.MorphlineInterceptor$Builder</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>morphlineFile</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The relative or absolute path on the local file system to the morphline configuration file. Example: <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">/etc/flume-ng/conf/morphline.conf</span></tt></td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
morphlineId</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
null</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Optional name used to identify a morphline if there are multiple morphlines in a morphline config file</td>
</tr></tbody></table><p style="text-align:justify;line-height:20.8px;">Sample flume.conf file:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">morphlineinterceptor</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.morphlineinterceptor.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">org.apache.flume.sink.solr.morphline.MorphlineInterceptor$Builder</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.morphlineinterceptor.morphlineFile</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">/etc/flume-ng/conf/morphline.conf</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.morphlineinterceptor.morphlineId</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">morphline1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="search-and-replace-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Search and Replace Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#search-and-replace-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor provides simple string-based search-and-replace functionality based on Java regular expressions. Backtracking / group capture is also available. This interceptor uses the same rules as in the
 Java Matcher.replaceAll() method.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">search_replace</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
searchPattern</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The pattern to search for and replace.</td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
replaceString</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The replacement string.</td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
charset</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
UTF-8</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The charset of the event body. Assumed by default to be UTF-8.</td>
</tr></tbody></table><p style="text-align:justify;line-height:20.8px;">Example configuration:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">search-replace</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.search-replace.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">search_replace</span>

<span class="c" style="color:rgb(153,153,136);font-style:italic;"># Remove leading alphanumeric characters in an event body.</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.search-replace.searchPattern</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">^[A-Za-z0-9_]+</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.search-replace.replaceString</span> <span class="o" style="font-weight:bold;">=</span>
</pre>
</div>
</div>
<p style="text-align:justify;line-height:20.8px;">Another example:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">search-replace</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.search-replace.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">search_replace</span>

<span class="c" style="color:rgb(153,153,136);font-style:italic;"># Use grouping operators to reorder and munge words on a line.</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.search-replace.searchPattern</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">The quick brown ([a-z]+) jumped over the lazy ([a-z]+)</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.avroSrc.interceptors.search-replace.replaceString</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">The hungry $2 ate the careless $1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="regex-filtering-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Regex Filtering Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#regex-filtering-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor filters events selectively by interpreting the event body as text and matching the text against a configured regular expression. The supplied regular expression can be used to include events
 or exclude events.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">regex_filter</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
regex</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
”.*”</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Regular expression for matching against events</td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
excludeEvents</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
false</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
If true, regex determines events to exclude, otherwise regex determines events to include.</td>
</tr></tbody></table></div>
<div class="section" id="regex-extractor-interceptor" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Regex Extractor Interceptor<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#regex-extractor-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">This interceptor extracts regex match groups using a specified regular expression and appends the match groups as headers on the event. It also supports pluggable serializers for formatting the match groups
 before adding them as event headers.</p>
<table border="1" class="docutils" style="border:0px;border-collapse:collapse;"><colgroup><col width="21%"><col width="6%"><col width="73%"></colgroup><thead valign="bottom"><tr class="row-odd"><th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Property Name</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Default</th>
<th class="head" style="text-align:left;background-color:rgb(238,221,238);border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Description</th>
</tr></thead><tbody valign="top"><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>type</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">regex_extractor</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>regex</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Regular expression for matching against events</td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
<strong>serializers</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Space-separated list of serializers for mapping matches to header names and serializing their values. (See example below) Flume provides built-in support for the following serializers:<tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorPassThroughSerializer</span></tt><tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorMillisSerializer</span></tt></td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
serializers.&lt;s1&gt;.type</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
default</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Must be <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">default</span></tt> (org.apache.flume.interceptor.RegexExtractorInterceptorPassThroughSerializer),<tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorMillisSerializer</span></tt>,
 or the FQCN of a custom class that implements <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorSerializer</span></tt></td>
</tr><tr class="row-even"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
serializers.&lt;s1&gt;.<strong>name</strong></td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
 </td>
</tr><tr class="row-odd"><td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
serializers.*</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
–</td>
<td style="border-width:0px 0px 1px;border-bottom-style:solid;border-bottom-color:rgb(170,170,170);">
Serializer-specific properties</td>
</tr></tbody></table><p style="text-align:justify;line-height:20.8px;">The serializers are used to map the matches to a header name and a formatted header value; by default, you only need to specify the header name and the default <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorPassThroughSerializer</span></tt> will
 be used. This serializer simply maps the matches to the specified header name and passes the value through as it was extracted by the regex. You can plug custom serializer implementations into the extractor using the fully qualified class name (FQCN) to format
 the matches in anyway you like.</p>
</div>
<div class="section" id="example-1" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Example 1:<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#example-1" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">If the Flume event body contained <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">1:2:3.4foobar5</span></tt> and the following configuration
 was used</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.regex</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">(\\d):(\\d):(\\d)</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">s1 s2 s3</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers.s1.name</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">one</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers.s2.name</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">two</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers.s3.name</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">three</span>
</pre>
</div>
</div>
<p style="text-align:justify;line-height:20.8px;">The extracted event will contain the same body but the following headers will have been added <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">one=&gt;1,</span> <span class="pre">two=&gt;2,</span> <span class="pre">three=&gt;3</span></tt></p>
</div>
<div class="section" id="example-2" style="font-family:'Microsoft YaHei';font-size:16px;">
<h4 style="background-color:rgb(242,242,242);font-weight:normal;border-bottom:1px solid rgb(204,204,204);font-size:19.2px;">
Example 2:<a class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#example-2" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15);visibility:hidden;font-size:.8em;"></a></h4>
<p style="text-align:justify;line-height:20.8px;">If the Flume event body contained <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">2012-10-18</span> <span class="pre">18:47:57,614</span> <span class="pre">some</span> <span class="pre">log</span> <span class="pre">line</span></tt> and
 the following configuration was used</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="background-color:rgb(238,255,204);color:rgb(51,51,51);line-height:15.6px;border-top:1px solid rgb(170,204,153);border-bottom:1px solid rgb(170,204,153);border-left:none;border-right:none;"><span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.regex</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">^(?:\\n)?(\\d\\d\\d\\d-\\d\\d-\\d\\d\\s\\d\\d:\\d\\d)</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">s1</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers.s1.type</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">org.apache.flume.interceptor.RegexExtractorInterceptorMillisSerializer</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers.s1.name</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">timestamp</span>
<span class="na" style="color:rgb(0,128,128);">a1.sources.r1.interceptors.i1.serializers.s1.pattern</span> <span class="o" style="font-weight:bold;">=</span> <span class="s" style="color:rgb(187,136,68);">yyyy-MM-dd HH:mm</span>
</pre>
</div>
</div>
<p style="text-align:justify;line-height:20.8px;">the extracted event will contain the same body but the following headers will have been added <tt class="docutils literal" style="background-color:rgb(236,240,243);font-size:.95em;"><span class="pre">timestamp=&gt;1350611220000</span></tt></p>
</div>
            </div>
                </div>