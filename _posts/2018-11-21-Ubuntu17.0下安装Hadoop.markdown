---
layout:     post
title:      Ubuntu17.0下安装Hadoop
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">
<span style="line-height:1.8;font-family:'宋体';">一、在</span>Ubuntu<span style="line-height:1.8;font-family:'宋体';">下创建</span>hadoop<span style="line-height:1.8;font-family:'宋体';">组和</span>hadoop<span style="line-height:1.8;font-family:'宋体';">用户</span></h2>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    增加hadoop用户组，同时在该组里增加hadoop用户<span style="line-height:1.8;font-family:'宋体';">，</span>后续在涉及到hadoop操作时，我们使用<span style="line-height:1.8;font-family:'宋体';">该</span>用户<span style="line-height:1.8;font-family:'宋体';">。</span></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">
<span style="line-height:1.8;font-family:'宋体';">1、创建</span>hadoop<span style="line-height:1.8;font-family:'宋体';">用户组</span></h3>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325537236804.png" alt="" align="left" style="border:0px;">        </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">
    2<span style="line-height:1.8;font-family:'宋体';">、创建</span>hadoop<span style="line-height:1.8;font-family:'宋体';">用户</span></h3>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    sudo adduser -ingroup hadoop hadoop</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    回车后会提示输入新的UNIX密码，这是新建用户hadoop的密码<span style="line-height:1.8;font-family:'宋体';">，</span>输入回车即可。</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    如果不输入密码，回车后会重新提示输入密码，即密码不能为空。</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    最后确认信息是否正确，如果没问题，输入 Y，回车即可。</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325547071504.png" alt="" align="left" style="border:0px;">    </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">
    3<span style="line-height:1.8;font-family:'宋体';">、为</span>hadoop<span style="line-height:1.8;font-family:'宋体';">用户添加权限</span></h3>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
     输入：sudo gedit /etc/sudoers</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
     回车，打开sudoers文件</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
     给hadoop用户赋予和root用户同样的权限</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325553952348.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
    <img src="http://images.cnitblog.com/blog/12097/201406/181325561927991.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">
二、用新增加的hadoop用户登录Ubuntu系统</h2>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">
三、安装ssh</h2>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
sudo apt-get install openssh-server</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325569737863.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
安装完成后，启动服务</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
sudo /etc/init.d/ssh start</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
查看服务是否正确启动：ps -e | grep ssh</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325580364821.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
设置免密码登录，生成私钥和公钥</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
ssh-keygen -t rsa -P ""</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325587709679.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
此时会在／home／hadoop/.ssh下生成两个文件：id_rsa和id_rsa.pub，前者为私钥，后者为公钥。</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
下面我们将公钥追加到authorized_keys中，它用户保存所有允许以当前用户身份登录到ssh客户端用户的公钥内容。</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325593481023.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
登录ssh</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
ssh localhost</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181325598014095.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
      </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
退出</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
exit</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
</p>
<h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">
四、安装Java环境</h2>
<h5 id="1首先搭建java环境" style="font-weight:100;line-height:1.3em;color:rgb(63,63,63);font-family:'microsoft yahei';">
1.首先搭建JAVA环境。</h5>
<p></p>
<p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
将下载的安装包解压到一个自己指定的目录。 <br><code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">tar -zxvf jdk-8u101-<a href="http://lib.csdn.net/base/linux" rel="nofollow" class="replace_word" title="Linux知识库" style="color:rgb(223,52,52);text-decoration:none;font-weight:bold;">Linux</a>-x64.tar.gz
 -C ~/software</code></p>
<p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
然后修改环境变量文件 <code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">sudo vi /etc/profile</code> ，在末尾添加：</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs bash has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-keyword" style="color:rgb(0,0,136);">export</span> JAVA_HOME=/home/hadoop/software/jdk1.<span class="hljs-number" style="color:rgb(0,102,102);">8.0</span>_101
<span class="hljs-keyword" style="color:rgb(0,0,136);">export</span> JRE_HOME=/home/hadoop/software/jdk1.<span class="hljs-number" style="color:rgb(0,102,102);">8.0</span>_101/jre
<span class="hljs-keyword" style="color:rgb(0,0,136);">export</span> PATH=<span class="hljs-variable" style="color:rgb(102,0,102);">$JAVA_HOME</span>/bin:<span class="hljs-variable" style="color:rgb(102,0,102);">$JAVA_HOME</span>/jre/bin:<span class="hljs-variable" style="color:rgb(102,0,102);">$PATH</span>
<span class="hljs-keyword" style="color:rgb(0,0,136);">export</span> CLASSPATH=<span class="hljs-variable" style="color:rgb(102,0,102);">$CLASSPATH</span>:.:<span class="hljs-variable" style="color:rgb(102,0,102);">$JAVA_HOME</span>/lib:<span class="hljs-variable" style="color:rgb(102,0,102);">$JAVA_HOME</span>/jre/lib</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
保存关闭后，<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">source /etc/profile</code>，使修改生效。 <br>
然后可以验证<a href="http://lib.csdn.net/base/java" rel="nofollow" class="replace_word" title="Java 知识库" style="color:rgb(223,52,52);text-decoration:none;font-weight:bold;">Java</a>是否生效，<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">java
 -version</code>。 <br><img src="https://dn-coding-net-production-pp.qbox.me/9abfa02d-4539-47b1-b1eb-c11dfb9c850b.png" alt="图片" title="" style="border:none;"> </p>
<h2 style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;line-height:1.5;font-size:21px;">
五、安装Scala环境</h2>
<p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
过程跟JAVA差不多。 <br>
就是修改profile有点区别：</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs bash has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-keyword" style="color:rgb(0,0,136);">export</span> SCALA_HOME=/home/hadoop/software/scala-<span class="hljs-number" style="color:rgb(0,102,102);">2.11</span>.<span class="hljs-number" style="color:rgb(0,102,102);">8</span>
<span class="hljs-keyword" style="color:rgb(0,0,136);">export</span> PATH=<span class="hljs-variable" style="color:rgb(102,0,102);">$PATH</span>:<span class="hljs-variable" style="color:rgb(102,0,102);">$SCALA_HOME</span>/bin</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
然后还是保存关闭后source一下，让它生效。 <br>
最后<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;"><a href="http://lib.csdn.net/base/scala" rel="nofollow" class="replace_word" title="Scala知识库" style="color:rgb(223,52,52);text-decoration:none;font-weight:bold;">Scala</a> -version</code>，看看版本。</p>
<h2 style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;line-height:1.5;font-size:21px;">
六、<span style="line-height:1.8;font-family:'宋体';">安装</span><span style="line-height:1.5;">hadoop2.7.3</span></h2>
<h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">
1<span style="line-height:1.8;font-family:'宋体';">、官网下载</span><span style="line-height:1.8;text-decoration:underline;">http://mirror.bit.edu.cn/apache/hadoop/common/</span></h3>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">
    2<span style="line-height:1.8;font-family:'宋体';">、安装</span></h3>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        解压</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        sudo tar -zxvf hadoop-2.7.3.tar.gz </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        假如我们要把hadoop安装到/usr/local下</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        拷贝到/usr/local/下，文件夹为hadoop</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        sudo mv hadoop-2.4.0 /usr/local/hadoop        </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181326023644310.png" alt="" align="left" style="border:0px;"></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
赋予用户对该文件夹的读写权限</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
        sudo chmod 774 /usr/local/hadoop</p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<img src="http://images.cnitblog.com/blog/12097/201406/181326027238353.png" alt="" align="left" style="border:0px;"></p>
<br><p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
<br></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:21px;">
</p>
<p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
进入hadoop配置目录，<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">~/software/hadoop-2.7.3/etc/hadoop</code>，在此目录中，我们需要配置几个文件。</p>
<ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>hadoop-env.sh</span>，在里面设置JAVA_HOME。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs ruby has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-comment" style="color:rgb(136,0,0);"># The java implementation to use.</span>
export <span class="hljs-constant">JAVA_HOME</span>=<span class="hljs-regexp" style="color:rgb(0,136,0);">/home/hadoop</span><span class="hljs-regexp" style="color:rgb(0,136,0);">/software/jdk</span>1.<span class="hljs-number" style="color:rgb(0,102,102);">8.0_101</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>yarn-env.sh</span>，在里面设置JAVA_HOME。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs ruby has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-comment" style="color:rgb(136,0,0);"># some Java parameters</span>
export <span class="hljs-constant">JAVA_HOME</span>=<span class="hljs-regexp" style="color:rgb(0,136,0);">/home/hadoop</span><span class="hljs-regexp" style="color:rgb(0,136,0);">/software/jdk</span>1.<span class="hljs-number" style="color:rgb(0,102,102);">8.0_101</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>slaves</span>，在这个文件里面加入作为slave的IP地址或者对应的hosts映射名字。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">slave1
slave2</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>core-site.xml</span>，右键编辑。注意到底下的目录，如果软件内没有tmp，则<span>自己创建</span>。由于markdown语法问题，以下&lt;符号后边都有一个空格，请自行删除。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs xml has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>fs.defaultFS<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>hdfs://master:9000/<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
         <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>hadoop.tmp.dir<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
         <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>file:/home/hadoop/software/hadoop-2.7.3/tmp<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
<span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>hdfs-site.xml</span>，右键编辑。注意到底下的目录，如果软件内没有/dfs/name以及/dfs/data，则<span>自己创建</span>。由于markdown语法问题，以下&lt;符号后边都有一个空格，请自行删除。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs xml has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>master:9001<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>dfs.namenode.name.dir<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>file:/home/hadoop/software/hadoop-2.7.3/dfs/name<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>dfs.datanode.data.dir<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>file:/home/hadoop/software/hadoop-2.7.3/dfs/data<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>dfs.replication<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>3<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
<span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>mapred-site.xml</span>，右键编辑。由于markdown语法问题，以下&lt;符号后边都有一个空格，请自行删除。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs xml has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>mapreduce.framework.name<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>yarn<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
<span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>yarn-site.xml</span>，右键编辑。由于markdown语法问题，以下&lt;符号后边都有一个空格，请自行删除。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs xml has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;"><span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>mapreduce_shuffle<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.nodemanager.aux-services.mapreduce.shuffle.class<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>org.apache.hadoop.mapred.ShuffleHandler<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.resourcemanager.address<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>master:8032<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.resourcemanager.scheduler.address<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>master:8030<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.resourcemanager.resource-tracker.address<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>master:8035<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.resourcemanager.admin.address<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>master:8033<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">name</span>&gt;</span>yarn.resourcemanager.webapp.address<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">name</span>&gt;</span>
        <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; <span class="hljs-attribute" style="color:rgb(102,0,102);">value</span>&gt;</span>master:8088<span class="hljs-tag" style="color:rgb(0,102,102);">&lt;/<span class="hljs-title" style="color:rgb(0,0,136);">value</span>&gt;</span>
    <span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">property</span>&gt;</span>
<span class="hljs-tag" style="color:rgb(0,102,102);">&lt; /<span class="hljs-attribute" style="color:rgb(102,0,102);">configuration</span>&gt;</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li><li>11</li><li>12</li><li>13</li><li>14</li><li>15</li><li>16</li><li>17</li><li>18</li><li>19</li><li>20</li><li>21</li><li>22</li><li>23</li><li>24</li><li>25</li><li>26</li><li>27</li><li>28</li><li>29</li><li>30</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
3 . 最后就可以将配置好的hadoop-2.7.3文件夹分发给所有slave了。</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs ruby has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">scp -r ~<span class="hljs-regexp" style="color:rgb(0,136,0);">/software/hadoop</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.7</span>.<span class="hljs-number" style="color:rgb(0,102,102);">3</span> hadoop<span class="hljs-variable" style="color:rgb(102,0,102);">@slave1</span><span class="hljs-symbol" style="color:rgb(0,102,102);">:~/software/</span>
scp -r ~<span class="hljs-regexp" style="color:rgb(0,136,0);">/software/hadoop</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.7</span>.<span class="hljs-number" style="color:rgb(0,102,102);">3</span> hadoop<span class="hljs-variable" style="color:rgb(102,0,102);">@slave2</span><span class="hljs-symbol" style="color:rgb(0,102,102);">:~/software/</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
4 . 启动hadoop。cd到hadoop主目录。然后先格式化namenode，然后再启动。</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs sql has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">bin/hadoop namenode -format
sbin/<span class="hljs-operator"><span class="hljs-keyword" style="color:rgb(0,0,136);">start</span>-<span class="hljs-keyword" style="color:rgb(0,0,136);">all</span>.sh</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
5 . 用jps命令查看hadoop进程。 <br>
在master上应该有：</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">3407 SecondaryNameNode
3218 NameNode
3552 ResourceManager
3910 Jps</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
在slave1与slave2上应该有：</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">2072 NodeManager
2213 Jps
1962 DataNode</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
并且，在master节点，浏览器输入 master：8088 能够访问hadoop管理界面，并看到slaves的存在。</p>
<h4 id="安装spark" style="font-weight:100;line-height:1.3em;color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;">
安装Spark</h4>
<p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
1 . 解压已经下载的Spark到到<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">~/software/</code>目录。 <br>
2 . 进入到Spark配置目录，<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">~/software/spark-2.0.0-bin-hadoop2.7/conf</code>，在此目录下，可以看到很多配置文件。但是很多文件都是以template结尾的，这是因为spark给我们提供的模板配置文件，我们可以拷贝一份，然后将<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">.template</code>给去掉，变成真正的配置文件后再编辑。</p>
<ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>spark-env.sh</span>，这个文件里可以配置各种spark的运行环境。我们配置几个基本的，可以根据自己机器的实际情况进行配置。添加一下代码到末尾。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs ruby has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">export <span class="hljs-constant">SCALA_HOME</span>=<span class="hljs-regexp" style="color:rgb(0,136,0);">/home/hadoop</span><span class="hljs-regexp" style="color:rgb(0,136,0);">/software/scala</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.11</span>.<span class="hljs-number" style="color:rgb(0,102,102);">8</span>
export <span class="hljs-constant">JAVA_HOME</span>=<span class="hljs-regexp" style="color:rgb(0,136,0);">/home/hadoop</span><span class="hljs-regexp" style="color:rgb(0,136,0);">/software/jdk</span>1.<span class="hljs-number" style="color:rgb(0,102,102);">8.0_101</span>
export <span class="hljs-constant">HADOOP_HOME</span>=<span class="hljs-regexp" style="color:rgb(0,136,0);">/home/hadoop</span><span class="hljs-regexp" style="color:rgb(0,136,0);">/software/hadoop</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.7</span>.<span class="hljs-number" style="color:rgb(0,102,102);">3</span>
export <span class="hljs-constant">HADOOP_CONF_DIR</span>=<span class="hljs-variable" style="color:rgb(102,0,102);">$HADOOP_HOME</span>/etc/hadoop
<span class="hljs-constant">SPARK_MASTER_IP</span>=master
<span class="hljs-constant">SPARK_LOCAL_DIRS</span>=<span class="hljs-regexp" style="color:rgb(0,136,0);">/home/hadoop</span><span class="hljs-regexp" style="color:rgb(0,136,0);">/software/spark</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.0</span>.<span class="hljs-number" style="color:rgb(0,102,102);">0</span>-bin-hadoop2.<span class="hljs-number" style="color:rgb(0,102,102);">7</span>
<span class="hljs-constant">SPARK_DRIVER_MEMORY</span>=<span class="hljs-number" style="color:rgb(0,102,102);">512</span>M</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li></ul><ul style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;"><li><span>slaves</span>，在这个文件里把slaves的hosts里的映射名添加进去。</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">slave1
slave2</code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
3 . 最后就可以将配置好的spark-2.0.0-bin-hadoop2.7文件夹分发给所有slave了。</p>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:1.45;color:rgb(51,51,51);border:0px solid rgb(136,136,136);background-color:rgba(128,128,128,.0470588);"><code class="hljs ruby has-numbering" style="display:block;color:inherit;font-family:'Source Code Pro', monospace;background:transparent;">scp -r ~<span class="hljs-regexp" style="color:rgb(0,136,0);">/software/spark</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.0</span>.<span class="hljs-number" style="color:rgb(0,102,102);">0</span>-bin-hadoop2.<span class="hljs-number" style="color:rgb(0,102,102);">7</span> hadoop<span class="hljs-variable" style="color:rgb(102,0,102);">@slave1</span><span class="hljs-symbol" style="color:rgb(0,102,102);">:~/software/</span>
scp -r ~<span class="hljs-regexp" style="color:rgb(0,136,0);">/software/spark</span>-<span class="hljs-number" style="color:rgb(0,102,102);">2.0</span>.<span class="hljs-number" style="color:rgb(0,102,102);">0</span>-bin-hadoop2.<span class="hljs-number" style="color:rgb(0,102,102);">7</span> hadoop<span class="hljs-variable" style="color:rgb(102,0,102);">@slave2</span><span class="hljs-symbol" style="color:rgb(0,102,102);">:~/software/</span></code></pre><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;opacity:0;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><ul class="pre-numbering" style="width:50px;border-right-width:1px;border-right-style:solid;border-right-color:rgb(221,221,221);list-style:none;text-align:right;background-color:rgb(238,238,238);"><li>1</li><li>2</li></ul><p style="color:rgb(63,63,63);font-family:'microsoft yahei';font-size:15px;line-height:26px;">
4 . 启动Spark，cd到spark主目录，然后<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">sbin/start-all.sh</code>。 <br>
5 . 如果启动成功，那么用jps命令可以看到： <br>
在master节点上有<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">7805 Master</code>进程， <br>
在slaves有<code style="font-family:'Source Code Pro', monospace;font-size:13.5px;">3759 Worker</code>进程。 <br>
同样的，在master节点，浏览器输入 master：8080 能够访问spark管理界面，并看到slaves的存在。</p>
<br>            </div>
                </div>