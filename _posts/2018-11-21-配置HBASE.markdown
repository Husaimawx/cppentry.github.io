---
layout:     post
title:      配置HBASE
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<pre style="color:rgb(51,51,51);font-size:14px;line-height:26px;"></pre><h2 class="title content-title" style="line-height:1.8;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">HBase的安装</h2><div id="content" class="content mod-cs-content text-content clearfix" style="font-family:'����', Arial, verdana;font-size:14px;color:rgb(51,51,51);line-height:21px;"><p style="text-indent:2em;">本篇介绍两种HBase的安装方式：本地安装方式和伪分布式安装方式。</p><p style="text-indent:2em;">安装的前提条件是已经成功安装了hadoop，而且hadoop的版本要和hbase的版本相匹配。</p><p style="text-indent:2em;">我将要安装的hbase是hbase-0.94.11版本，需要的hadoop是hadoop-1.2.1版本。</p><p style="text-indent:2em;">hbase下载地址：<a href="http://mirror.bit.edu.cn/apache/hbase/hbase-0.94.11/" rel="nofollow" style="text-decoration:none;color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;">http://mirror.bit.edu.cn/apache/hbase/hbase-0.94.11/</a></p><p style="text-indent:2em;">将下载的hbase-0.94.11解压到相应的目录，如/usr/hbase-0.94.11</p><p style="text-indent:2em;">将hbase-0.90.4重命名为hbase</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">mv hbase-<span style="line-height:1.8;color:rgb(128,0,128);">0.94</span>.<span style="line-height:1.8;color:rgb(128,0,128);">11</span> hbase</pre></div><p style="text-indent:2em;">首先需要将hbase下的bin目录添加到系统的path中，修改/etc/profile,添加如下的内容：</p><p style="text-indent:2em;">export  PATH=$PATH:/usr/hbase/bin</p><p style="text-indent:2em;"> </p><p style="text-indent:2em;"><span>1.单机安装</span>　　修改hbase下的conf目录下的配置文件hbase-env.sh</p><p style="text-indent:2em;">首先，修改hbase-env.sh中的如下属性：</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">export JAVA_HOME=/usr/java/jdk1.<span style="line-height:1.8;color:rgb(128,0,128);">6</span><span style="line-height:1.8;">

export HBASE_MANAGES_ZK</span>=<span style="line-height:1.8;color:rgb(0,0,255);">true</span>  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">此配置信息，设置由hbase自己管理zookeeper，不需要单独的zookeeper。</span></pre></div><p style="text-indent:2em;"><br><br><span>2.伪分布式安装</span>　　修改hbase-0.90.4下的conf目录下的配置文件hbase-env.sh和hbase-site.xml</p><p style="text-indent:2em;">首先，修改hbase-env.sh中的如下属性：</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">export JAVA_HOME=/usr/java/jdk1.<span style="line-height:1.8;color:rgb(128,0,128);">6</span><span style="line-height:1.8;"> 

export HBASE_CLASSPATH</span>=/usr/hadoop/<span style="line-height:1.8;">conf 

export HBASE_MANAGES_ZK</span>=<span style="line-height:1.8;color:rgb(0,0,255);">true</span></pre></div><p style="text-indent:2em;"> </p><p style="text-indent:2em;"><br>然后，修改hbase-site.xml文件</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">configuration</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">property</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
      <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>hbase.rootdir<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
     <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">value</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>hdfs://192.168.70.130:9000/hbase<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">value</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> &gt;//此属性要根据自己的hadoop的配置信息进行相应的修改
    <span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">property</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">property</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
        <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>hbase.cluster.distributed<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
        <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">value</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>true<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">value</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">property</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>

<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">configuration</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="text-indent:2em;"><br><br><br>完成以上操作，就可以正常启动Hbase了，启动顺序：先启动Hadoop——&gt;再启动Hbase，关闭顺序：先关闭Hbase——&gt;再关闭Hadoop。</p><p style="text-indent:2em;"><br> </p><p style="text-indent:2em;"><br>首先启动hadoop，(<span style="line-height:1.8;color:rgb(255,0,0);">如果hadoop已经正常启动可以不再启动，直接查看进程是否正确，如果进程不正确，那么必须重新调试hadoop确保hadoop正常运行后再启动hbase</span>)</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">start-all.sh    <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">启动hadoop</span>
jps                <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">查看进程</span></pre></div><p style="text-indent:2em;"> </p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="line-height:1.8;color:rgb(128,0,128);"><br>2564</span><span style="line-height:1.8;"> SecondaryNameNode 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2391</span><span style="line-height:1.8;"> DataNode
</span><span style="line-height:1.8;color:rgb(128,0,128);">2808</span><span style="line-height:1.8;"> TaskTracker 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2645</span><span style="line-height:1.8;"> JobTracker 
</span><span style="line-height:1.8;color:rgb(128,0,128);">4581</span><span style="line-height:1.8;"> Jps 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2198</span> NameNode</pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="text-indent:2em;"> </p><p style="text-indent:2em;"><span style="line-height:1.8;color:rgb(0,128,0);">启动hbase:</span></p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">start-hbase.sh    </pre></div><p style="text-indent:2em;"> </p><p style="text-indent:2em;">jps 查看：</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="line-height:1.8;color:rgb(128,0,128);">2564</span><span style="line-height:1.8;"> SecondaryNameNode 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2391</span><span style="line-height:1.8;"> DataNode 
</span><span style="line-height:1.8;color:rgb(128,0,128);">4767</span><span style="line-height:1.8;"> HQuorumPeer 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2808</span><span style="line-height:1.8;"> TaskTracker 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2645</span><span style="line-height:1.8;"> JobTracker 
</span><span style="line-height:1.8;color:rgb(128,0,128);">5118</span><span style="line-height:1.8;"> Jps 
</span><span style="line-height:1.8;color:rgb(128,0,128);">4998</span><span style="line-height:1.8;"> HRegionServer 
</span><span style="line-height:1.8;color:rgb(128,0,128);">4821</span><span style="line-height:1.8;"> HMaster 
</span><span style="line-height:1.8;color:rgb(128,0,128);">2198</span> NameNode</pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="color:rgb(7,81,154);border:none;font-family:Arial, '����', Verdana;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="text-indent:2em;">可以看到，HBase的相关进程已经启动了</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">hbase shell </pre></div><p style="text-indent:2em;">     </p><p style="text-indent:2em;">进入shell模式</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">HBase Shell; enter <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">help&lt;RETURN&gt;</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span> <span style="line-height:1.8;color:rgb(0,0,255);">for</span><span style="line-height:1.8;"> list of supported commands.
Type </span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">exit&lt;RETURN&gt;</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;"> to leave the HBase Shell
Version </span><span style="line-height:1.8;color:rgb(128,0,128);">0.94</span>.<span style="line-height:1.8;color:rgb(128,0,128);">12</span>, r1524863, Fri Sep <span style="line-height:1.8;color:rgb(128,0,128);">20</span> <span style="line-height:1.8;color:rgb(128,0,128);">00</span>:<span style="line-height:1.8;color:rgb(128,0,128);">25</span>:<span style="line-height:1.8;color:rgb(128,0,128);">45</span> UTC <span style="line-height:1.8;color:rgb(128,0,128);">2013</span><span style="line-height:1.8;">

hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">001</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; </pre></div><p style="text-indent:2em;"><br><br>停止hbase 如果在操作Hbase的过程中发生错误，可以通过hbase安装主目录下的logs子目录查看错误原因</p><p style="text-indent:2em;">先停止hbase</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">stop-hbase.sh</pre></div><p style="text-indent:2em;">再停止hadoop</p><div class="cnblogs_code" style="border:1px solid rgb(204,204,204);overflow:auto;color:rgb(0,0,0);font-family:'Courier New' !important;font-size:12px !important;background-color:rgb(245,245,245);"><pre style="font-family:'Courier New' !important;">stop-all.sh</pre></div></div>转自 http://www.cnblogs.com/mbailing/p/3363972.html
            </div>
                </div>