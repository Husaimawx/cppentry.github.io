---
layout:     post
title:      在Ubuntu14.04下安装Hadoop2.4.0 （单机模式）
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <div class="iteye-blog-content-contain" style="font-size:14px;">
<p> </p>
<div id="sina_keyword_ad_area2" class="articalContent newfont_family">
<h2 style="border:0px;">
<span style="line-height:31.5px;font-family:'宋体';">一、配置</span>core-site.xml</h2>
<p style="border:0px;line-height:21px;">    /usr/local/hadoop/etc/hadoop/core-site.xml 包含了hadoop启动时的配置信息。</p>
<p style="border:0px;line-height:21px;">    编辑器中打开此文件</p>
<p style="border:0px;line-height:21px;">    sudo gedit /usr/local/hadoop/etc/hadoop/core-site.xml</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129065672565.png" alt="" name="image_operate_551417606175741" align="left">     </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    在该文件的之间增加如下内容：</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        fs.default.name</p>
<p style="border:0px;line-height:21px;">        hdfs://localhost:9000</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    保存、关闭编辑窗口。</p>
<p style="border:0px;line-height:21px;">    最终修改后的文件内容如下：</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129071926922.png" alt="" name="image_operate_47851417606185332" align="left">    </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">      </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;">
<span style="line-height:31.5px;font-family:'宋体';">二、配置</span>yarn-site.xml</h2>
<p style="border:0px;line-height:21px;">    /usr/local/hadoop/etc/hadoop/yarn-site.xml包含了MapReduce启动时的配置信息。</p>
<p style="border:0px;line-height:21px;">    编辑器中打开此文件</p>
<p style="border:0px;line-height:21px;">    sudo gedit yarn-site.xml</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129078172280.png" alt="" name="image_operate_86601417606218084" align="left">   </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">在该文件的之间增加如下内容：</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        yarn.nodemanager.aux-services</p>
<p style="border:0px;line-height:21px;">        mapreduce_shuffle</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        yarn.nodemanager.aux-services.mapreduce.shuffle.class</p>
<p style="border:0px;line-height:21px;">        org.apache.hadoop.mapred.ShuffleHandler</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    保存、关闭编辑窗口</p>
<p style="border:0px;line-height:21px;">    最终修改后的文件内容如下</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129082548581.png" alt="" name="image_operate_50321417606230434" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
 
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;">
<span style="line-height:31.5px;font-family:'宋体';">三、创建和配置</span>mapred-site.xml</h2>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    默认情况下，/usr/local/hadoop/etc/hadoop/文件夹下有mapred.xml.template文件，我们要复制该文件，并命名为mapred.xml，该文件用于指定MapReduce使用的框架。</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    复制并重命名</p>
<p style="border:0px;line-height:21px;">    cp mapred-site.xml.template mapred-site.xml</p>
<p style="border:0px;line-height:21px;">    编辑器打开此新建文件</p>
<p style="border:0px;line-height:21px;">    sudo gedit mapred-site.xml</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129085517138.png" alt="" name="image_operate_83661417606252139" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">  </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">在该文件的之间增加如下内容：</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        mapreduce.framework.name</p>
<p style="border:0px;line-height:21px;">        yarn</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    保存、关闭编辑窗口    </p>
<p style="border:0px;line-height:21px;">    最终修改后的文件内容如下</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129091928266.png" alt="" name="image_operate_20841417606274971" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">   </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;">
<span style="line-height:31.5px;font-family:'宋体';">四、配置</span>hdfs-site.xml</h2>
<p style="border:0px;line-height:21px;">    /usr/local/hadoop/etc/hadoop/hdfs-site.xml用来配置集群中每台主机都可用，指定主机上作为namenode和datanode的目录。</p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    创建文件夹，如下图所示</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129102232682.png" alt="" name="image_operate_84461417606294066" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">   </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">   </p>
<p style="border:0px;line-height:21px;">你也可以在别的路径下创建上图的文件夹，名称也可以与上图不同，但是需要和hdfs-site.xml中的配置一致。</p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    编辑器打开hdfs-site.xml</p>
<p style="border:0px;line-height:21px;">    在该文件的之间增加如下内容：</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        dfs.replication</p>
<p style="border:0px;line-height:21px;">        1</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        dfs.namenode.name.dir</p>
<p style="border:0px;line-height:21px;">        file:/usr/local/hadoop/hdfs/name</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">        dfs.datanode.data.dir</p>
<p style="border:0px;line-height:21px;">        file:/usr/local/hadoop/hdfs/data</p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    保存、关闭编辑窗口</p>
<p style="border:0px;line-height:21px;">    最终修改后的文件内容如下：    </p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129109426068.png" alt="" name="image_operate_74231417606313672" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;"> </h2>
<h2 style="border:0px;">
<span style="line-height:31.5px;font-family:'宋体';">五、格式化</span>hdfs</h2>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    hdfs namenode -format    </p>
<p style="border:0px;line-height:21px;">    只需要执行一次即可，如果在hadoop已经使用后再次执行，会清除掉hdfs上的所有数据。</p>
<h2 style="border:0px;">
<span style="line-height:31.5px;font-family:'宋体';">六、启动</span>Hadoop</h2>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    经过上文所描述配置和操作后，下面就可以启动这个单节点的集群    </p>
<p style="border:0px;line-height:21px;">    执行启动命令：</p>
<p style="border:0px;line-height:21px;">    sbin/start-dfs.sh    </p>
<p style="border:0px;line-height:21px;">    执行该命令时，如果有yes /no提示，输入yes，回车即可。    </p>
<p style="border:0px;line-height:21px;">    接下来，执行：</p>
<p style="border:0px;line-height:21px;">    sbin/start-yarn.sh    </p>
<p style="border:0px;line-height:21px;">    执行完这两个命令后，Hadoop会启动并运行    </p>
<p style="border:0px;line-height:21px;">    执行 jps命令，会看到Hadoop相关的进程，如下图：</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129114898168.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;">      </p>
<p style="border:0px;line-height:21px;">      </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">浏览器打开 http://localhost:50070/，会看到hdfs管理页面</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129120361268.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">浏览器打开http://localhost:8088，会看到hadoop进程管理页面</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129127706126.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<h2 style="border:0px;">七、WordCount<span style="line-height:31.5px;font-family:'宋体';">验证</span>
</h2>
<p style="border:0px;line-height:21px;">    dfs上创建input目录</p>
<p style="border:0px;line-height:21px;">    bin/hadoop fs -mkdir -p input</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129130674684.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;">把hadoop目录下的README.txt拷贝到dfs新建的input里</p>
<p style="border:0px;line-height:21px;">    hadoop fs -copyFromLocal README.txt input</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129132704213.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">    运行WordCount</p>
<p style="border:0px;line-height:21px;">    hadoop jar share/hadoop/mapreduce/sources/hadoop-mapreduce-examples-2.4.0-sources.jar org.apache.hadoop.examples.WordCount input output</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129134733742.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;">    </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">可以看到执行过程</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129142235371.png" alt="" align="left"></p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;"> </p>
<p style="border:0px;line-height:21px;">运行完毕后，查看<span style="line-height:21px;font-family:'宋体';">单词</span>统计结果</p>
<p style="border:0px;line-height:21px;">    hadoop fs -cat output/*</p>
<p style="border:0px;line-height:21px;"><img style="border:0px;" title="转：ubuntu安装hadoop伪集群模式" src="http://images.cnitblog.com/blog/12097/201406/191129155043329.png" alt="" align="left"></p>
</div>
</div>            </div>
                </div>