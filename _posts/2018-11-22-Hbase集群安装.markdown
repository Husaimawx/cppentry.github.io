---
layout:     post
title:      Hbase集群安装
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<p><span style="font-size:14px;">参考 http://blog.csdn.net/zhi_fu/article/details/73929896 安装Hadoop</span></p>
<p><span style="font-size:14px;"><br></span></p>
<p></p>
<h3 style="font-family:Arial;line-height:26px;"><span style="font-family:SimSun;"><span style="font-size:14px;">安装Hbase</span></span></h3>
<p></p>
<p style="font-family:Arial;line-height:26px;">
<span style="font-family:SimSun;"><span style="font-size:14px;">1.下载hbase版本</span></span></p>
<p style="font-family:Arial;line-height:26px;">
<span style="font-family:SimSun;"><span style="font-size:14px;">    下载地址：<a href="http://www.apache.org/dyn/closer.cgi/hbase/" rel="nofollow" style="text-decoration:none;">http://www.apache.org/dyn/closer.cgi/hbase/</a>，在此路径下选择相应的版本下载，本次安装下载hadoop1.0.0版本</span></span></p>
<p style="font-family:Arial;line-height:26px;">
<span style="font-family:SimSun;"><span style="font-size:14px;">2.解压hbase-1.0.0-bin.tar.gz</span></span></p>
<p style="font-family:Arial;line-height:26px;">
<span style="font-family:SimSun;"><span style="font-size:14px;">    tar zxvf hbase-1.0.0-bin.tar.gz –C/home/hadoop/thirdparty/</span></span></p>
<p style="font-family:Arial;line-height:26px;">
<span style="font-family:SimSun;"><span style="font-size:14px;">3.将hbase添加到环境变量中</span></span></p>
<p style="font-family:Arial;line-height:26px;">
<span style="font-family:SimSun;"><span style="font-size:14px;">    export HBASE_HOME=/home/hadoop/thirdparty/hbase-1.0.0<br>
    export PATH=$HBASE_HOME/bin:$PATH<br></span></span></p>
<span style="font-size:14px;"><span style="font-family:Arial;line-height:26px;">4.HBase配置</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">4.1 cong/hbase-env.sh配置文件</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">至少设置以下环境变量</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">export JAVA_HOME=/PATH/TO/JDK_HOME</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">4.2 conf/hbase-site.xml配置文件</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">&lt;configuration&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;name&gt;dfs.support.append&lt;/name&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;value&gt;true&lt;/value&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;description&gt;确保再使用HDFS存储时，不出现数据遗失&lt;/description&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;/property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;name&gt;hbase.rootdir&lt;/name&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;value&gt;hdfs://master:9000/hbase&lt;/value&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;description&gt;hbase的存储根路径&lt;/description&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;/property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;value&gt;true&lt;/value&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;description&gt;是否采用集群方式部署&lt;/description&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;/property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;value&gt;Slave1&lt;/value&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;description&gt;zookeeper的server地址，多台机器用逗号隔开&lt;/description&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;/property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;value&gt;/home/hadoop/zookeeper&lt;/value&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">              &lt;description&gt;zookeeper的数据存储目录&lt;/description&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       &lt;/property&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">&lt;/configuration&gt;</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">注：zookeeper默认由hbase集成的方式部署，如果要想独立部署，需要在hbase-env.sh文件中，将HBASE_MANAGES_ZK设置成false</span><br></span>
<p><span style="font-family:Arial;line-height:26px;"><span style="font-size:14px;"><span style="font-family:Arial;line-height:26px;">4.3 conf/regionservers配置文件</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">配置RegionServer机器，类似于Hadoop中的slaves配置文件，添加相应的机器ip，这里为</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">192.168.1.102</span><br></span></span></p>
<p><span style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;"><span style="font-size:14px;">4.4 拷贝HBASE到其他节点</span></span></span></p>
<p><span style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;"><span style="font-size:14px;">5.<span style="font-family:Arial;line-height:26px;">启动集群环境</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">1.首先启动hadoop的hdfs子进程，在${HADOOP_HOME}目录下</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">      </span><span style="font-family:Arial;line-height:26px;"> bin/start-dfs.sh</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">hadoop的其他进程暂不需要</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">2.启动Hbase，在${HBASE_HOME}目录下</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">      </span><span style="font-family:Arial;line-height:26px;"> bin/start-hbase.sh</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">3.判断是否启动成功</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       http://master:60010        查看MasteServer界面</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">       http://slave:60030          查看RegionServer界面</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">4.停止Hbase</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">      </span><span style="font-family:Arial;line-height:26px;"> bin/stop-hbase.sh</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">5.停止hadoop</span><br style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;">      </span><span style="font-family:Arial;line-height:26px;"> bin/stop-dfs.sh</span></span></span></span></p>
<p><span style="font-family:Arial;line-height:26px;"><span style="font-family:Arial;line-height:26px;"><span style="font-size:14px;"><br></span></span></span></p>
<p><span style="font-family:Arial;font-size:14px;line-height:26px;"><span style="font-family:Arial;font-size:14px;line-height:26px;"><br></span></span></p>
            </div>
                </div>