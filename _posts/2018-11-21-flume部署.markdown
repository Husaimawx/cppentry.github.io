---
layout:     post
title:      flume部署
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/l735697258/article/details/80067396				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p>先来了解一下flume</p><p></p><dl class="lemmaWgt-lemmaTitle lemmaWgt-lemmaTitle-" style="margin:0px 0px 10px;padding:0px;width:700px;font-family:arial, tahoma, 'Microsoft Yahei', '宋体', sans-serif;color:rgb(51,51,51);font-size:12px;background-color:rgb(255,255,255);"><dd class="lemmaWgt-lemmaTitle-title" style="margin-bottom:5px;margin-left:0px;padding:0px;"><h1 style="margin-top:0px;margin-right:10px;margin-bottom:0px;padding:0px;font-size:34px;color:rgb(51,51,51);line-height:1.15;font-weight:400;vertical-align:sub;">flume</h1> <h2 style="margin:0px 10px 0px -10px;padding:0px;font-size:20px;color:rgb(51,51,51);font-weight:400;vertical-align:sub;">（日志收集系统）</h2> <a class="edit-lemma cmn-btn-hover-blue cmn-btn-28 j-edit-link" style="color:rgb(102,102,102);border:1px solid rgb(197,197,197);text-align:center;line-height:14px;padding:6px 0px;margin:0px 5px 0px 0px;width:60px;height:14px;"><span class="cmn-icon wiki-lemma-icons wiki-lemma-icons_edit-lemma" style="font-family:'baikeFont_layout';line-height:12px;margin:0px 7px 0px 0px;vertical-align:text-top;color:rgb(82,163,245);"></span>编辑</a></dd></dl><div class="lemma-summary" style="clear:both;font-size:14px;color:rgb(51,51,51);margin-bottom:15px;text-indent:2em;line-height:24px;font-family:arial, '宋体', sans-serif;background-color:rgb(255,255,255);"><div class="para" style="margin-bottom:15px;text-indent:2em;line-height:24px;">Flume是Cloudera提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，Flume支持在日志系统中定制各类数据发送方，用于收集数据；同时，Flume提供对数据进行简单处理，并写到各种数据接受方（可定制）的能力。</div></div><p>接下来开始下载<span style="background-color:rgb(255,255,255);">  Flume版本： </span><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">apache-flume-1.8.0-bin.tar.gz</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">1 首先解压缩我们下载的flume到opt下</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/20180424171308316?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">2 进入到opt目录下我们解压好的flume文件中的conf里创建一个文件叫做a1.conf，然后进入这个文件输入内容</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">3.定义sinks，channels，sources</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/20180424172804321?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">4 启动agent 复制这串代码  <span style="color:rgb(255,102,102);background-color:rgb(255,255,255);">./bin/flume-ng agent -c conf -f conf/a1.conf -n a1 -Dflume.root.logger=INFO,console然后回车</span></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><span style="color:rgb(255,102,102);background-color:rgb(255,255,255);">5 之后启动一个新的窗口输入telnet 主机名 44444 就可以连接上 这样你输入的内容在另一个页面就可以接收到</span></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><span style="color:rgb(255,102,102);background-color:rgb(255,255,255);"><img src="https://img-blog.csdn.net/20180424181041741?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><span style="color:rgb(255,102,102);background-color:rgb(255,255,255);">6 刚才是监控网络 下面是监控文件的操作</span></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><span style="color:rgb(255,102,102);background-color:rgb(255,255,255);">   首先在新的窗口创建一个测试目录a1.test</span></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><span style="color:rgb(255,102,102);background-color:rgb(255,255,255);"><br></span></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/20180424182258574?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">之后修改我们刚才的a1.conf文件</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/20180424182527378?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">然后重新启动我们的agent 还是刚才那个变态长的命令。</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">然后我们往我们新建的测试目录中随意添加一些内容 </span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/20180424182807895?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">由于我们刚才监控了这个文件 所以当这个文件添加了内容后 就会被收走</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/20180424182903986?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">7 最后学习监控目录</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">首先我们先创建一个目录用于测试</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);">依旧修改我们的a1.conf文件</span></p><p><span style="margin:0px;padding:0px;background-color:rgb(255,255,255);color:rgb(255,102,102);"><img src="https://img-blog.csdn.net/2018042418362130?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></p><p>之后启动</p><p>然后我们将刚才创建的a1.test文件放在a1_test目录中 我们就可以收集到a1.text里面的整体内容</p><p><img src="https://img-blog.csdn.net/20180424183839951?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><img src="https://img-blog.csdn.net/20180424183947285?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2w3MzU2OTcyNTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p><br></p><p><br></p><p><br></p>            </div>
                </div>