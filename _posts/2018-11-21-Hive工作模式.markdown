---
layout:     post
title:      Hive工作模式
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/BabyFish13/article/details/79152957				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<strong><span style="font-size:24px;">hive非交互模式<br></span></strong><span style="font-size:18px;"><strong>1、可以将hive执行的sql语句保存到脚本文件中，通过-f选项指定脚本文件执行hive<br></strong></span>eg:hive -f script.sql<br><span style="font-size:18px;"><strong>2、对于较短的sql语句，可以直接使用-e选项运行hive<br></strong></span>eg:hive -e 'select * from table a'<br><span style="font-size:18px;"><strong>3、-S选项<br></strong></span>hive执行过程中，会在终端上显示mapreduce的进度。如果不想显示进度，可以使用-S选项。<br>
这个静音模式很实用，,通过第三方程序调用，第三方程序通过hive的标准输出获取结果集。<br>
eg:$HIVE_HOME/bin/hive -S -e 'select a.col from tab1 a' &gt; tab1.csv<br><br><span style="font-size:24px;"><strong>hive交互模式<br></strong></span><strong><span style="color:#006600;">当$HIVE_HOME/bin/hive执行时，没有-e或者-f选项，会进入交互式shell模式。<br></span><span style="font-size:18px;">命令<span> </span>描述<br></span></strong><span style="color:#cc6600;">quit </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">退出交互式shell</span><br><span style="color:#cc6600;">exit </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">退出交互式shell</span><br><span style="color:#cc6600;">reset </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">重置配置为默认值</span><br><span style="color:#cc6600;">set &lt;key&gt;=&lt;value&gt; </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">修改特定变量的值</span><br><span style="color:#ff0000;"><strong>注意:如果变量名拼写错误，不会报错<br></strong></span><span style="color:#cc6600;">set </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">输出用户覆盖的hive配置变量</span><br><span style="color:#ff0000;">set -v<span> </span>输出所有Hadoop和Hive的配置变量<br></span><span style="color:#cc6600;">add FILE[S] &lt;filepath&gt; &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">添加 一个或多个 file, jar, archives到分布式缓存</span><br><span style="color:#cc6600;">add JAR[S] &lt;filepath&gt; &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">添加 一个或多个 file, jar, archives到分布式缓存</span><br><span style="color:#cc6600;">add ARCHIVE[S] &lt;filepath&gt; &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">添加 一个或多个 file, jar, archives到分布式缓存</span><br><span style="color:#ff0000;">list FILE[S]<span> </span>输出已经添加到分布式缓存的资源<br>
list JAR[S]<span> </span>输出已经添加到分布式缓存的资源<br>
list ARCHIVE[S]<span> </span>输出已经添加到分布式缓存的资源</span><br><span style="color:#cc6600;">list FILE[S] &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">检查给定的资源是否添加到分布式缓存</span><br><span style="color:#cc6600;">list JAR[S] &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">检查给定的资源是否添加到分布式缓存</span><br><span style="color:#cc6600;">list ARCHIVE[S] &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">检查给定的资源是否添加到分布式缓存</span><br><span style="color:#cc6600;">delete FILE[S] &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">从分布式缓存删除指定的资源</span><br><span style="color:#cc6600;">delete JAR[S] &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">从分布式缓存删除指定的资源</span><br><span style="color:#cc6600;">delete ARCHIVE[S] &lt;filepath&gt;* </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">从分布式缓存删除指定的资源</span><br><span style="color:#ff0000;">! &lt;command&gt;<span> </span>从Hive shell执行一个shell命令<br>
dfs &lt;dfs command&gt;<span> </span>从Hive shell执行一个dfs命令</span><br><span style="color:#cc6600;">&lt;query string&gt; </span><span style="color:rgb(204,102,0);"></span><span style="color:#cc6600;">执行一个Hive 查询，然后输出结果到标准输出</span><br><span style="color:#ff0000;">source FILE &lt;filepath&gt;<span> </span>
在CLI里执行一个hive脚本文件</span>
            </div>
                </div>