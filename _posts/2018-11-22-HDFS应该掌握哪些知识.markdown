---
layout:     post
title:      HDFS应该掌握哪些知识
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
 Hdfs(<span style="font-family:'宋体';">分布式文件系统</span><span style="font-family:'Times New Roman';">)</span><span style="font-family:'宋体';">是</span><span style="font-family:'Times New Roman';">hadoop</span><span style="font-family:'宋体';">的两大核心</span><span style="font-family:'Times New Roman';">(hdfs</span><span style="font-family:'宋体';">和</span><span style="font-family:'Times New Roman';">mapreduce)</span><span style="font-family:'宋体';">之一，</span><span style="font-family:'Times New Roman';">hdfs</span><span style="font-family:'宋体';">又是</span><span style="font-family:'Times New Roman';">mapreduce</span><span style="font-family:'宋体';">运算的数据存放地，因此</span><span style="font-family:'Times New Roman';">hdfs</span><span style="font-family:'宋体';">是</span><span style="font-family:'Times New Roman';">hadoop</span><span style="font-family:'宋体';">的根基。没有</span><span style="font-family:'Times New Roman';">hdfs</span><span style="font-family:'宋体';">，就没有</span><span style="font-family:'Times New Roman';">hadoop</span><span style="font-family:'宋体';">。</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    Hdfs<span style="font-family:'宋体';">是一个分布式文件系统，作用就是用来存放数据的。大家想一想，对于存放数据的文件系统，我们应该怎么学习，掌握哪些知识哪？</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    首先我们应该知道是如何存放的吧，<span style="font-family:'Times New Roman';">hadoop</span><span style="font-family:'宋体';">是通过</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">存放数据的。那么一个文件存放在哪些</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">上，文件多大，这些信息在哪里？是</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">。可以看出，</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">是管理</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">的。真正存放数据的地方是</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">，管理文件与这些</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">之间的映射关系的是</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">。这就是核心，就这么简单。</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    那么，<span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">在磁盘存放数据的基本单位是什么哪？块。一个块默认是</span><span style="font-family:'Times New Roman';">64MB</span><span style="font-family:'宋体';">。</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    既然是分布式存放数据，那么就需要考虑<span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">节点所在机器的故障，因此需要对数据冗余备份，也就是要设置存放的数据的副本数。可以想象到：副本数肯定小于等于</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">数量。</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    假设数据有<span style="font-family:'Times New Roman';">3</span><span style="font-family:'宋体';">份副本，也就是说</span><span style="font-family:'Times New Roman';">2</span><span style="font-family:'宋体';">个存放数据的</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">坏掉，不会影响数据的安全性，还有一份可以用。想过吗，管理这些</span><span style="font-family:'Times New Roman';">DataNode</span><span style="font-family:'宋体';">的</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">坏掉怎么办？没办法。这里的</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">是单点的，一旦</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">坏掉，</span><span style="font-family:'Times New Roman';">hdfs</span><span style="font-family:'宋体';">就不能用了。因此，必须备份</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">的数据，防止系统</span><span style="font-family:'Times New Roman';">down</span><span style="font-family:'宋体';">掉，这就是</span><span style="font-family:'Times New Roman';">SecondaryNameNode</span><span style="font-family:'宋体';">的职责。</span><span style="font-family:'Times New Roman';">SecondaryNameNode</span><span style="font-family:'宋体';">的作用就是备份</span><span style="font-family:'Times New Roman';">NameNode</span><span style="font-family:'宋体';">。目前不能实时备份。不过，有胜于无嘛。</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    以上谈的都是原理性的东西。对于我们程序员，最关心的是如何访问、操作这些数据。这就是<span style="font-family:'Times New Roman';">hdfs</span><span style="font-family:'宋体';">公布的对外访问方式，包括</span><span style="font-family:'Times New Roman';">java</span><span style="font-family:'宋体';">访问方式和</span><span style="font-family:'Times New Roman';">shell</span><span style="font-family:'宋体';">访问方式。这两种访问方式都是非常重要的，必须熟练掌握。</span></div>
<br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><br style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;"><div align="left" style="color:rgb(68,68,68);font-family:Tahoma, 'Microsoft Yahei', Simsun;font-size:14px;line-height:21px;">
    如果把我上面说的知识都掌握了，<span style="font-family:'Times New Roman';">hdfs</span><span style="font-family:'宋体';">这块就过关了。</span></div>
            </div>
                </div>