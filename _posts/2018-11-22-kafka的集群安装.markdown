---
layout:     post
title:      kafka的集群安装
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/weixin_41615494/article/details/79521877				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p>1.下载kafka安装压缩包</p><p></p><p><a href="http://archive.apache.org/dist/kafka/" rel="nofollow">http://archive.apache.org/dist/kafka/</a></p><p>2.上传压缩包并解压</p><p></p><p>这里统一使用 <span style="color:#FF0000;">kafka_2.11-1.0.0.tgz</span> 这个版本</p><p>3.<span style="font-size:14px;">修改kafka配置文件</span></p><p><span style="font-size:14px;"></span></p><p>第一台机器修改kafka配置文件server.properties</p><div style="background:#A6A6A6;"><p><span style="color:#FF0000;">broker.id=0</span></p><p>num.network.threads=3</p><p>num.io.threads=8</p><p>socket.send.buffer.bytes=102400</p><p>socket.receive.buffer.bytes=102400</p><p>socket.request.max.bytes=104857600</p><p><span style="color:#FF0000;">log.dirs=/export/servers/kafka_2.11-1.0.0/logs</span></p><p>num.partitions=2</p><p>num.recovery.threads.per.data.dir=1</p><p>offsets.topic.replication.factor=1</p><p>transaction.state.log.replication.factor=1</p><p>transaction.state.log.min.isr=1</p><p>log.flush.interval.messages=10000</p><p>log.flush.interval.ms=1000</p><p>log.retention.hours=168</p><p>log.segment.bytes=1073741824</p><p>log.retention.check.interval.ms=300000</p><p><span style="color:#FF0000;">zookeeper.connect=node-1:2181,node-2:2181,node-3:2181</span></p><p>zookeeper.connection.timeout.ms=6000</p><p>group.initial.rebalance.delay.ms=0</p><p><span style="color:#FF0000;">delete.topic.enable=true</span></p><p><span style="color:#FF0000;">host.name=node-1</span></p></div><p> </p><p>第二台机器修改kafka配置文件server.properties</p><div style="background:#A6A6A6;"><p><span style="color:#FF0000;">broker.id=1</span></p><p>num.network.threads=3</p><p>num.io.threads=8</p><p>socket.send.buffer.bytes=102400</p><p>socket.receive.buffer.bytes=102400</p><p>socket.request.max.bytes=104857600</p><p></p><div style="background:#A6A6A6;"><p><span style="color:#FF0000;">log.dirs=/export/servers/kafka_2.11-1.0.0/logs</span></p><p>num.partitions=2</p><p>num.recovery.threads.per.data.dir=1</p><p>offsets.topic.replication.factor=1</p><p>transaction.state.log.replication.factor=1</p><p>transaction.state.log.min.isr=1</p><p>log.flush.interval.messages=10000</p><p>log.flush.interval.ms=1000</p><p>log.retention.hours=168</p><p>log.segment.bytes=1073741824</p><p>log.retention.check.interval.ms=300000</p><p><span style="color:#FF0000;">zookeeper.connect=node-1:2181,node-2:2181,node-3:2181</span></p><p>zookeeper.connection.timeout.ms=6000</p><p>group.initial.rebalance.delay.ms=0</p><p><span style="color:#FF0000;">delete.topic.enable=true</span></p><p><span style="color:#FF0000;">host.name=node-2</span></p></div></div><p>第三台机器修改kafka配置文件server.properties</p><div style="background:#A6A6A6;"><p><span style="color:#FF0000;">broker.id=2</span></p><p>num.network.threads=3</p><p>num.io.threads=8</p><p>socket.send.buffer.bytes=102400</p><p>socket.receive.buffer.bytes=102400</p><p>socket.request.max.bytes=104857600</p><p><span style="color:#FF0000;">log.dirs=/export/servers/kafka_2.11-1.0.0/logs</span></p><p>num.partitions=2</p><p>num.recovery.threads.per.data.dir=1</p><p>offsets.topic.replication.factor=1</p><p>transaction.state.log.replication.factor=1</p><p>transaction.state.log.min.isr=1</p><p>log.flush.interval.messages=10000</p><p>log.flush.interval.ms=1000</p><p>log.retention.hours=168</p><p>log.segment.bytes=1073741824</p><p>log.retention.check.interval.ms=300000</p><p><span style="color:#FF0000;">zookeeper.connect=node-1:2181,node-2:2181,node-3:2181</span></p><p>zookeeper.connection.timeout.ms=6000</p><p>group.initial.rebalance.delay.ms=0</p><p><span style="color:#FF0000;">delete.topic.enable=true</span></p><p><span style="color:#FF0000;">host.name=node-3</span></p></div><p><span style="font-size:14px;">4.</span><span style="font-size:14px;">启动kafka集群</span></p><p><span style="font-size:14px;"></span></p><div style="background:#A6A6A6;"><p>./kafka-server-start.sh../config/server.properties</p><p>nohupbin/kafka-server-start.sh config/server.properties &gt;/dev/null 2&gt;&amp;1&amp;    后台启动命令</p></div><p><span style="font-size:14px;">5.测试</span></p><p><span style="font-size:14px;">三台机器都执行jps命令可见"kafka"进程证明集群启动成功</span></p>            </div>
                </div>