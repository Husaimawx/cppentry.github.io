---
layout:     post
title:      分布式计算框架Hadoop
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p>Hadoop是Apache软件基金会所开发的并行计算框架与分布式文件系统。最核心的模块包括Hadoop Common、HDFS与MapReduce。</p>
<p><span style="font-size:large;"><strong>HDFS</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>

HDFS是Hadoop分布式文件系统（Hadoop Distributed File System）的缩写，为分布式计算存储提供了底层支持。采用Java语言开发，可以部署在多种普通的廉价机器上，以集群处理数量积达到大型主机处理性能。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>

<span style="font-size:medium;"><strong>HDFS</strong>
<strong>架构原理</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>

HDFS采用master/slave架构。一个HDFS集群包含一个单独的NameNode和多个DataNode。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>

NameNode作为master服务，它负责管理文件系统的命名空间和客户端对文件的访问。NameNode会保存文件系统的具体信息，包括文件信息、文件被分割成具体block块的信息、以及每一个block块归属的DataNode的信息。对于整个集群来说，HDFS通过NameNode对用户提供了一个单一的命名空间。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>

DataNode作为slave服务，在集群中可以存在多个。通常每一个DataNode都对应于一个物理节点。DataNode负责管理节点上它们拥有的存储，它将存储划分为多个block块，管理block块信息，同时周期性的将其所有的block块信息发送给NameNode。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>

下图为HDFS系统架构图，主要有三个角色，Client、NameNode、DataNode。</p>
<p><a href="http://hi.csdn.net/attachment/201103/24/0_1300975151fPLa.gif" rel="nofollow"><img src="http://hi.csdn.net/attachment/201103/24/0_1300975494FSNv.gif" alt="" width="762" height="526"><br></a>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">      <strong> </strong>
</span>
</span>
</span>
</span>
</span>
</span>
<strong>
文件写入时：</strong>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
Client向NameNode发起文件写入的请求。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
NameNode根据文件大小和文件块配置情况，返回给Client它所管理部分DataNode的信息。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
Client将文件划分为多个block块，并根据DataNode的地址信息，按顺序写入到每一个DataNode块中。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<strong>
当文件读取：</strong>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
Client向NameNode发起文件读取的请求。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
NameNode返回文件存储的block块信息、及其block块所在DataNode的信息。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
Client读取文件信息。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:medium;"><strong>HDFS</strong>
<strong>数据备份</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
HDFS被设计成一个可以在大集群中、跨机器、可靠的存储海量数据的框架。它将所有文件存储成block块组成的序列，除了最后一个block块，所有的block块大小都是一样的。文件的所有block块都会因为容错而被复制。每个文件的block块大小和容错复制份数都是可配置的。容错复制份数可以在文件创建时配置，后期也可以修改。HDFS中的文件默认规则是write one（一次写、多次读）的，并且严格要求在任何时候只有一个writer。NameNode负责管理block块的复制，它周期性地接收集群中所有DataNode的心跳数据包和Blockreport。心跳包表示DataNode正常工作，Blockreport描述了该DataNode上所有的block组成的列表。</p>
<p><a href="http://hi.csdn.net/attachment/201103/24/0_1300975161wCR7.gif" rel="nofollow"><img src="http://hi.csdn.net/attachment/201103/24/0_1300975623OOJk.gif" alt="" width="759" height="465"><br></a>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<strong>备份数据的存放：</strong>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
备份数据的存放是HDFS可靠性和性能的关键。HDFS采用一种称为rack-aware的策略来决定备份数据的存放。通过一个称为Rack Awareness的过程，NameNode决定每个DataNode所属rack id。缺省情况下，一个block块会有三个备份，一个在NameNode指定的DataNode上，一个在指定DataNode非同一rack的DataNode上，一个在指定DataNode同一rack的DataNode上。这种策略综合考虑了同一rack失效、以及不同rack之间数据复制性能问题。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<strong>副本的选择：</strong>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
为了降低整体的带宽消耗和读取延时，HDFS会尽量读取最近的副本。如果在同一个rack上有一个副本，那么就读该副本。如果一个HDFS集群跨越多个数据中心，那么将首先尝试读本地数据中心的副本。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<strong>安全模式：</strong>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
系统启动后先进入安全模式，此时系统中的内容不允许修改和删除，直到安全模式结束。安全模式主要是为了启动检查各个DataNode上数据块的安全性。</p>
<p><span style="font-size:large;"><strong>MapReduce</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:medium;"><strong>MapReduce</strong>
<strong>来源</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
MapReduce是由Google在一篇论文中提出并广为流传的。它最早是Google提出的一个软件架构，用于大规模数据集群分布式运算。任务的分解（Map）与结果的汇总（Reduce）是其主要思想。Map就是将一个任务分解成多个任务，Reduce就是将分解后多任务分别处理，并将结果汇总为最终结果。熟悉Function Language的人一定感觉很熟悉，不是什么新的思想。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:medium;"><strong>MapReduce</strong>
<strong>处理流程</strong>
</span>
</p>
<p><a href="http://hi.csdn.net/attachment/201103/24/0_130097523225m1.gif" rel="nofollow">
</a>
</p>
<p><a href="http://hi.csdn.net/attachment/201103/24/0_13009752347tK7.gif" rel="nofollow"><img src="http://hi.csdn.net/attachment/201103/24/0_1300975775XGMV.gif" alt=""></a>
</p>
<p><img src="http://hi.csdn.net/attachment/201103/24/0_1300975780YfN4.gif" alt=""></p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
上图就是MapReduce大致的处理流程。在Map之前，可能还有对输入数据的Split过程以保证任务并行效率，在Map之后可能还有Shuffle过程来提高Reduce的效率以及减小数据传输的压力。</p>
<p><strong></strong>
</p>
<p><span style="font-size:large;"><strong>Hadoop</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
Hadoop被定位为一个易于使用的平台，以HDFS、MapReduce为基础，能够运行上千台PCServer组成的系统集群，并以一种可靠、容错的方式分布式处理请求。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:medium;"><strong>Hadoop</strong>
<strong>部署</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
下图显示Hadoop部署结构示意图</p>
<p><a href="http://hi.csdn.net/attachment/201103/24/0_1300975235EMMW.gif" rel="nofollow">
</a>
</p>
<p><img src="http://hi.csdn.net/attachment/201103/24/0_1300975867R550.gif" alt=""></p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
在Hadoop的系统中，会有一台master，主要负责NameNode的工作以及JobTracker的工作。JobTracker的主要职责就是启动、跟踪和调度各个Slave的任务执行。还会有多台slave，每一台slave通常具有DataNode的功能并负责TaskTracker的工作。TaskTracker根据应用要求来结合本地数据执行Map任务以及Reduce任务。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:medium;"><strong>Hadoop</strong>
<strong>处理流程</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
在描述Hadoop处理流程之前，先提一个分布式计算最为重要的设计原则：Moving Computation is Cheaper than Moving Data。意思是指在分布式计算中，移动计算的代价总是低于移动数据的代价。本地计算使用本地数据，然后汇总才能保证分布式计算的高效性。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
下图所示Hadoop处理流程：</p>
<p><a href="http://hi.csdn.net/attachment/201103/24/0_13009752376t6k.gif" rel="nofollow">
</a>
</p>
<p><img src="http://hi.csdn.net/attachment/201103/24/0_1300975927a1FS.gif" alt=""></p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:medium;"><strong>Hadoop</strong>
<strong>安装</strong>
</span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
到目前为止，已经完成了基础理论的介绍，下面介绍Hadoop的安装过程。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
硬件条件：3台PCServer。   
</p><table border="1" cellspacing="0" cellpadding="0"><tbody><tr><td width="142" valign="top">
<p>HostName</p>
</td>
<td width="142" valign="top">
<p>IP</p>
</td>
<td width="142" valign="top">
<p>Plan</p>
</td>
</tr><tr><td width="142" valign="top">
<p>fa1</p>
</td>
<td width="142" valign="top">
<p>10.143.20.211</p>
</td>
<td width="142" valign="top">
<p>master</p>
</td>
</tr><tr><td width="142" valign="top">
<p>fa2</p>
</td>
<td width="142" valign="top">
<p>10.143.20.212</p>
</td>
<td width="142" valign="top">
<p>slave</p>
</td>
</tr><tr><td width="142" valign="top">
<p>fa3</p>
</td>
<td width="142" valign="top">
<p>10.143.20.213</p>
</td>
<td width="142" valign="top">
<p>slave</p>
</td>
</tr></tbody></table><p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
预装：操作系统Linux，JDK1.6，ssh，并且保证 sshd一直运行。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
安装步骤：</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
1． 在所有机器上新建hadoop用户，home目录设置为/home/hadoop/</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
2． 下载Hadoop（这里下载的是hadoop-0.18.3），先解压到master上。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
3． 进入/home/hadoop/hadoop-0.18.3/conf目录，修改hadoop-site.xml文件。</p>
<!-- [if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Normal</w:View>
  <w:Zoom>0</w:Zoom>
  <w:TrackMoves/>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
   <w:UseFELayout/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!-- [if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]--><!-- [if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
</style>
<![endif]-->
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
hadoop-site.xml文件默认配置为空，它主要被用来覆盖hadoop-default.xml的系统级配置。<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"></span>
</span>
</span>
</span>
</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"></span>
</span>
</span>
</span>
</span>
<span lang="en-us" xml:lang="en-us">&lt;property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;name&gt;fs.default.name&lt;/name&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;value&gt;hdfs:// 10.143.20.211:8980/&lt;/value&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="en-us" xml:lang="en-us">&lt;/property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="en-us" xml:lang="en-us">&lt;property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;name&gt;mapred.job.tracker&lt;/name&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;value&gt;hdfs:// 10.143.20.211:8990/&lt;/value&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="en-us" xml:lang="en-us">&lt;/property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="en-us" xml:lang="en-us">&lt;property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;value&gt;/home/hadoop/hadoop-0.18.3/tmp/&lt;/value&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="en-us" xml:lang="en-us">&lt;/property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="en-us" xml:lang="en-us">&lt;property&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;name&gt; dfs.block.size &lt;/name&gt;</span>
</p>
<p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us" xml:lang="en-us">&lt;value&gt;51200&lt;/value&gt;</span>
</p>
<p>       
<span lang="en-us" xml:lang="en-us">&lt;/property&gt;</span>
<span style="font-size:10.5pt;font-family:Calibri, 'sans-serif';" lang="en-us" xml:lang="en-us"></span>
</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
4． 进入/home/hadoop/hadoop-0.18.3/conf目录，修改hadoop-env.sh文件。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
export JAVA_HOME= /usr/lib/java6</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
5． 建立master到slave的ssh访问授权。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
6． 通过scp将master上的hadoop-0.18.3目录拷贝到所有slave同名目录上。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
7． 在每个slave上修改hadoop-env.sh文件，设置JAVA_HOME。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
8． 修改profile文件，扩展PATH路径。</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
export HADOOP_HOME=/home/hadoop/hadoop-0.18.3/</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
<span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
export PATH=$PATH:$HADOOP_HOME/bin</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
9． 在master上执行hadoop namenode -format</p>
<p><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;"><span style="font-size:small;"><span style="letter-spacing:.4pt;" lang="en-us" xml:lang="en-us"><span style="font-family:Calibri;">       </span>
</span>
</span>
</span>
</span>
</span>
10． 执行start-all.sh启动。</p>
<p> </p>
<p> </p>
<p> </p>
<p><strong><span style="font-size:medium;">参考文献：</span>
</strong>
</p>
<p><a href="http://hadoop.apache.org/hdfs/docs/current/hdfs_design.html" rel="nofollow">http://hadoop.apache.org/hdfs/docs/current/hdfs_design.html</a>
</p>
<p><a href="http://hadoop.apache.org/mapreduce/docs/current/mapred_tutorial.html" rel="nofollow">http://hadoop.apache.org/mapreduce/docs/current/mapred_tutorial.html</a>
</p>
<p><a href="http://www.slideshare.net/waue/hadoop-map-reduce-3019713" rel="nofollow">http://www.slideshare.net/waue/hadoop-map-reduce-3019713</a>
</p>
<p><a href="http://www.infoq.com/cn/articles/hadoop-intro" rel="nofollow">http://www.infoq.com/cn/articles/hadoop-intro</a>
</p>            </div>
                </div>