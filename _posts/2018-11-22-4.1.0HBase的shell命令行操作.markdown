---
layout:     post
title:      4.1.0HBase的shell命令行操作
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/Simon_09010817/article/details/79788095				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p align="center"><strong>HBase的shell命令行操作</strong></p><p>一、       启动shell外壳</p><pre><code class="language-html">hbase shell</code></pre><p><img src="https://img-blog.csdn.net/20180402134232796" alt=""></p><p>                有jar包冲突。hadoop的jar和hbase的jar冲突，删除其中一个（删除hbase的）:</p><pre><code class="language-html">rm -rf /usr/hbase/hbase-1.2.1/lib/slf4j-log4j12-1.7.5.jar</code></pre><p><img src="https://img-blog.csdn.net/20180402134238553" alt=""></p><p>                再次启动shell:</p><p><img src="https://img-blog.csdn.net/20180402134244764" alt=""></p><p> 二、       Help查看命令</p><p><img src="https://img-blog.csdn.net/20180402134257145" alt=""></p><p>三、       执行status</p><p><img src="https://img-blog.csdn.net/20180402134304157" alt=""></p><p>四、       执行version</p><p><img src="https://img-blog.csdn.net/201804021343098" alt=""></p><p>五、       执行whoami</p><p><img src="https://img-blog.csdn.net/20180402134316997" alt=""></p><p>六、       执行list</p><p>                执行list命令，查看hbase中所有的表。</p><p><img src="https://img-blog.csdn.net/20180402134322189" alt=""></p><p>                只有一张默认的表table</p><p>七、       创建表</p><p>                创建一张test表，只包含一个data列</p><pre><code class="language-html">create  'test' , 'data'</code></pre><p><img src="https://img-blog.csdn.net/20180402134335827" alt=""></p><p>                Web页面：</p><p><img src="https://img-blog.csdn.net/20180402134348830" alt=""></p><p><img src="https://img-blog.csdn.net/20180402134412130" alt=""><br></p><p>八、       解决hbase shell命令下不能使用Backspace键</p><p><img src="https://img-blog.csdn.net/20180402134424709" alt=""></p><p><img src="https://img-blog.csdn.net/20180402134435526" alt=""><br></p><p>九、       加入数据</p><p>            在data列族中三个不同的行和列上插入数据</p><pre><code class="language-html">put  'test' , 'row1' ,'data:1' , 'value1'</code></pre><p><img src="https://img-blog.csdn.net/20180402134450812" alt=""></p><p><img src="https://img-blog.csdn.net/20180402134500235" alt=""></p><p>十、       读取数据</p><p>              Hbase有两种数据读取方式：get和scan。</p><p>            1.     get方式</p><p>                读取一行的数据信息</p><pre><code class="language-html">get命令：get  'test' , 'row1'</code></pre><p><img src="https://img-blog.csdn.net/20180402134512164" alt=""></p><p>2.     scan方式</p><p>                读取表中所有行的数据信息。 </p><pre><code class="language-html">scan命令：scan 'test'</code></pre><p><img src="https://img-blog.csdn.net/2018040213451929" alt=""></p><p>十一、          删除表</p><p>            1、       先将需要删除的表设为禁用disable</p><pre><code class="language-html">命令：disable  'test'</code></pre><p><img src="https://img-blog.csdn.net/20180402134527967" alt=""></p><p>            2、       将表删除drop</p><pre><code class="language-html">命令：drop  'test'</code></pre><p><img src="https://img-blog.csdn.net/20180402134534353" alt=""></p><p>            3、       查看是否删除成功</p><p><img src="https://img-blog.csdn.net/20180402134541400" alt=""></p><p>                test表已经删除。</p><p>十二、          创建表(指定族名)</p><p>            表模型：</p><p><img src="https://img-blog.csdn.net/20180402134548798" alt=""></p><p>            建表语句：</p><pre><code class="language-html">create 'user_info',{NAME =&gt; 'base_info' , VERSIONS =&gt;3},{NAME =&gt; 'extra_info' , VERSIONS =&gt; 1}</code></pre><p><img src="https://img-blog.csdn.net/20180402134647244" alt=""></p><p><img src="https://img-blog.csdn.net/20180402134659454" alt=""><br></p><p><img src="https://img-blog.csdn.net/201804021347227" alt=""><br></p><p>十三、          添加数据</p><p>                插入第一行数据，自定义行号rowkey为rk0001</p><pre><code class="language-html">put 'user_info','rk00001','base_info:id','1'
put 'user_info','rk00001','base_info:name','haha'
put 'user_info','rk00001','base_info:age','18'
put 'user_info','rk00001','base_info:sex','male'
put 'user_info','rk00001','extra_info:addr','beijing'
put 'user_info','rk00001','extra_info:salary','18.0'</code></pre><p><img src="https://img-blog.csdn.net/20180402134739350" alt=""></p><p>           插入其他行：</p><p><img src="https://img-blog.csdn.net/20180402134756663" alt=""></p><p>十四、          查询数据</p><p>            1.   scan查询</p><pre><code class="language-html">scan 'user_info'</code></pre><p><img src="https://img-blog.csdn.net/20180402134807864" alt=""></p><p>            2.   get查询</p><pre><code class="language-html">get 'user_info', 'rk00001'</code></pre><p><img src="https://img-blog.csdn.net/20180402134823160" alt=""></p><pre><code class="language-html">get'user_info','rk00001','base_info:name'</code></pre><p><img src="https://img-blog.csdn.net/2018040213483124" alt=""></p><p>                测试版本号：</p><p><img src="https://img-blog.csdn.net/20180402134837158" alt=""></p><p>                将rk00001的base_info下name改两次，总共三个版本，再次查询：</p><p><img src="https://img-blog.csdn.net/20180402134957543" alt=""><br></p><p>                显示最新版本。</p><p>                再次更改，版本变为4</p><p><img src="https://img-blog.csdn.net/20180402135016259" alt=""></p><p>                查询所有版本：</p><pre><code class="language-html">get 'user_info' , 'rk00003',{COLUMN =&gt;'base_info:name', VERSIONS =&gt; 10}</code></pre><p><img src="https://img-blog.csdn.net/20180402135021920" alt=""></p><p>                只显示了最新的三个版本信息。</p><p>十五、          删除表</p><pre><code class="language-html">先弃用disable ‘user_info’
再删除 drop ‘user_info’。</code></pre><p><img src="https://img-blog.csdn.net/2018040213503540" alt=""></p><p>十六、          创建名称空间namespace</p><p>                Hbase名称空间namespace相当于关系型数据库的库，namespace下存放有表table</p><p>                默认create创建的表都在default</p><p><img src="https://img-blog.csdn.net/20180402135044936" alt=""></p><p>                创建名称空间：</p><pre><code class="language-html">create_namespace 'user'</code></pre><p><img src="https://img-blog.csdn.net/20180402135106646" alt=""></p><p>                在指定名称空间下建表（表配置默认）：</p><pre><code class="language-html">create 'user:user_info' ,'base_info'</code></pre><p><img src="https://img-blog.csdn.net/20180402135116587" alt=""></p><p>                添加数据：</p><p><img src="https://img-blog.csdn.net/2018040213512812" alt=""></p><p>                查询：</p><p><img src="https://img-blog.csdn.net/20180402135136764" alt=""></p><p>                删除表：</p><p><img src="https://img-blog.csdn.net/20180402135146601" alt=""></p><p>                删除表空间：</p><p>                      需要先删除namespace下所有的表，才能删除namespace</p><p><img src="https://img-blog.csdn.net/20180402135156440" alt=""></p><p>十七、          练习表操作</p><p>                创建：</p><pre><code class="language-html">create 'user',{NAME =&gt; 'info',VERSIONS =&gt; 3},{NAME=&gt; 'data',VERSIONS =&gt; 1}</code></pre><p><img src="https://img-blog.csdn.net/20180402135513648" alt=""><br></p><p>                插入数据：</p><pre><code class="language-html">put 'user', 'rk0001', 'info:name', 'zhangsan'
put 'user', 'rk0001', 'info:gender', 'female'
put 'user', 'rk0001', 'info:age', 20
put 'user', 'rk0001', 'data:pic', 'picture'
put 'user', 'rk0002', 'info:name', 'fanbingbing'
put 'user', 'rk0002', 'info:gender', 'female'
put 'user', 'rk0002', 'info:nationality', '中国'</code></pre><p>            查询：</p><p>                1.   查询rk0001行的所有数据</p><pre><code class="language-html">get 'user','rk0001' </code></pre><p><img src="https://img-blog.csdn.net/20180402140804841" alt=""><br></p><p>                2.   查询rk0001行info列族下的数据</p><pre><code class="language-html">get 'user','rk0001','info'</code></pre><p><img src="https://img-blog.csdn.net/20180402140811293" alt=""><br></p><p>                3.   查询rk0001行info列族中name和age两cell数据</p><pre><code class="language-html">get 'user','rk0001','info:name','info:age'</code></pre><p><img src="https://img-blog.csdn.net/20180402140820929" alt=""><br></p><p>                4.   查询rk0001行下info、data两个列族的信息</p><pre><code class="language-html">get 'user','rk0001','info','data'</code></pre><p><img src="https://img-blog.csdn.net/20180402140826931" alt=""></p><p>                5.   查询rk0001行下info、data两个列族的信息</p><pre><code class="language-html">get 'user','rk0001',{COLUMN =&gt; ['info','data']}</code></pre><p><img src="https://img-blog.csdn.net/20180402140833189" alt=""></p><p>                6.   查询rk0001行下info列族name和data列族pic的信息</p><pre><code class="language-html">get 'user', 'rk0001', {COLUMN =&gt;['info:name', 'data:pic']}</code></pre><p><img src="https://img-blog.csdn.net/20180402140846763" alt=""><br></p><p>            7.   查询user表中row key为rk0001，列标示符中含有a的信息</p><p><img src="https://img-blog.csdn.net/20180402140839486" alt=""></p><p>            8.   查询user表中row key为rk0002，value值中含有’中国’的信息</p><pre><code class="language-html">get 'user', 'rk0002', {FILTER =&gt;"ValueFilter(=, 'binary:中国')"}</code></pre><p><img src="https://img-blog.csdn.net/20180402140856647" alt=""></p><p>            9.   scan类似.</p><p>                删除数据：</p><pre><code class="language-html">delete 'user', 'rk0001', 'info:name'</code></pre><p>                清空表：</p><pre><code class="language-html">truncate'user'</code></pre><p><img src="https://img-blog.csdn.net/20180402140919816" alt=""></p><br>            </div>
                </div>