---
layout:     post
title:      hbase基础使用
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;">
hbase shell命令的使用</h1>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
再使用hbase 命令之前先检查一下hbase是否运行正常</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
<pre style="font-family:'Courier New' !important;">hadoop@Master:/usr/hbase/<span style="line-height:1.8;">bin$ jps
</span><span style="line-height:1.8;color:rgb(128,0,128);">2640</span><span style="line-height:1.8;"> HMaster
</span><span style="line-height:1.8;color:rgb(128,0,128);">27170</span><span style="line-height:1.8;"> NameNode
</span><span style="line-height:1.8;color:rgb(128,0,128);">27533</span><span style="line-height:1.8;"> SecondaryNameNode
</span><span style="line-height:1.8;color:rgb(128,0,128);">3038</span><span style="line-height:1.8;"> Jps
</span><span style="line-height:1.8;color:rgb(128,0,128);">27795</span><span style="line-height:1.8;"> TaskTracker
</span><span style="line-height:1.8;color:rgb(128,0,128);">27351</span><span style="line-height:1.8;"> DataNode
</span><span style="line-height:1.8;color:rgb(128,0,128);">2574</span><span style="line-height:1.8;"> HQuorumPeer
</span><span style="line-height:1.8;color:rgb(128,0,128);">27618</span><span style="line-height:1.8;"> JobTracker
</span><span style="line-height:1.8;color:rgb(128,0,128);">2872</span><span style="line-height:1.8;"> HRegionServer
</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
如果运行不正常的话，关闭hbase后重新启动一下</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">stop-<span style="line-height:1.8;">hbase.sh
start</span>-hbase.sh</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span><span style="line-height:1.8;color:rgb(0,128,0);">1.  status命令</span></span></p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">008</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt;<span style="line-height:1.8;"> status
</span><span style="line-height:1.8;color:rgb(128,0,128);">1</span> servers, <span style="line-height:1.8;color:rgb(128,0,128);">0</span> dead, <span style="line-height:1.8;color:rgb(128,0,128);">3.0000</span> average load</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span><span style="line-height:1.8;color:rgb(0,128,0);">2. version命令</span></span></p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">007</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt;<span style="line-height:1.8;"> version
</span><span style="line-height:1.8;color:rgb(128,0,128);">0.94</span>.<span style="line-height:1.8;color:rgb(128,0,128);">12</span>, r1524863, Fri Sep <span style="line-height:1.8;color:rgb(128,0,128);">20</span> <span style="line-height:1.8;color:rgb(128,0,128);">00</span>:<span style="line-height:1.8;color:rgb(128,0,128);">25</span>:<span style="line-height:1.8;color:rgb(128,0,128);">45</span> UTC <span style="line-height:1.8;color:rgb(128,0,128);">2013</span></pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span><span style="line-height:1.8;color:rgb(0,128,0);">3. create 命令</span></span><br>
创建一个名为 <code>test</code> 的表，这个表只有一个列为 <code>cf。</code>其中表名、列都要用单引号括起来,并以逗号隔开。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">001</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; create <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">10.3830</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><span><span style="line-height:1.8;color:rgb(0,128,0);">4. list 命令</span></span><br>
查看当前 HBase 中具有哪些表。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">009</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt;<span style="line-height:1.8;"> list
TABLE                                                                           
test                                                                            
</span><span style="line-height:1.8;color:rgb(128,0,128);">1</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.3590</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span><span style="line-height:1.8;color:rgb(0,128,0);">5. put 命令</span></span><br>
使用 put 命令向表中插入数据,参数分别为表名、行名、列名和值,其中列名前需要列族最为前缀,时间戳由系统自动生成。<br>
格式: put 表名,行名,列名([列族:列名]),值<br>
例子：<br>
加入一行数据,行名称为“row1”,列族“cf”的列名为”(空字符串)”,值位 value1。<br>
我这里插入3条记录</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">003</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; put <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row1</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:a</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">value1</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.2350</span><span style="line-height:1.8;"> seconds

hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">004</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; put <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:b</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">value2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.0350</span><span style="line-height:1.8;"> seconds

hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">005</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; put <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row3</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:c</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">value3</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.0040</span> seconds</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><span><span style="line-height:1.8;color:rgb(0,128,0);">6. describe 命令</span></span><br>
查看表“test”的构造。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">010</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; describe <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
DESCRIPTION                                          ENABLED                    
 </span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {NAME =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, DATA_BLOCK_ENCODING =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">NONE true                       </span>
 <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">, BLOOMFILTER =&gt; </span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>NONE<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">, REPLICATION_SCOPE =&gt; </span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">,                            </span>
  VERSIONS =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">3</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, COMPRESSION =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">NONE</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">, MIN_VERSIO                            
 NS </span>=&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">0</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, TTL =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">2147483647</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">, KEEP_DELETED_CELLS                             
 </span>=&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">false</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, BLOCKSIZE =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">65536</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, IN_MEMORY =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">fal                            </span>
 se<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">, ENCODE_ON_DISK =&gt; </span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(0,0,255);">true</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">, BLOCKCACHE =&gt; </span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(0,0,255);">true</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>                            
<span style="line-height:1.8;"> }                                                                              
</span><span style="line-height:1.8;color:rgb(128,0,128);">1</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">1.6630</span> seconds</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><span><span style="line-height:1.8;color:rgb(0,128,0);">7.get 命令</span></span><br>
a.查看表“test”中的行“row2”的相关数据。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">011</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; <span style="line-height:1.8;color:rgb(0,0,255);">get</span> <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>,<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
COLUMN                CELL                                                      
 cf:b                 timestamp</span>=<span style="line-height:1.8;color:rgb(128,0,128);">1381568161926</span>, value=<span style="line-height:1.8;">value2                     
</span><span style="line-height:1.8;color:rgb(128,0,128);">1</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.4500</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br>
b.查看表“test”中行“row2”列“cf :b”的值。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; <span style="line-height:1.8;color:rgb(0,0,255);">get</span> <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>,<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:b</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
COLUMN                CELL                                                      
 cf:b                 timestamp</span>=<span style="line-height:1.8;color:rgb(128,0,128);">1381568161926</span>, value=<span style="line-height:1.8;">value2                     
</span><span style="line-height:1.8;color:rgb(128,0,128);">1</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.3090</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
或者</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; <span style="line-height:1.8;color:rgb(0,0,255);">get</span> <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {COLUMN=&gt;<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:b</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">}
hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; <span style="line-height:1.8;color:rgb(0,0,255);">get</span> <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {COLUMNS=&gt;<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:b</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>}</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br>
备注:COLUMN 和 COLUMNS 是不同的,scan 操作中的 COLUMNS 指定的是表的列族, get操作中的 COLUMN 指定的是特定的列,COLUMNS 的值实质上为“列族:列修饰符”。<span><span style="line-height:1.8;color:rgb(255,0,0);">COLUMN 和 COLUMNS 必须为大写。</span></span><br><br><span><span style="line-height:1.8;color:rgb(0,128,0);">8. scan 命令</span></span><br>
a. 查看表“test”中的所有数据。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">006</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; scan <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
ROW                   COLUMN</span>+<span style="line-height:1.8;">CELL                                               
 row1                 column</span>=cf:a, timestamp=<span style="line-height:1.8;color:rgb(128,0,128);">1381568140492</span>, value=<span style="line-height:1.8;">value1        
 row2                 column</span>=cf:b, timestamp=<span style="line-height:1.8;color:rgb(128,0,128);">1381568161926</span>, value=<span style="line-height:1.8;">value2        
 row3                 column</span>=cf:c, timestamp=<span style="line-height:1.8;color:rgb(128,0,128);">1381568176693</span>, value=<span style="line-height:1.8;">value3        
</span><span style="line-height:1.8;color:rgb(128,0,128);">3</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.0770</span> seconds</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
注意:<br>
scan 命令可以指定 startrow,stoprow 来 scan 多个 row。<br>
例如:</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">scan <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">user_test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>,{COLUMNS =&gt;<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">info:username</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>,LIMIT =&gt;<span style="line-height:1.8;color:rgb(128,0,128);">10</span>, STARTROW =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, STOPROW=&gt;<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>}</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br>
b.查看表“scores”中列族“course”的所有数据。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; scan  <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">scores</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {COLUMN =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">grad</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">}
hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; scan  <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">scores</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {COLUMN=&gt;<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">course:math</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">}
hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; scan  <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">scores</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {COLUMNS =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">course</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">}
hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; scan  <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">scores</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, {COLUMNS =&gt; <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">course</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>}</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><br><span><span style="line-height:1.8;color:rgb(0,128,0);">9.count 命令——统计出表中有多少条记录</span></span></p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">013</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; count <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">3</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">1.6530</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><span><span style="line-height:1.8;color:rgb(0,128,0);">10. exists 命令——查看表是否存在</span></span></p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">014</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; exists <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
Table test does exist                                                           
</span><span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">1.1620</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><span><span style="line-height:1.8;color:rgb(0,128,0);">11. incr 命令</span></span></p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span style="line-height:1.8;color:rgb(0,0,0);">给‘test’这个列增加 uid 字段，并使用counter实现递增<br>
连续执行incr以上，COUNTER VALUE 的值会递增，通过get_counter</span></p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">010</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; incr <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">uid</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,128);">2</span><span style="line-height:1.8;">
COUNTER VALUE </span>= <span style="line-height:1.8;color:rgb(128,0,128);">2</span><span style="line-height:1.8;">

hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">011</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; incr <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row2</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">uid</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>, <span style="line-height:1.8;color:rgb(128,0,128);">3</span><span style="line-height:1.8;">
COUNTER VALUE </span>= <span style="line-height:1.8;color:rgb(128,0,128);">5</span></pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
查看表可以看到：</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">012</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; scan <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
ROW                   COLUMN</span>+<span style="line-height:1.8;">CELL                                               
 row1                 column</span>=uid:<span style="line-height:1.8;color:rgb(128,0,128);">1</span>, timestamp=<span style="line-height:1.8;color:rgb(128,0,128);">1381571789416</span>, value=buym:<span style="line-height:1.8;color:rgb(128,0,128);">1</span><span style="line-height:1.8;">       
 row2                 column</span>=uid:, timestamp=<span style="line-height:1.8;color:rgb(128,0,128);">1381572436088</span>, value=<span style="line-height:1.8;">\x00\x00\x00\x
                      </span><span style="line-height:1.8;color:rgb(128,0,128);">00</span><span style="line-height:1.8;">\x00\x00\x00\x05                                        
 row2                 column</span>=uid:<span style="line-height:1.8;color:rgb(128,0,128);">2</span>, timestamp=<span style="line-height:1.8;color:rgb(128,0,128);">1381571805008</span>, value=buym:<span style="line-height:1.8;color:rgb(128,0,128);">20</span>      
<span style="line-height:1.8;color:rgb(128,0,128);">2</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.0790</span> seconds</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<br><br><span><span style="line-height:1.8;color:rgb(0,128,0);">12. delete 命令</span></span><br>
删除表“test”中行为“row3”, 列族“cf”中的“c”。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">015</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; delete <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>,<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">row3</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>,<span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">cf:c</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">0.4640</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span><span style="line-height:1.8;color:rgb(0,128,0);">13. truncate 命令——将表删除后再重新创建</span></span></p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">018</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; truncate <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
Truncating </span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span> table (it may take a <span style="line-height:1.8;color:rgb(0,0,255);">while</span><span style="line-height:1.8;">):
 </span>-<span style="line-height:1.8;"> Disabling table...
 </span>-<span style="line-height:1.8;"> Dropping table...
 </span>-<span style="line-height:1.8;"> Creating table...
</span><span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">5.6480</span> seconds</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
 </p>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span><span style="line-height:1.8;color:rgb(0,128,0);">14. disbale、drop 命令</span></span><br>
通过“disable”和“drop”命令删除“test”表。</p>
<div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;">
<pre style="font-family:'Courier New' !important;">hbase(main):<span style="line-height:1.8;color:rgb(128,0,128);">001</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; disable <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;">
hbase(main):</span><span style="line-height:1.8;color:rgb(128,0,128);">003</span>:<span style="line-height:1.8;color:rgb(128,0,128);">0</span>&gt; drop <span style="line-height:1.8;color:rgb(128,0,0);">'</span><span style="line-height:1.8;color:rgb(128,0,0);">test</span><span style="line-height:1.8;color:rgb(128,0,0);">'</span>
<span style="line-height:1.8;color:rgb(128,0,128);">0</span> row(s) <span style="line-height:1.8;color:rgb(0,0,255);">in</span> <span style="line-height:1.8;color:rgb(128,0,128);">3.9310</span> seconds</pre>
</div>
<p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
<span style="line-height:1.8;color:rgb(255,0,0);"><img src="http://images.cnitblog.com/blog/270324/201303/08100657-8ce1d945bd7f4d6cad72918b8fa937ef.png" alt="" style="border:0px;"></span></p>
            </div>
                </div>