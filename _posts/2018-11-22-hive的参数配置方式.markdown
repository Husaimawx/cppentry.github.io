---
layout:     post
title:      hive的参数配置方式
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <h3><span style="font-family:Calibri;font-size:18px;color:#000000;">Hive</span>参数配置方式</h3><p><span style="color:#000000;"><em><span style="background:rgb(217,217,217);"><span style="font-family:Calibri;">Hive</span></span><span style="background:rgb(217,217,217);">参数大全：</span></em></span></p><p><em><span style="background:rgb(217,217,217);"><span style="font-family:Calibri;color:#000000;">https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties</span></span></em></p><p><span style="font-family:Calibri;color:#000000;"> </span></p><p><span style="color:#000000;">开发<span style="font-family:Calibri;">Hive</span>应用时，不可避免地需要设定<span style="font-family:Calibri;">Hive</span>的参数。设定<span style="font-family:Calibri;">Hive</span>的参数可以调优<span style="font-family:Calibri;">HQL</span>代码的执行效率，或帮助定位问题。然而实践中经常遇到的一个问题是，为什么设定的参数没有起作用？这通常是错误的设定方式导致的。</span></p><p><span style="font-family:Calibri;color:#000000;"> </span></p><p><strong><span style="color:#000000;">对于一般参数，有以下三种设定方式：</span></strong></p><p><span style="color:#000000;">l  </span><span style="color:#000000;">配置文件</span></p><p><span style="color:#000000;">l  </span><span style="color:#000000;">命令行参数</span></p><p><span style="color:#000000;">l  </span><span style="color:#000000;">参数声明</span></p><p><strong><span style="font-family:Calibri;color:#000000;"> </span></strong></p><p><span style="color:#000000;"><strong>配置文件</strong>：<span style="font-family:Calibri;">Hive</span>的配置文件包括</span></p><p><span style="color:#000000;">l 用户自定义配置文件：<span style="font-family:'宋体';">$HIVE_CONF_DIR/hive-site.xml</span></span></p><p><span style="color:#000000;">l 默认配置文件：<span style="font-family:'宋体';">$HIVE_CONF_DIR/hive-default.xml</span></span></p><p><span>用户自定义配置会覆盖默认配置。</span></p><p><span style="color:#000000;">另外，<span style="font-family:Calibri;">Hive</span>也会读入<span style="font-family:Calibri;">Hadoop</span>的配置，因为<span style="font-family:Calibri;">Hive</span>是作为<span style="font-family:Calibri;">Hadoop</span>的客户端启动的，<span style="font-family:Calibri;">Hive</span>的配置会覆盖<span style="font-family:Calibri;">Hadoop</span>的配置。</span></p><p><span style="color:#000000;">配置文件的设定对本机启动的所有<span style="font-family:Calibri;">Hive</span>进程都有效。</span></p><p><span style="font-family:Calibri;color:#000000;"> </span></p><p><span style="color:#000000;"><strong>命令行参数</strong>：启动<span style="font-family:Calibri;">Hive</span>（客户端或<span style="font-family:Calibri;">Server</span>方式）时，可以在命令行添加<span style="font-family:Calibri;">-hiveconf param=value</span>来设定参数，例如：</span></p><p><span style="font-family:Calibri;color:#000000;">bin/hive-hiveconf hive.root.logger=INFO,console</span></p><p><span style="color:#000000;">这一设定对本次启动的<span style="font-family:Calibri;">Session</span>（对于<span style="font-family:Calibri;">Server</span>方式启动，则是所有请求的<span style="font-family:Calibri;">Sessions</span>）有效。</span></p><p><span style="font-family:Calibri;color:#000000;"> </span></p><p><span style="color:#000000;"><strong>参数声明</strong>：可以在<span style="font-family:Calibri;">HQL</span>中使用<span style="font-family:Calibri;">SET</span>关键字设定参数，例如：</span></p><p><span style="font-family:Calibri;color:#000000;">setmapred.reduce.tasks=100;</span></p><p><span style="color:#000000;">这一设定的作用域也是<span style="font-family:Calibri;">session</span>级的。</span></p><p><span style="font-family:Calibri;color:#000000;"> </span></p><p><span style="color:#000000;">上述三种设定方式的优先级依次递增。即参数声明覆盖命令行参数，命令行参数覆盖配置文件设定。注意某些系统级的参数，例如<span style="font-family:Calibri;">log4j</span>相关的设定，必须用前两种方式设定，因为那些参数的读取在<span style="font-family:Calibri;">Session</span>建立以前已经完成了。</span></p><p><span style="font-family:Calibri;color:#000000;"> </span></p>            </div>
                </div>