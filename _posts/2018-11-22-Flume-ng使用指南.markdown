---
layout:     post
title:      Flume-ng使用指南
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<h1 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:0px -20px 10px; padding:3px 0px 3px 10px; font-size:32px; font-family:Simsun">
Flume 1.4.0 User Guide<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-1-4-0-user-guide" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h1>
<div class="section" id="introduction" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Introduction<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#introduction" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<div class="section" id="overview">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Overview<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#overview" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Apache Flume is a distributed, reliable, and available system for efficiently collecting, aggregating and moving large amounts of log data from many different sources to a centralized data store.</p>
<p style="text-align:justify; line-height:20px">The use of Apache Flume is not only restricted to log data aggregation. Since data sources are customizable, Flume can be used to transport massive quantities of event data including but not limited to network
 traffic data, social-media-generated data, email messages and pretty much any data source possible.</p>
<p style="text-align:justify; line-height:20px">Apache Flume is a top level project at the Apache Software Foundation.</p>
<p style="text-align:justify; line-height:20px">There are currently two release code lines available, versions 0.9.x and 1.x.</p>
<p style="text-align:justify; line-height:20px">Documentation for the 0.9.x track is available at <a target="_blank" class="reference external" href="http://archive.cloudera.com/cdh/3/flume/UserGuide/" rel="nofollow" style="color:rgb(53,95,124); text-decoration:none">the
 Flume 0.9.x User Guide</a>.</p>
<p style="text-align:justify; line-height:20px">This documentation applies to the 1.4.x track.</p>
<p style="text-align:justify; line-height:20px">New and existing users are encouraged to use the 1.x releases so as to leverage the performance improvements and configuration flexibilities available in the latest architecture.</p>
</div>
<div class="section" id="system-requirements">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
System Requirements<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#system-requirements" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<ol class="arabic simple" style="list-style-position:initial">
<li style="text-align:justify; line-height:20px">Java Runtime Environment - Java 1.6 or later (Java 1.7 Recommended)</li><li style="text-align:justify; line-height:20px">Memory - Sufficient memory for configurations used by sources, channels or sinks</li><li style="text-align:justify; line-height:20px">Disk Space - Sufficient disk space for configurations used by channels or sinks</li><li style="text-align:justify; line-height:20px">Directory Permissions - Read/Write permissions for directories used by agent</li></ol>
</div>
<div class="section" id="architecture">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Architecture<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#architecture" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<div class="section" id="data-flow-model">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Data flow model<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#data-flow-model" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A Flume event is defined as a unit of data flow having a byte payload and an optional set of string attributes. A Flume agent is a (JVM) process that hosts the components through which events flow from an external
 source to the next destination (hop).</p>
<div class="figure align-center" style="text-align:center; margin-left:auto; margin-right:auto">
<img alt="Agent component diagram" src="http://flume.apache.org/_images/UserGuide_image00.png" style="border:0px"></div>
<p style="text-align:justify; line-height:20px">A Flume source consumes events delivered to it by an external source like a web server. The external source sends events to Flume in a format that is recognized by the target Flume source. For example, an Avro
 Flume source can be used to receive Avro events from Avro clients or other Flume agents in the flow that send events from an Avro sink. A similar flow can be defined using a Thrift Flume Source to receive events from a Thrift Sink or a Flume Thrift Rpc Client
 or Thrift clients written in any language generated from the Flume thrift protocol.When a Flume source receives an event, it stores it into one or more channels. The channel is a passive store that keeps the event until it’s consumed by a Flume sink. The file
 channel is one example – it is backed by the local filesystem. The sink removes the event from the channel and puts it into an external repository like HDFS (via Flume HDFS sink) or forwards it to the Flume source of the next Flume agent (next hop) in the
 flow. The source and sink within the given agent run asynchronously with the events staged in the channel.</p>
</div>
<div class="section" id="complex-flows">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Complex flows<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#complex-flows" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Flume allows a user to build multi-hop flows where events travel through multiple agents before reaching the final destination. It also allows fan-in and fan-out flows, contextual routing and backup routes (fail-over)
 for failed hops.</p>
</div>
<div class="section" id="reliability">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Reliability<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#reliability" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The events are staged in a channel on each agent. The events are then delivered to the next agent or terminal repository (like HDFS) in the flow. The events are removed from a channel only after they are stored
 in the channel of next agent or in the terminal repository. This is a how the single-hop message delivery semantics in Flume provide end-to-end reliability of the flow.</p>
<p style="text-align:justify; line-height:20px">Flume uses a transactional approach to guarantee the reliable delivery of the events. The sources and sinks encapsulate in a transaction the storage/retrieval, respectively, of the events placed in or provided
 by a transaction provided by the channel. This ensures that the set of events are reliably passed from point to point in the flow. In the case of a multi-hop flow, the sink from the previous hop and the source from the next hop both have their transactions
 running to ensure that the data is safely stored in the channel of the next hop.</p>
</div>
<div class="section" id="recoverability">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Recoverability<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#recoverability" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The events are staged in the channel, which manages recovery from failure. Flume supports a durable file channel which is backed by the local file system. There’s also a memory channel which simply stores the
 events in an in-memory queue, which is faster but any events still left in the memory channel when an agent process dies can’t be recovered.</p>
</div>
</div>
</div>
<div class="section" id="setup" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Setup<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#setup" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<div class="section" id="setting-up-an-agent">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Setting up an agent<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#setting-up-an-agent" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Flume agent configuration is stored in a local configuration file. This is a text file which has a format follows the Java properties file format. Configurations for one or more agents can be specified in the
 same configuration file. The configuration file includes properties of each source, sink and channel in an agent and how they are wired together to form data flows.</p>
<div class="section" id="configuring-individual-components">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Configuring individual components<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#configuring-individual-components" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Each component (source, sink or channel) in the flow has a name, type, and set of properties that are specific to the type and instantiation. For example, an Avro source needs a hostname (or IP address) and a
 port number to receive data from. A memory channel can have max queue size (“capacity”), and an HDFS sink needs to know the file system URI, path to create files, frequency of file rotation (“hdfs.rollInterval”) etc. All such attributes of a component needs
 to be set in the properties file of the hosting Flume agent.</p>
</div>
<div class="section" id="wiring-the-pieces-together">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Wiring the pieces together<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#wiring-the-pieces-together" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The agent needs to know what individual components to load and how they are connected in order to constitute the flow. This is done by listing the names of each of the sources, sinks and channels in the agent,
 and then specifying the connecting channel for each sink and source. For example, an agent flows events from an Avro source called avroWeb to HDFS sink hdfs-cluster1 via a file channel called file-channel. The configuration file will contain names of these
 components and file-channel as a shared channel for both avroWeb source and hdfs-cluster1 sink.</p>
</div>
<div class="section" id="starting-an-agent">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Starting an agent<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#starting-an-agent" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">An agent is started using a shell script called flume-ng which is located in the bin directory of the Flume distribution. You need to specify the agent name, the config directory, and the config file on the command
 line:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ bin/flume-ng agent -n $agent_name -c conf -f conf/flume-conf.properties.template
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Now the agent will start running source and sinks configured in the given properties file.</p>
</div>
<div class="section" id="a-simple-example">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
A simple example<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#a-simple-example" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Here, we give an example configuration file, describing a single-node Flume deployment. This configuration lets a user generate events and subsequently logs them to the console.</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># example.conf: A single-node Flume configuration</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># Name the components on this agent</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># Describe/configure the source</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">netcat</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">44444</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># Describe the sink</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">logger</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># Use a channel which buffers events in memory</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">memory</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.capacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">1000</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.transactionCapacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">100</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># Bind the source and sink to the channel</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">This configuration defines a single agent named a1. a1 has a source that listens for data on port 44444, a channel that buffers event data in memory, and a sink that logs event data to the console. The configuration
 file names the various components, then describes their types and configuration parameters. A given configuration file might define several named agents; when a given Flume process is launched a flag is passed telling it which named agent to manifest.</p>
<p style="text-align:justify; line-height:20px">Given this configuration file, we can start Flume as follows:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ bin/flume-ng agent --conf conf --conf-file example.conf --name a1 -Dflume.root.logger=INFO,console
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Note that in a full deployment we would typically include one more option: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">--conf=&lt;conf-dir&gt;</span></tt>.
 The <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">&lt;conf-dir&gt;</span></tt> directory would include a shell script<em>flume-env.sh</em> and potentially a log4j properties file. In this
 example, we pass a Java option to force Flume to log to the console and we go without a custom environment script.</p>
<p style="text-align:justify; line-height:20px">From a separate terminal, we can then telnet port 44444 and send Flume an event:</p>
<div class="highlight-properties">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ telnet localhost 44444
Trying 127.0.0.1...
Connected to localhost.localdomain (127.0.0.1).
Escape character is '^]'.
Hello world! &lt;ENTER&gt;
OK</pre>
</div>
<p style="text-align:justify; line-height:20px">The original Flume terminal will output the event in a log message.</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">12/06/19 15</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">32:19 INFO source.NetcatSource: Source starting</span>
<span class="na" style="color:rgb(0,128,128)">12/06/19 15</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">32:19 INFO source.NetcatSource: Created serverSocket:sun.nio.ch.ServerSocketChannelImpl[/127.0.0.1:44444]</span>
<span class="na" style="color:rgb(0,128,128)">12/06/19 15</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">32:34 INFO sink.LoggerSink: Event: { headers:{} body: 48 65 6C 6C 6F 20 77 6F 72 6C 64 21 0D          Hello world!. }</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Congratulations - you’ve successfully configured and deployed a Flume agent! Subsequent sections cover agent configuration in much more detail.</p>
</div>
<div class="section" id="installing-third-party-plugins">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Installing third-party plugins<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#installing-third-party-plugins" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Flume has a fully plugin-based architecture. While Flume ships with many out-of-the-box sources, channels, sinks, serializers, and the like, many implementations exist which ship separately from Flume.</p>
<p style="text-align:justify; line-height:20px">While it has always been possible to include custom Flume components by adding their jars to the FLUME_CLASSPATH variable in the flume-env.sh file, Flume now supports a special directory called <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">plugins.d</span></tt> which
 automatically picks up plugins that are packaged in a specific format. This allows for easier management of plugin packaging issues as well as simpler debugging and troubleshooting of several classes of issues, especially library dependency conflicts.</p>
<div class="section" id="the-plugins-d-directory">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
The plugins.d directory<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#the-plugins-d-directory" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">The <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">plugins.d</span></tt> directory is located at <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">$FLUME_HOME/plugins.d</span></tt>.
 At startup time, the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">flume-ng</span></tt> start script looks in the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">plugins.d</span></tt> directory
 for plugins that conform to the below format and includes them in proper paths when starting up <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">java</span></tt>.</p>
</div>
<div class="section" id="directory-layout-for-plugins">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Directory layout for plugins<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#directory-layout-for-plugins" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">Each plugin (subdirectory) within <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">plugins.d</span></tt> can have up to three sub-directories:</p>
<ol class="arabic simple" style="list-style-position:initial">
<li style="text-align:justify; line-height:20px">lib - the plugin’s jar(s)</li><li style="text-align:justify; line-height:20px">libext - the plugin’s dependency jar(s)</li><li style="text-align:justify; line-height:20px">native - any required native libraries, such as <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">.so</span></tt> files</li></ol>
<p style="text-align:justify; line-height:20px">Example of two plugins within the plugins.d directory:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">plugins.d/
plugins.d/custom-source-1/
plugins.d/custom-source-1/lib/my-source.jar
plugins.d/custom-source-1/libext/spring-core-2.5.6.jar
plugins.d/custom-source-2/
plugins.d/custom-source-2/lib/custom.jar
plugins.d/custom-source-2/native/gettext.so
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="data-ingestion">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Data ingestion<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#data-ingestion" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Flume supports a number of mechanisms to ingest data from external sources.</p>
<div class="section" id="rpc">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
RPC<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#rpc" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">An Avro client included in the Flume distribution can send a given file to Flume Avro source using avro RPC mechanism:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ bin/flume-ng avro-client -H localhost -p 41414 -F /usr/logs/log.10
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The above command will send the contents of /usr/logs/log.10 to to the Flume source listening on that ports.</p>
</div>
<div class="section" id="executing-commands">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Executing commands<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#executing-commands" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">There’s an exec source that executes a given command and consumes the output. A single ‘line’ of output ie. text followed by carriage return (‘\r’) or line feed (‘\n’) or both together.</p>
<div class="admonition note" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(238,238,238); border:1px solid rgb(204,204,204)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Note</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
Flume does not support tail as a source. One can wrap the tail command in an exec source to stream the file.</p>
</div>
</div>
<div class="section" id="network-streams">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Network streams<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#network-streams" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Flume supports the following mechanisms to read data from popular log stream types, such as:</p>
<ol class="arabic simple" style="list-style-position:initial">
<li style="text-align:justify; line-height:20px">Avro</li><li style="text-align:justify; line-height:20px">Thrift</li><li style="text-align:justify; line-height:20px">Syslog</li><li style="text-align:justify; line-height:20px">Netcat</li></ol>
</div>
</div>
<div class="section" id="setting-multi-agent-flow">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Setting multi-agent flow<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#setting-multi-agent-flow" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<div class="figure align-center" style="text-align:center; margin-left:auto; margin-right:auto">
<img alt="Two agents communicating over Avro RPC" src="http://flume.apache.org/_images/UserGuide_image03.png" style="border:0px"></div>
<p style="text-align:justify; line-height:20px">In order to flow the data across multiple agents or hops, the sink of the previous agent and source of the current hop need to be avro type with the sink pointing to the hostname (or IP address) and port of the
 source.</p>
</div>
<div class="section" id="consolidation">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Consolidation<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#consolidation" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">A very common scenario in log collection is a large number of log producing clients sending data to a few consumer agents that are attached to the storage subsystem. For example, logs collected from hundreds of
 web servers sent to a dozen of agents that write to HDFS cluster.</p>
<div class="figure align-center" style="text-align:center; margin-left:auto; margin-right:auto">
<img alt="A fan-in flow using Avro RPC to consolidate events in one place" src="http://flume.apache.org/_images/UserGuide_image02.png" style="border:0px"></div>
<p style="text-align:justify; line-height:20px">This can be achieved in Flume by configuring a number of first tier agents with an avro sink, all pointing to an avro source of single agent (Again you could use the thrift sources/sinks/clients in such a scenario).
 This source on the second tier agent consolidates the received events into a single channel which is consumed by a sink to its final destination.</p>
</div>
<div class="section" id="multiplexing-the-flow">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Multiplexing the flow<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#multiplexing-the-flow" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Flume supports multiplexing the event flow to one or more destinations. This is achieved by defining a flow multiplexer that can replicate or selectively route an event to one or more channels.</p>
<div class="figure align-center" style="text-align:center; margin-left:auto; margin-right:auto">
<img alt="A fan-out flow using a (multiplexing) channel selector" src="http://flume.apache.org/_images/UserGuide_image01.png" style="border:0px"></div>
<p style="text-align:justify; line-height:20px">The above example shows a source from agent “foo” fanning out the flow to three different channels. This fan out can be replicating or multiplexing. In case of replicating flow, each event is sent to all three
 channels. For the multiplexing case, an event is delivered to a subset of available channels when an event’s attribute matches a preconfigured value. For example, if an event attribute called “txnType” is set to “customer”, then it should go to channel1 and
 channel3, if it’s “vendor” then it should go to channel2, otherwise channel3. The mapping can be set in the agent’s configuration file.</p>
</div>
</div>
<div class="section" id="configuration" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Configuration<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#configuration" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">As mentioned in the earlier section, Flume agent configuration is read from a file that resembles a Java property file format with hierarchical property settings.</p>
<div class="section" id="defining-the-flow">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Defining the flow<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#defining-the-flow" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">To define the flow within a single agent, you need to link the sources and sinks via a channel. You need to list the sources, sinks and channels for the given agent, and then point the source and sink to a channel.
 A source instance can specify multiple channels, but a sink instance can only specify one channel. The format is as follows:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list the sources, sinks and channels for the agent</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Source&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Sink&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt; &lt;Channel2&gt;</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for source</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source&gt;.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt; &lt;Channel2&gt; ...</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for sink</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sinks.&lt;Sink&gt;.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt;</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">For example, an agent named agent_foo is reading data from an external avro client and sending it to HDFS via a memory channel. The config file weblog.config could look like:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list the sources, sinks and channels for the agent</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-appserver-src-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs-sink-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for source</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-appserver-src-1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for sink</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.hdfs-sink-1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">This will make the events flow from avro-AppSrv-source to hdfs-Cluster1-sink through the memory channel mem-channel-1. When the agent is started with the weblog.config as its config file, it will instantiate that
 flow.</p>
</div>
<div class="section" id="id1">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Configuring individual components<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#id1" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">After defining the flow, you need to set properties of each source, sink and channel. This is done in the same hierarchical namespace fashion where you set the component type and other values for the properties
 specific to each component:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># properties for sources</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source&gt;.&lt;someProperty&gt;</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;someValue&gt;</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># properties for channels</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.channel.&lt;Channel&gt;.&lt;someProperty&gt;</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;someValue&gt;</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># properties for sinks</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Sink&gt;.&lt;someProperty&gt;</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;someValue&gt;</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The property “type” needs to be set for each component for Flume to understand what kind of object it needs to be. Each source, sink and channel type has its own set of properties required for it to function as
 intended. All those need to be set as needed. In the previous example, we have a flow from avro-AppSrv-source to hdfs-Cluster1-sink through the memory channel mem-channel-1. Here’s an example that shows configuration of each of those components:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">agent_foo.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-AppSrv-source</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs-Cluster1-sink</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for sources, sinks</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># properties of avro-AppSrv-source</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10000</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># properties of mem-channel-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels.mem-channel-1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">memory</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels.mem-channel-1.capacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">1000</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels.mem-channel-1.transactionCapacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">100</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># properties of hdfs-Cluster1-sink</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.hdfs-Cluster1-sink.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.hdfs-Cluster1-sink.hdfs.path</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs://namenode/flume/webdata</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
</div>
<div class="section" id="adding-multiple-flows-in-an-agent">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Adding multiple flows in an agent<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#adding-multiple-flows-in-an-agent" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">A single Flume agent can contain several independent flows. You can list multiple sources, sinks and channels in a config. These components can be linked to form multiple flows:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list the sources, sinks and channels for the agent</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Source1&gt; &lt;Source2&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Sink1&gt; &lt;Sink2&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt; &lt;Channel2&gt;</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Then you can link the sources and sinks to their corresponding channels (for sources) of channel (for sinks) to setup two different flows. For example, if you need to setup two flows in an agent, one going from
 an external avro client to external HDFS and another from output of a tail to avro sink, then here’s a config to do that:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list the sources, sinks and channels in the agent</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-AppSrv-source1 exec-tail-source2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs-Cluster1-sink1 avro-forward-sink2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1 file-channel-2</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># flow #1 configuration</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.hdfs-Cluster1-sink1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># flow #2 configuration</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.exec-tail-source2.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.avro-forward-sink2.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel-2</span>
</pre>
</div>
</div>
</div>
<div class="section" id="configuring-a-multi-agent-flow">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Configuring a multi agent flow<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#configuring-a-multi-agent-flow" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">To setup a multi-tier flow, you need to have an avro/thrift sink of first hop pointing to avro/thrift source of the next hop. This will result in the first Flume agent forwarding events to the next Flume agent.
 For example, if you are periodically sending files (1 file per event) using avro client to a local Flume agent, then this local agent can forward it to another agent that has the mounted for storage.</p>
<p style="text-align:justify; line-height:20px">Weblog agent config:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list sources, sinks and channels in the agent</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-AppSrv-source</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-forward-sink</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># define the flow</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.avro-forward-sink.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># avro sink properties</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-forward-sink.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-forward-sink.hostname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10.1.1.100</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-forward-sink.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10000</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure other pieces</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">HDFS agent config:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list sources, sinks and channels in the agent</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-collection-source</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs-sink</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># define the flow</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-collection-source.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.hdfs-sink.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># avro sink properties</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-collection-source.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-collection-source.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10.1.1.100</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-collection-source.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10000</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure other pieces</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Here we link the avro-forward-sink from the weblog agent to the avro-collection-source of the hdfs agent. This will result in the events coming from the external appserver source eventually getting stored in HDFS.</p>
</div>
<div class="section" id="fan-out-flow">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Fan out flow<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#fan-out-flow" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">As discussed in previous section, Flume supports fanning out the flow from one source to multiple channels. There are two modes of fan out, replicating and multiplexing. In the replicating flow, the event is sent
 to all the configured channels. In case of multiplexing, the event is sent to only a subset of qualifying channels. To fan out the flow, one needs to specify a list of channels for a source and the policy for the fanning it out. This is done by adding a channel
 “selector” that can be replicating or multiplexing. Then further specify the selection rules if it’s a multiplexer. If you don’t specify a selector, then by default it’s replicating:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># List the sources, sinks and channels for the agent</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Source1&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Sink1&gt; &lt;Sink2&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt; &lt;Channel2&gt;</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set list of channels for source (separated by space)</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt; &lt;Channel2&gt;</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for sinks</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sinks.&lt;Sink1&gt;.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sinks.&lt;Sink2&gt;.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel2&gt;</span>

<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">replicating</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The multiplexing select has a further set of properties to bifurcate the flow. This requires specifying a mapping of an event attribute to a set for channel. The selector checks for each configured attribute in
 the event header. If it matches the specified value, then that event is sent to all the channels mapped to that value. If there’s no match, then the event is sent to set of channels configured as default:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># Mapping for multiplexing selector</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">multiplexing</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.header</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;someHeader&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.mapping.&lt;Value1&gt;</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.mapping.&lt;Value2&gt;</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel1&gt; &lt;Channel2&gt;</span>
<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.mapping.&lt;Value3&gt;</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel2&gt;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>

<span class="na" style="color:rgb(0,128,128)">&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.default</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">&lt;Channel2&gt;</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The mapping allows overlapping the channels for each value.</p>
<p style="text-align:justify; line-height:20px">The following example has a single flow that multiplexed to two paths. The agent named agent_foo has a single avro source and two channels linked to two sinks:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># list the sources, sinks and channels in the agent</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro-AppSrv-source1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs-Cluster1-sink1 avro-forward-sink2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1 file-channel-2</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channels for source</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1 file-channel-2</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># set channel for sinks</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.hdfs-Cluster1-sink1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sinks.avro-forward-sink2.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel-2</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># channel selector configuration</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">multiplexing</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.header</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">State</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.CA</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.AZ</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.NY</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1 file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.default</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The selector checks for a header called “State”. If the value is “CA” then its sent to mem-channel-1, if its “AZ” then it goes to file-channel-2 or if its “NY” then both. If the “State” header is not set or doesn’t
 match any of the three, then it goes to mem-channel-1 which is designated as ‘default’.</p>
<p style="text-align:justify; line-height:20px">The selector also supports optional channels. To specify optional channels for a header, the config parameter ‘optional’ is used in the following way:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic"># channel selector configuration</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">multiplexing</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.header</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">State</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.CA</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.AZ</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.NY</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1 file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.optional.CA</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1 file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.mapping.AZ</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file-channel-2</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.avro-AppSrv-source1.selector.default</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">mem-channel-1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The selector will attempt to write to the required channels first and will fail the transaction if even one of these channels fails to consume the events. The transaction is reattempted on <strong>all</strong> of
 the channels. Once all required channels have consumed the events, then the selector will attempt to write to the optional channels. A failure by any of the optional channels to consume the event is simply ignored and not retried.</p>
<p style="text-align:justify; line-height:20px">If there is an overlap between the optional channels and required channels for a specific header, the channel is considered to be required, and a failure in the channel will cause the entire set of required channels
 to be retried. For instance, in the above example, for the header “CA” mem-channel-1 is considered to be a required channel even though it is marked both as required and optional, and a failure to write to this channel will cause that event to be retried on <strong>all</strong> channels
 configured for the selector.</p>
<p style="text-align:justify; line-height:20px">Note that if a header does not have any required channels, then the event will be written to the default channels and will be attempted to be written to the optional channels for that header. Specifying optional
 channels will still cause the event to be written to the default channels, if no required channels are specified. If no channels are designated as default and there are no required, the selector will attempt to write the events to the optional channels. Any
 failures are simply ignored in that case.</p>
</div>
<div class="section" id="flume-sources">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Sources<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-sources" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<div class="section" id="avro-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Avro Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#avro-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Listens on Avro port and receives events from external Avro client streams. When paired with the built-in Avro Sink on another (previous hop) Flume agent, it can create tiered collection topologies. Required properties
 are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="13%"><col width="8%"><col width="79%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">avro</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>bind</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hostname or IP address to listen on</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Port # to bind to</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
threads</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum number of worker threads to spawn</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
compression-type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
none</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
This can be “none” or “deflate”. The compression-type must match the compression-type of matching AvroSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ssl</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Set this to true to enable SSL encryption. You must also specify a “keystore” and a “keystore-password”.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
keystore</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
This is the path to a Java keystore file. Required for SSL.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
keystore-password</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The password for the Java keystore. Required for SSL.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
keystore-type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
JKS</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The type of the Java keystore. This can be “JKS” or “PKCS12”.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">0.0.0.0</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">4141</span>
</pre>
</div>
</div>
</div>
<div class="section" id="thrift-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Thrift Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#thrift-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Listens on Thrift port and receives events from external Thrift client streams. When paired with the built-in ThriftSink on another (previous hop) Flume agent, it can create tiered collection topologies. Required
 properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="23%"><col width="14%"><col width="64%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">thrift</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>bind</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hostname or IP address to listen on</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Port # to bind to</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
threads</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum number of worker threads to spawn</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space separated list of interceptors</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">thrift</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">0.0.0.0</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">4141</span>
</pre>
</div>
</div>
</div>
<div class="section" id="exec-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Exec Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#exec-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Exec source runs a given Unix command on start-up and expects that process to continuously produce data on standard out (stderr is simply discarded, unless property logStdErr is set to true). If the process exits
 for any reason, the source also exits and will produce no further data. This means configurations such as <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">cat</span> <span class="pre">[named</span> <span class="pre">pipe]</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">tail</span> <span class="pre">-F</span> <span class="pre">[file]</span></tt> are
 going to produce the desired results where as <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">date</span></tt> will probably not - the former two commands produce streams of data where
 as the latter produces a single event and exits.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="8%"><col width="6%"><col width="85%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">exec</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>command</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The command to execute</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
shell</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
A shell invocation used to run the command. e.g. /bin/sh -c. Required only for commands relying on shell features like wildcards, back ticks, pipes etc.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
restartThrottle</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
10000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (in millis) to wait before attempting a restart</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
restart</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Whether the executed cmd should be restarted if it dies</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
logStdErr</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Whether the command’s stderr should be logged</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
20</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The max number of lines to read and send to the channel at a time</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<div class="admonition warning" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(255,228,228); border:1px solid rgb(255,102,102)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Warning</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
The problem with ExecSource and other asynchronous sources is that the source can not guarantee that if there is a failure to put the event into the Channel the client knows about it. In such cases, the data will be lost. As a for instance, one of the most
 commonly requested features is the <tt class="docutils literal" style="background-color:rgb(239,194,194); padding:0px 1px; font-size:0.95em"><span class="pre">tail</span> <span class="pre">-F</span> <span class="pre">[file]</span></tt>-like use case where
 an application writes to a log file on disk and Flume tails the file, sending each line as an event. While this is possible, there’s an obvious problem; what happens if the channel fills up and Flume can’t send an event? Flume has no way of indicating to the
 application writing the log file that it needs to retain the log or that the event hasn’t been sent, for some reason. If this doesn’t make sense, you need only know this: Your application can never guarantee data has been received when using a unidirectional
 asynchronous interface such as ExecSource! As an extension of this warning - and to be completely clear - there is absolutely zero guarantee of event delivery when using this source. For stronger reliability guarantees, consider the Spooling Directory Source
 or direct integration with Flume via the SDK.</p>
</div>
<div class="admonition note" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(238,238,238); border:1px solid rgb(204,204,204)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Note</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
You can use ExecSource to emulate TailSource from Flume 0.9x (flume og). Just use unix command <tt class="docutils literal" style="background-color:rgb(214,214,214); padding:0px 1px; font-size:0.95em"><span class="pre">tail</span> <span class="pre">-F</span> <span class="pre">/full/path/to/your/file</span></tt>.
 Parameter -F is better in this case than -f as it will also follow file rotation.</p>
</div>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">exec</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.command</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">tail -F /var/log/secure</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The ‘shell’ config is used to invoke the ‘command’ through a command shell (such as Bash or Powershell). The ‘command’ is passed as an argument to ‘shell’ for execution. This allows the ‘command’ to use features
 from the shell such as wildcards, back ticks, pipes, loops, conditionals etc. In the absence of the ‘shell’ config, the ‘command’ will be invoked directly. Common values for ‘shell’ : ‘/bin/sh -c’, ‘/bin/ksh -c’, ‘cmd /c’, ‘powershell -Command’, etc.</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">agent_foo.sources.tailsource-1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">exec</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.tailsource-1.shell</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/bin/bash -c</span>
<span class="na" style="color:rgb(0,128,128)">agent_foo.sources.tailsource-1.command</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">for i in /path/*.txt; do cat $i; done</span>
</pre>
</div>
</div>
</div>
<div class="section" id="jms-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
JMS Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#jms-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">JMS Source reads messages from a JMS destination such as a queue or topic. Being a JMS application it should work with any JMS provider but has only been tested with ActiveMQ. The JMS source provides configurable
 batch size, message selector, user/pass, and message to flume event converter. Note that the vendor provided JMS jars should be included in the Flume classpath using plugins.d directory (preferred), –classpath on command line, or via FLUME_CLASSPATH variable
 in flume-env.sh.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="9%"><col width="71%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">jms</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>initialContextFactory</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Inital Context Factory, e.g: org.apache.activemq.jndi.ActiveMQInitialContextFactory</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>connectionFactory</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The JNDI name the connection factory shoulld appear as</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>providerURL</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The JMS provider URL</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>destinationName</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Destination name</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>destinationType</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Destination type (queue or topic)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
messageSelector</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Message selector to use when creating the consumer</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
userName</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Username for the destination/provider</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
passwordFile</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
File containing the password for the destination/provider</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of messages to consume in one batch</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
converter.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
DEFAULT</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Class to use to convert messages to flume events. See below.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
converter.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Converter properties.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
converter.charset</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
UTF-8</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default converter only. Charset to use when converting JMS TextMessages to byte arrays.</td>
</tr>
</tbody>
</table>
<div class="section" id="converter">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Converter<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#converter" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">The JMS source allows pluggable converters, though it’s likely the default converter will work for most purposes. The default converter is able to convert Bytes, Text, and Object messages to FlumeEvents. In all
 cases, the properties in the message are added as headers to the FlumeEvent.</p>
<dl class="docutils" style="margin-bottom:15px"><dt>BytesMessage:</dt><dd style="margin-top:3px; margin-bottom:10px; margin-left:30px; text-align:justify; line-height:20px">
Bytes of message are copied to body of the FlumeEvent. Cannot convert more than 2GB of data per message.</dd><dt>TextMessage:</dt><dd style="margin-top:3px; margin-bottom:10px; margin-left:30px; text-align:justify; line-height:20px">
Text of message is converted to a byte array and copied to the body of the FlumeEvent. The default converter uses UTF-8 by default but this is configurable.</dd><dt>ObjectMessage:</dt><dd style="margin-top:3px; margin-bottom:10px; margin-left:30px; text-align:justify; line-height:20px">
Object is written out to a ByteArrayOutputStream wrapped in an ObjectOutputStream and the resulting array is copied to the body of the FlumeEvent.</dd></dl>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">jms</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.initialContextFactory</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.activemq.jndi.ActiveMQInitialContextFactory</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.connectionFactory</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">GenericConnectionFactory</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.providerURL</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">tcp://mqserver:61616</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.destinationName</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">BUSINESS_DATA</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.destinationType</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">QUEUE</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="spooling-directory-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Spooling Directory Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#spooling-directory-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This source lets you ingest data by placing files to be ingested into a “spooling” directory on disk. This source will watch the specified directory for new files, and will parse events out of new files as they
 appear. The event parsing logic is pluggable. After a given file has been fully read into the channel, it is renamed to indicate completion (or optionally deleted).</p>
<p style="text-align:justify; line-height:20px">Unlike the Exec source, this source is reliable and will not miss data, even if Flume is restarted or killed. In exchange for this reliability, only immutable, uniquely-named files must be dropped into the spooling
 directory. Flume tries to detect these problem conditions and will fail loudly if they are violated:</p>
<ol class="arabic simple" style="list-style-position:initial">
<li style="text-align:justify; line-height:20px">If a file is written to after being placed into the spooling directory, Flume will print an error to its log file and stop processing.</li><li style="text-align:justify; line-height:20px">If a file name is reused at a later time, Flume will print an error to its log file and stop processing.</li></ol>
<p style="text-align:justify; line-height:20px">To avoid the above issues, it may be useful to add a unique identifier (such as a timestamp) to log file names when they are moved into the spooling directory.</p>
<p style="text-align:justify; line-height:20px">Despite the reliability guarantees of this source, there are still cases in which events may be duplicated if certain downstream failures occur. This is consistent with the guarantees offered by other Flume components.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="15%"><col width="11%"><col width="74%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">spooldir</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>spoolDir</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The directory from which to read files from.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
fileSuffix</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
.COMPLETED</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Suffix to append to completely ingested files</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deletePolicy</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
never</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
When to delete completed files: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">never</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">immediate</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
fileHeader</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Whether to add a header storing the filename</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
fileHeaderKey</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
file</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Header key to use when appending filename to header</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ignorePattern</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
^$</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Regular expression specifying which files to ignore (skip)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
trackerDir</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
.flumespool</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Directory to store metadata related to processing of files. If this path is not an absolute path, then it is interpreted as relative to the spoolDir.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Granularity at which to batch transfer to the channel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
inputCharset</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
UTF-8</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Character set used by deserializers that treat the input file as text.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deserializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">LINE</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Specify the deserializer used to parse the file into events. Defaults to parsing each line as an event. The class specified must implement <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">EventDeserializer.Builder</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deserializer.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Varies per event deserializer.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
bufferMaxLines</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
(Obselete) This option is now ignored.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
bufferMaxLineLength</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
5000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
(Deprecated) Maximum length of a line in the commit buffer. Use deserializer.maxLineLength instead.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for an agent named agent-1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">agent-1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">ch-1</span>
<span class="na" style="color:rgb(0,128,128)">agent-1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">src-1</span>

<span class="na" style="color:rgb(0,128,128)">agent-1.sources.src-1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">spooldir</span>
<span class="na" style="color:rgb(0,128,128)">agent-1.sources.src-1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">ch-1</span>
<span class="na" style="color:rgb(0,128,128)">agent-1.sources.src-1.spoolDir</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/var/log/apache/flumeSpool</span>
<span class="na" style="color:rgb(0,128,128)">agent-1.sources.src-1.fileHeader</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">true</span>
</pre>
</div>
</div>
<div class="section" id="event-deserializers">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Event Deserializers<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#event-deserializers" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">The following event deserializers ship with Flume.</p>
<div class="section" id="line">
<h6 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:16px">
LINE<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#line" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h6>
<p style="text-align:justify; line-height:20px">This deserializer generates one event per line of text input.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="29%"><col width="14%"><col width="57%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deserializer.maxLineLength</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
2048</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum number of characters to include in a single event. If a line exceeds this length, it is truncated, and the remaining characters on the line will appear in a subsequent event.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deserializer.outputCharset</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
UTF-8</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Charset to use for encoding events put into the channel.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="avro">
<h6 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:16px">
AVRO<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#avro" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h6>
<p style="text-align:justify; line-height:20px">This deserializer is able to read an Avro container file, and it generates one event per Avro record in the file. Each event is annotated with a header that indicates the schema used. The body of the event is
 the binary Avro record data, not including the schema or the rest of the container file elements.</p>
<p style="text-align:justify; line-height:20px">Note that if the spool directory source must retry putting one of these events onto a channel (for example, because the channel is full), then it will reset and retry from the most recent Avro container file sync
 point. To reduce potential event duplication in such a failure scenario, write sync markers more frequently in your Avro input files.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="26%"><col width="12%"><col width="62%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deserializer.schemaType</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
HASH</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
How the schema is represented. By default, or when the value <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">HASH</span></tt> is specified, the Avro schema is hashed and the hash is
 stored in every event in the event header “flume.avro.schema.hash”. If <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">LITERAL</span></tt> is specified, the JSON-encoded schema itself
 is stored in every event in the event header “flume.avro.schema.literal”. Using <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">LITERAL</span></tt>mode is relatively inefficient compared
 to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">HASH</span></tt> mode.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="blobdeserializer">
<h6 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:16px">
BlobDeserializer<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#blobdeserializer" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h6>
<p style="text-align:justify; line-height:20px">This deserializer reads a Binary Large Object (BLOB) per event, typically one BLOB per file. For example a PDF or JPG file. Note that this approach is not suitable for very large objects because the entire BLOB
 is buffered in RAM.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="14%"><col width="67%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>deserializer</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The FQCN of this class: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.sink.solr.morphline.BlobDeserializer$Builder</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
deserializer.maxBlobLength</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100000000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum number of bytes to read and buffer for a given request</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="netcat-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
NetCat Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#netcat-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A netcat-like source that listens on a given port and turns each line of text into an event. Acts like <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">nc</span> <span class="pre">-k</span> <span class="pre">-l</span> <span class="pre">[host]</span> <span class="pre">[port]</span></tt>.
 In other words, it opens a specified port and listens for data. The expectation is that the supplied data is newline separated text. Each line of text is turned into a Flume event and sent via the connected channel.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="21%"><col width="15%"><col width="64%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">netcat</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>bind</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Host name or IP address to bind to</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Port # to bind to</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
max-line-length</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
512</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Max line length per event body (in bytes)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ack-every-event</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Respond with an “OK” for every event received</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">netcat</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">0.0.0.0</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">6666</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="sequence-generator-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Sequence Generator Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#sequence-generator-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A simple sequence generator that continuously generates events with a counter that starts from 0 and increments by 1. Useful mainly for testing. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="16%"><col width="64%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">seq</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">seq</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="syslog-sources">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Syslog Sources<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#syslog-sources" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Reads syslog data and generate Flume events. The UDP source treats an entire message as a single event. The TCP sources create a new event for each string of characters separated by a newline (‘n’).</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<div class="section" id="syslog-tcp-source">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Syslog TCP Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#syslog-tcp-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">The original, tried-and-true syslog TCP source.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="19%"><col width="15%"><col width="67%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">syslogtcp</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>host</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Host name or IP address to bind to</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Port # to bind to</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
eventSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
2500</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum size of a single event line, in bytes</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">For example, a syslog TCP source for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">syslogtcp</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">5140</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.host</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="multiport-syslog-tcp-source">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Multiport Syslog TCP Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#multiport-syslog-tcp-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">This is a newer, faster, multi-port capable version of the Syslog TCP source. Note that the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">ports</span></tt> configuration
 setting has replaced <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">port</span></tt>. Multi-port capability means that it can listen on many ports at once in an efficient manner.
 This source uses the Apache Mina library to do that. Provides support for RFC-3164 and many common RFC-5424 formatted messages. Also provides the capability to configure the character set used on a per-port basis.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="7%"><col width="6%"><col width="87%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">multiport_syslogtcp</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>host</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Host name or IP address to bind to.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>ports</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list (one or more) of ports to bind to.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
eventSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
2500</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum size of a single event line, in bytes.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
portHeader</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If specified, the port number will be stored in the header of each event using the header name specified here. This allows for interceptors and channel selectors to customize routing logic based on the incoming port.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
charset.default</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
UTF-8</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default character set used while parsing syslog events into strings.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
charset.port.&lt;port&gt;</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Character set is configurable on a per-port basis.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum number of events to attempt to process per request loop. Using the default is usually fine.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
readBufferSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1024</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Size of the internal Mina read buffer. Provided for performance tuning. Using the default is usually fine.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
numProcessors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
(auto-detected)</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of processors available on the system for use while processing messages. Default is to auto-detect # of CPUs using the Java Runtime API. Mina will spawn 2 request-processing threads per detected CPU, which is often reasonable.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating, multiplexing, or custom</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">selector.type</span></tt> value</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">For example, a multiport syslog TCP source for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">multiport_syslogtcp</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.host</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">0.0.0.0</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.ports</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10001 10002 10003</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.portHeader</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">port</span>
</pre>
</div>
</div>
</div>
<div class="section" id="syslog-udp-source">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Syslog UDP Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#syslog-udp-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="19%"><col width="15%"><col width="67%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">syslogudp</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>host</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Host name or IP address to bind to</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Port # to bind to</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">For example, a syslog UDP source for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">syslogudp</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">5140</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.host</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="http-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
HTTP Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#http-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A source which accepts Flume Events by HTTP POST and GET. GET should be used for experimentation only. HTTP requests are converted into flume events by a pluggable “handler” which must implement the HTTPSourceHandler
 interface. This handler takes a HttpServletRequest and returns a list of flume events. All events handled from one Http request are committed to the channel in one transaction, thus allowing for increased efficiency on channels like the file channel. If the
 handler throws an exception, this source will return a HTTP status of 400. If the channel is full, or the source is unable to append events to the channel, the source will return a HTTP 503 - Temporarily unavailable status.</p>
<p style="text-align:justify; line-height:20px">All events sent in one post request are considered to be one batch and inserted into the channel in one transaction.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="11%"><col width="35%"><col width="54%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">http</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port the source should bind to.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
bind</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
0.0.0.0</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname or IP address to listen on</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
handler</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.source.http.JSONHandler</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The FQCN of the handler class.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
handler.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Config parameters for the handler</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-even">
<td colspan="3" style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">For example, a http source for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">http</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">5140</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.handler</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.example.rest.RestHandler</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.handler.nickname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">random props</span>
</pre>
</div>
</div>
<div class="section" id="jsonhandler">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
JSONHandler<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#jsonhandler" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">A handler is provided out of the box which can handle events represented in JSON format, and supports UTF-8, UTF-16 and UTF-32 character sets. The handler accepts an array of events (even if there is only one
 event, the event has to be sent in an array) and converts them to a Flume event based on the encoding specified in the request. If no encoding is specified, UTF-8 is assumed. The JSON handler supports UTF-8, UTF-16 and UTF-32. Events are represented as follows.</p>
<div class="highlight-javascript">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="p">[{</span>
  <span class="s2" style="color:rgb(187,136,68)">"headers"</span> <span class="o" style="font-weight:bold">:</span> <span class="p">{</span>
             <span class="s2" style="color:rgb(187,136,68)">"timestamp"</span> <span class="o" style="font-weight:bold">:</span> <span class="s2" style="color:rgb(187,136,68)">"434324343"</span><span class="p">,</span>
             <span class="s2" style="color:rgb(187,136,68)">"host"</span> <span class="o" style="font-weight:bold">:</span> <span class="s2" style="color:rgb(187,136,68)">"random_host.example.com"</span>
             <span class="p">},</span>
  <span class="s2" style="color:rgb(187,136,68)">"body"</span> <span class="o" style="font-weight:bold">:</span> <span class="s2" style="color:rgb(187,136,68)">"random_body"</span>
  <span class="p">},</span>
  <span class="p">{</span>
  <span class="s2" style="color:rgb(187,136,68)">"headers"</span> <span class="o" style="font-weight:bold">:</span> <span class="p">{</span>
             <span class="s2" style="color:rgb(187,136,68)">"namenode"</span> <span class="o" style="font-weight:bold">:</span> <span class="s2" style="color:rgb(187,136,68)">"namenode.example.com"</span><span class="p">,</span>
             <span class="s2" style="color:rgb(187,136,68)">"datanode"</span> <span class="o" style="font-weight:bold">:</span> <span class="s2" style="color:rgb(187,136,68)">"random_datanode.example.com"</span>
             <span class="p">},</span>
  <span class="s2" style="color:rgb(187,136,68)">"body"</span> <span class="o" style="font-weight:bold">:</span> <span class="s2" style="color:rgb(187,136,68)">"really_random_body"</span>
  <span class="p">}]</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">To set the charset, the request must have content type specified as <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">application/json;</span> <span class="pre">charset=UTF-8</span></tt> (replace
 UTF-8 with UTF-16 or UTF-32 as required).</p>
<p style="text-align:justify; line-height:20px">One way to create an event in the format expected by this handler is to use JSONEvent provided in the Flume SDK and use Google Gson to create the JSON string using the Gson#fromJson(Object, Type) method. The type
 token to pass as the 2nd argument of this method for list of events can be created by:</p>
<div class="highlight-java">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="n">Type</span> <span class="n">type</span> <span class="o" style="font-weight:bold">=</span> <span class="k" style="font-weight:bold">new</span> <span class="n">TypeToken</span><span class="o" style="font-weight:bold">&lt;</span><span class="n">List</span><span class="o" style="font-weight:bold">&lt;</span><span class="n">JSONEvent</span><span class="o" style="font-weight:bold">&gt;&gt;()</span> <span class="o" style="font-weight:bold">{}.</span><span class="na" style="color:rgb(0,128,128)">getType</span><span class="o" style="font-weight:bold">();</span>
</pre>
</div>
</div>
</div>
<div class="section" id="blobhandler">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
BlobHandler<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#blobhandler" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">By default HTTPSource splits JSON input into Flume events. As an alternative, BlobHandler is a handler for HTTPSource that returns an event that contains the request parameters as well as the Binary Large Object
 (BLOB) uploaded with this request. For example a PDF or JPG file. Note that this approach is not suitable for very large objects because it buffers up the entire BLOB in RAM.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="18%"><col width="16%"><col width="66%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>handler</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The FQCN of this class: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.sink.solr.morphline.BlobHandler</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
handler.maxBlobLength</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100000000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum number of bytes to read and buffer for a given request</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="legacy-sources">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Legacy Sources<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#legacy-sources" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The legacy sources allow a Flume 1.x agent to receive events from Flume 0.9.4 agents. It accepts events in the Flume 0.9.4 format, converts them to the Flume 1.0 format, and stores them in the connected channel.
 The 0.9.4 event properties like timestamp, pri, host, nanos, etc get converted to 1.x event header attributes. The legacy source supports both Avro and Thrift RPC connections. To use this bridge between two Flume versions, you need to start a Flume 1.x agent
 with the avroLegacy or thriftLegacy source. The 0.9.4 agent should have the agent Sink pointing to the host/port of the 1.x agent.</p>
<div class="admonition note" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(238,238,238); border:1px solid rgb(204,204,204)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Note</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
The reliability semantics of Flume 1.x are different from that of Flume 0.9.x. The E2E or DFO mode of a Flume 0.9.x agent will not be supported by the legacy source. The only supported 0.9.x mode is the best effort, though the reliability setting of the 1.x
 flow will be applicable to the events once they are saved into the Flume 1.x channel by the legacy source.</p>
</div>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<div class="section" id="avro-legacy-source">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Avro Legacy Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#avro-legacy-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="12%"><col width="9%"><col width="79%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.source.avroLegacy.AvroLegacySource</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>host</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname or IP address to bind to</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port # to listen on</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.source.avroLegacy.AvroLegacySource</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.host</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">0.0.0.0</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">6666</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="thrift-legacy-source">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
Thrift Legacy Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#thrift-legacy-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="12%"><col width="9%"><col width="79%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.source.thriftLegacy.ThriftLegacySource</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>host</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname or IP address to bind to</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port # to listen on</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating or multiplexing</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.source.thriftLegacy.ThriftLegacySource</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.host</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">0.0.0.0</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.bind</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">6666</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="custom-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Custom Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#custom-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A custom source is your own implementation of the Source interface. A custom source’s class and its dependencies must be included in the agent’s classpath when starting the Flume agent. The type of the custom
 source is its FQCN.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="15%"><col width="65%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channels</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be your FQCN</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">replicating</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">multiplexing</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Depends on the selector.type value</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of interceptors</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
interceptors.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.example.MySource</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="scribe-source">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Scribe Source<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#scribe-source" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Scribe is another type of ingest system. To adopt existing Scribe ingest system, Flume should use ScribeSource based on Thrift with compatible transfering protocol. The deployment of Scribe please following guide
 from Facebook. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="13%"><col width="10%"><col width="77%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.source.scribe.ScribeSource</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
port</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1499</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Port that Scribe should be connected</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
workerThreads</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
5</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Handing threads number in Thrift</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.source.scribe.ScribeSource</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">1463</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.workerThreads</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">5</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="flume-sinks">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Sinks<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-sinks" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<div class="section" id="hdfs-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
HDFS Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#hdfs-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This sink writes events into the Hadoop Distributed File System (HDFS). It currently supports creating text and sequence files. It supports compression in both file types. The files can be rolled (close current
 file and create a new one) periodically based on the elapsed time or size of data or number of events. It also buckets/partitions data by attributes like timestamp or machine where the event originated. The HDFS directory path may contain formatting escape
 sequences that will replaced by the HDFS sink to generate a directory/file name to store the events. Using this sink requires hadoop to be installed so that Flume can use the Hadoop jars to communicate with the HDFS cluster. Note that a version of Hadoop that
 supports the sync() call is required.</p>
<p style="text-align:justify; line-height:20px">The following are the escape sequences supported:</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="10%"><col width="90%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Alias</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%{host}</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Substitute value of event header named “host”. Arbitrary header names are supported.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%t</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Unix time in milliseconds</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%a</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
locale’s short weekday name (Mon, Tue, ...)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%A</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
locale’s full weekday name (Monday, Tuesday, ...)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%b</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
locale’s short month name (Jan, Feb, ...)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%B</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
locale’s long month name (January, February, ...)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%c</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
locale’s date and time (Thu Mar 3 23:05:25 2005)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%d</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
day of month (01)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%D</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
date; same as %m/%d/%y</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%H</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hour (00..23)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%I</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hour (01..12)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%j</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
day of year (001..366)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%k</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hour ( 0..23)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%m</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
month (01..12)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%M</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
minute (00..59)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%p</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
locale’s equivalent of am or pm</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%s</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
seconds since 1970-01-01 00:00:00 UTC</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%S</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
second (00..59)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%y</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
last two digits of year (00..99)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%Y</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
year (2010)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
%z</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
+hhmm numeric timezone (for example, -0400)</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">The file in use will have the name mangled to include ”.tmp” at the end. Once the file is closed, this extension is removed. This allows excluding partially complete files in the directory. Required properties
 are in <strong>bold</strong>.</p>
<div class="admonition note" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(238,238,238); border:1px solid rgb(204,204,204)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Note</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
For all of the time related escape sequences, a header with the key “timestamp” must exist among the headers of the event (unless<tt class="docutils literal" style="background-color:rgb(214,214,214); padding:0px 1px; font-size:0.95em"><span class="pre">hdfs.useLocalTimeStamp</span></tt> is
 set to <tt class="docutils literal" style="background-color:rgb(214,214,214); padding:0px 1px; font-size:0.95em"><span class="pre">true</span></tt>). One way to add this automatically is to use the TimestampInterceptor.</p>
</div>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="14%"><col width="8%"><col width="79%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hdfs</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>hdfs.path</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
HDFS directory path (eg hdfs://namenode/flume/webdata/)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.filePrefix</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
FlumeData</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Name prefixed to files created by Flume in hdfs directory</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.fileSuffix</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Suffix to append to file (eg <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">.avro</span></tt> - <em>NOTE: period is not automatically added</em>)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.inUsePrefix</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Prefix that is used for temporal files that flume actively writes into</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.inUseSuffix</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">.tmp</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Suffix that is used for temporal files that flume actively writes into</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.rollInterval</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
30</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of seconds to wait before rolling current file (0 = never roll based on time interval)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.rollSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1024</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
File size to trigger roll, in bytes (0: never roll based on file size)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.rollCount</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
10</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of events written to file before it rolled (0 = never roll based on number of events)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.idleTimeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
0</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Timeout after which inactive files get closed (0 = disable automatic closing of idle files)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
number of events written to file before it is flushed to HDFS</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.codeC</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Compression codec. one of following : gzip, bzip2, lzo, lzop, snappy</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.fileType</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
SequenceFile</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
File format: currently <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">SequenceFile</span></tt>, <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">DataStream</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">CompressedStream</span></tt> (1)DataStream
 will not compress output file and please don’t set codeC (2)CompressedStream requires set hdfs.codeC with an available codeC</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.maxOpenFiles</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
5000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Allow only this number of open files. If this number is exceeded, the oldest file is closed.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.minBlockReplicas</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Specify minimum number of replicas per HDFS block. If not specified, it comes from the default Hadoop config in the classpath.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.writeFormat</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Format for sequence file records. One of “Text” or “Writable” (the default).</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.callTimeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
10000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of milliseconds allowed for HDFS operations, such as open, write, flush, close. This number should be increased if many HDFS timeout operations are occurring.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.threadsPoolSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
10</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of threads per HDFS sink for HDFS IO ops (open, write, etc.)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.rollTimerPoolSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of threads per HDFS sink for scheduling timed file rolling</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.kerberosPrincipal</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Kerberos user principal for accessing secure HDFS</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.kerberosKeytab</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Kerberos keytab for accessing secure HDFS</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.proxyUser</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.round</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Should the timestamp be rounded down (if true, affects all time based escape sequences except %t)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.roundValue</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Rounded down to the highest multiple of this (in the unit configured using <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hdfs.roundUnit</span></tt>), less than current time.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.roundUnit</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
second</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The unit of the round down value - <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">second</span></tt>, <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">minute</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hour</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.timeZone</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Local Time</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Name of the timezone that should be used for resolving the directory path, e.g. America/Los_Angeles.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs.useLocalTimeStamp</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Use the local time (instead of the timestamp from the event header) while replacing the escape sequences.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">TEXT</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Other possible options include <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">avro_event</span></tt> or the fully-qualified class name of an implementation of the<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">EventSerializer.Builder</span></tt> interface.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hdfs.path</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/flume/events/%y-%m-%d/%H%M/%S</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hdfs.filePrefix</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">events-</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hdfs.round</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">true</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hdfs.roundValue</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hdfs.roundUnit</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">minute</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The above configuration will round down the timestamp to the last 10th minute. For example, an event with timestamp 11:54:34 AM, June 12, 2012 will cause the hdfs path to become <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">/flume/events/2012-06-12/1150/00</span></tt>.</p>
</div>
<div class="section" id="logger-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Logger Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#logger-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Logs event at INFO level. Typically useful for testing/debugging purpose. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="21%"><col width="10%"><col width="69%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">logger</span></tt></td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">logger</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="avro-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Avro Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#avro-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This sink forms one half of Flume’s tiered collection support. Flume events sent to this sink are turned into Avro events and sent to the configured hostname / port pair. The events are taken from the configured
 Channel in batches of the configured batch size. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="7%"><col width="2%"><col width="91%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">avro</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>hostname</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname or IP address to bind to.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port # to listen on.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batch-size</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
number of event to batch together for send.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
connect-timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
20000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (ms) to allow for the first (handshake) request.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
request-timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
20000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (ms) to allow for requests after the first.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
reset-connection-interval</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
none</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (s) before the connection to the next hop is reset. This will force the Avro Sink to reconnect to the next hop. This will allow the sink to connect to hosts behind a hardware load-balancer when news hosts are added without having to restart the
 agent.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
compression-type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
none</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
This can be “none” or “deflate”. The compression-type must match the compression-type of matching AvroSource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
compression-level</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
6</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The level of compression to compress event. 0 = no compression and 1-9 is compression. The higher the number the more compression</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ssl</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Set to true to enable SSL for this AvroSink. When configuring SSL, you can optionally set a “truststore”, “truststore-password”, “truststore-type”, and specify whether to “trust-all-certs”.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
trust-all-certs</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If this is set to true, SSL server certificates for remote servers (Avro Sources) will not be checked. This should NOT be used in production because it makes it easier for an attacker to execute a man-in-the-middle attack and “listen in” on the encrypted connection.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
truststore</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The path to a custom Java truststore file. Flume uses the certificate authority information in this file to determine whether the remote Avro Source’s SSL authentication credentials should be trusted. If not specified, the default Java JSSE certificate authority
 files (typically “jssecacerts” or “cacerts” in the Oracle JRE) will be used.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
truststore-password</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The password for the specified truststore.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
truststore-type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
JKS</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The type of the Java truststore. This can be “JKS” or other supported Java truststore type.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hostname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10.10.10.10</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">4545</span>
</pre>
</div>
</div>
</div>
<div class="section" id="thrift-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Thrift Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#thrift-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This sink forms one half of Flume’s tiered collection support. Flume events sent to this sink are turned into Thrift events and sent to the configured hostname / port pair. The events are taken from the configured
 Channel in batches of the configured batch size. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="9%"><col width="2%"><col width="89%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">thrift</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>hostname</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname or IP address to bind to.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port # to listen on.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batch-size</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
number of event to batch together for send.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
connect-timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
20000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (ms) to allow for the first (handshake) request.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
request-timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
20000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (ms) to allow for requests after the first.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
connection-reset-interval</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
none</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (s) before the connection to the next hop is reset. This will force the Thrift Sink to reconnect to the next hop. This will allow the sink to connect to hosts behind a hardware load-balancer when news hosts are added without having to restart
 the agent.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">thrift</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hostname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10.10.10.10</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">4545</span>
</pre>
</div>
</div>
</div>
<div class="section" id="irc-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
IRC Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#irc-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The IRC sink takes messages from attached channel and relays those to configured IRC destinations. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="19%"><col width="9%"><col width="72%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">irc</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>hostname</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname or IP address to connect to</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
port</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
6667</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port number of remote host to connect</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>nick</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Nick name</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
user</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
User name</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
password</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
User password</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>chan</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
channel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
name</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
splitlines</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
(boolean)</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
splitchars</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
n</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
line separator (if you were to enter the default value into the config file, then you would need to escape the backslash, like this: “\n”)</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">irc</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hostname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">irc.yourdomain.com</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.nick</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">flume</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.chan</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">#flume</span>
</pre>
</div>
</div>
</div>
<div class="section" id="file-roll-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
File Roll Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#file-roll-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Stores events on the local filesystem. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="13%"><col width="5%"><col width="82%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">file_roll</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>sink.directory</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The directory where files will be stored</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sink.rollInterval</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
30</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Roll the file every 30 seconds. Specifying 0 will disable rolling and cause all events to be written to a single file.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sink.serializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
TEXT</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Other possible options include <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">avro_event</span></tt> or the FQCN of an implementation of EventSerializer.Builder interface.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file_roll</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.sink.directory</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/var/log/flume</span>
</pre>
</div>
</div>
</div>
<div class="section" id="null-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Null Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#null-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Discards all events it receives from the channel. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="11%"><col width="70%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">null</span></tt>.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">null</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="hbasesinks">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
HBaseSinks<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#hbasesinks" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<div class="section" id="hbasesink">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
HBaseSink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#hbasesink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">This sink writes data to HBase. The Hbase configuration is picked up from the first hbase-site.xml encountered in the classpath. A class implementing HbaseEventSerializer which is specified by the configuration
 is used to convert the events into HBase puts and/or increments. These puts and increments are then written to HBase. This sink provides the same consistency guarantees as HBase, which is currently row-wise atomicity. In the event of Hbase failing to write
 certain events, the sink will replay all events in that transaction.</p>
<p style="text-align:justify; line-height:20px">The HBaseSink supports writing data to secure HBase. To write to secure HBase, the user the agent is running as must have write permissions to the table the sink is configured to write to. The principal and keytab
 to use to authenticate against the KDC can be specified in the configuration. The hbase-site.xml in the Flume agent’s classpath must have authentication set to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">kerberos</span></tt> (For
 details on how to do this, please refer to HBase documentation).</p>
<p style="text-align:justify; line-height:20px">For convenience, two serializers are provided with Flume. The SimpleHbaseEventSerializer (org.apache.flume.sink.hbase.SimpleHbaseEventSerializer) writes the event body as-is to HBase, and optionally increments
 a column in Hbase. This is primarily an example implementation. The RegexHbaseEventSerializer (org.apache.flume.sink.hbase.RegexHbaseEventSerializer) breaks the event body based on the given regex and writes each part into different columns.</p>
<p style="text-align:justify; line-height:20px">The type is the FQCN: org.apache.flume.sink.hbase.HBaseSink.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="12%"><col width="36%"><col width="52%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hbase</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>table</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The name of the table in Hbase to write to.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>columnFamily</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The column family in Hbase to write to.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of events to be written per txn.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.hbase.SimpleHbaseEventSerializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default increment column = “iCol”, payload column = “pCol”.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Properties to be passed to the serializer.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
kerberosPrincipal</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Kerberos user principal for accessing secure HBase</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
kerberosKeytab</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Kerberos keytab for accessing secure HBase</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hbase</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.table</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">foo_table</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.columnFamily</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">bar_cf</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.serializer</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.sink.hbase.RegexHbaseEventSerializer</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="asynchbasesink">
<h5 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:18px">
AsyncHBaseSink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#asynchbasesink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h5>
<p style="text-align:justify; line-height:20px">This sink writes data to HBase using an asynchronous model. A class implementing AsyncHbaseEventSerializer which is specified by the configuration is used to convert the events into HBase puts and/or increments.
 These puts and increments are then written to HBase. This sink provides the same consistency guarantees as HBase, which is currently row-wise atomicity. In the event of Hbase failing to write certain events, the sink will replay all events in that transaction.
 The type is the FQCN: org.apache.flume.sink.hbase.AsyncHBaseSink. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="9%"><col width="33%"><col width="58%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">asynchbase</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>table</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The name of the table in Hbase to write to.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
zookeeperQuorum</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The quorum spec. This is the value for the property<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hbase.zookeeper.quorum</span></tt> in hbase-site.xml</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
znodeParent</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
/hbase</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The base path for the znode for the -ROOT- region. Value of<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">zookeeper.znode.parent</span></tt> in hbase-site.xml</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>columnFamily</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The column family in Hbase to write to.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of events to be written per txn.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
60000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The length of time (in milliseconds) the sink waits for acks from hbase for all events in a transaction.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.hbase.SimpleAsyncHbaseEventSerializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Properties to be passed to the serializer.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Note that this sink takes the Zookeeper Quorum and parent znode information in the configuration. Zookeeper Quorum and parent node configuration may be specified in the flume configuration file. Alternatively,
 these configuration values are taken from the first hbase-site.xml file in the classpath.</p>
<p style="text-align:justify; line-height:20px">If these are not provided in the configuration, then the sink will read this information from the first hbase-site.xml file in the classpath.</p>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">asynchbase</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.table</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">foo_table</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.columnFamily</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">bar_cf</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.serializer</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.sink.hbase.SimpleAsyncHbaseEventSerializer</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="morphlinesolrsink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
MorphlineSolrSink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#morphlinesolrsink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This sink extracts data from Flume events, transforms it, and loads it in near-real-time into Apache Solr servers, which in turn serve queries to end users or search applications.</p>
<p style="text-align:justify; line-height:20px">This sink is well suited for use cases that stream raw data into HDFS (via the HdfsSink) and simultaneously extract, transform and load the same data into Solr (via MorphlineSolrSink). In particular, this sink
 can process arbitrary heterogeneous raw data from disparate data sources and turn it into a data model that is useful to Search applications.</p>
<p style="text-align:justify; line-height:20px">The ETL functionality is customizable using a <a target="_blank" class="reference external" href="http://cloudera.github.io/cdk/docs/0.4.0/cdk-morphlines/index.html" rel="nofollow" style="color:rgb(53,95,124); text-decoration:none">morphline
 configuration file</a> that defines a chain of transformation commands that pipe event records from one command to another.</p>
<p style="text-align:justify; line-height:20px">Morphlines can be seen as an evolution of Unix pipelines where the data model is generalized to work with streams of generic records, including arbitrary binary payloads. A morphline command is a bit like a Flume
 Interceptor. Morphlines can be embedded into Hadoop components such as Flume.</p>
<p style="text-align:justify; line-height:20px">Commands to parse and transform a set of standard data formats such as log files, Avro, CSV, Text, HTML, XML, PDF, Word, Excel, etc. are provided out of the box, and additional custom commands and parsers for
 additional data formats can be added as morphline plugins. Any kind of data format can be indexed and any Solr documents for any kind of Solr schema can be generated, and any custom ETL logic can be registered and executed.</p>
<p style="text-align:justify; line-height:20px">Morphlines manipulate continuous streams of records. The data model can be described as follows: A record is a set of named fields where each field has an ordered list of one or more values. A value can be any
 Java Object. That is, a record is essentially a hash table where each hash table entry contains a String key and a list of Java Objects as values. (The implementation uses Guava’s <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">ArrayListMultimap</span></tt>,
 which is a <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">ListMultimap</span></tt>). Note that a field can have multiple values and any two records need not use common field names.</p>
<p style="text-align:justify; line-height:20px">This sink fills the body of the Flume event into the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">_attachment_body</span></tt> field
 of the morphline record, as well as copies the headers of the Flume event into record fields of the same name. The commands can then act on this data.</p>
<p style="text-align:justify; line-height:20px">Routing to a SolrCloud cluster is supported to improve scalability. Indexing load can be spread across a large number of MorphlineSolrSinks for improved scalability. Indexing load can be replicated across multiple
 MorphlineSolrSinks for high availability, for example using Flume features such as Load balancing Sink Processor. MorphlineInterceptor can also help to implement dynamic routing to multiple Solr collections (e.g. for multi-tenancy).</p>
<p style="text-align:justify; line-height:20px">The morphline and solr jars required for your environment must be placed in the lib directory of the Apache Flume installation.</p>
<p style="text-align:justify; line-height:20px">The type is the FQCN: org.apache.flume.sink.solr.morphline.MorphlineSolrSink</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="8%"><col width="30%"><col width="62%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.sink.solr.morphline.MorphlineSolrSink</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>morphlineFile</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The relative or absolute path on the local file system to the morphline configuration file. Example: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">/etc/flume-ng/conf/morphline.conf</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
morphlineId</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
null</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Optional name used to identify a morphline if there are multiple morphlines in a morphline config file</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum number of events to take per flume transaction.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchDurationMillis</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum duration per flume transaction (ms). The transaction commits after this duration or when batchSize is exceeded, whichever comes first.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
handlerClass</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.solr.morphline.MorphlineHandlerImpl</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The FQCN of a class implementing org.apache.flume.sink.solr.morphline.MorphlineHandler</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.sink.solr.morphline.MorphlineSolrSink</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.morphlineFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/etc/flume-ng/conf/morphline.conf</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic"># a1.sinks.k1.morphlineId = morphline1</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic"># a1.sinks.k1.batchSize = 1000</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic"># a1.sinks.k1.batchDurationMillis = 1000</span>
</pre>
</div>
</div>
</div>
<div class="section" id="elasticsearchsink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
ElasticSearchSink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#elasticsearchsink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This sink writes data to an elasticsearch cluster. By default, events will be written so that the <a target="_blank" class="reference external" href="http://kibana.org/" rel="nofollow" style="color:rgb(53,95,124); text-decoration:none">Kibana</a> graphical
 interface can display them - just as if <a target="_blank" class="reference external" href="https://logstash.net/" rel="nofollow" style="color:rgb(53,95,124); text-decoration:none">logstash</a> wrote them.</p>
<p style="text-align:justify; line-height:20px">The elasticsearch and lucene-core jars required for your environment must be placed in the lib directory of the Apache Flume installation. Elasticsearch requires that the major version of the client JAR match
 that of the server and that both are running the same minor version of the JVM. SerializationExceptions will appear if this is incorrect. To select the required version first determine the version of elasticsearch and the JVM version the target cluster is
 running. Then select an elasticsearch client library which matches the major version. A 0.19.x client can talk to a 0.19.x cluster; 0.20.x can talk to 0.20.x and 0.90.x can talk to 0.90.x. Once the elasticsearch version has been determined then read the pom.xml
 file to determine the correct lucene-core JAR version to use. The Flume agent which is running the ElasticSearchSink should also match the JVM the target cluster is running down to the minor version.</p>
<p style="text-align:justify; line-height:20px">Events will be written to a new index every day. The name will be &lt;indexName&gt;-yyyy-MM-dd where &lt;indexName&gt; is the indexName parameter. The sink will start writing to a new index at midnight UTC.</p>
<p style="text-align:justify; line-height:20px">Events are serialized for elasticsearch by the ElasticSearchLogStashEventSerializer by default. This behaviour can be overridden with the serializer parameter. This parameter accepts implementations of org.apache.flume.sink.elasticsearch.ElasticSearchEventSerializer
 or org.apache.flume.sink.elasticsearch.ElasticSearchIndexRequestBuilderFactory. Implementing ElasticSearchEventSerializer is deprecated in favour of the more powerful ElasticSearchIndexRequestBuilderFactory.</p>
<p style="text-align:justify; line-height:20px">The type is the FQCN: org.apache.flume.sink.elasticsearch.ElasticSearchSink</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="8%"><col width="38%"><col width="54%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.sink.elasticsearch.ElasticSearchSink</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>hostNames</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Comma separated list of hostname:port, if the port is not present the default port ‘9300’ will be used</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
indexName</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
flume</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The name of the index which the date will be appended to. Example ‘flume’ -&gt; ‘flume-yyyy-MM-dd’</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
indexType</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
logs</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The type to index the document to, defaults to ‘log’</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
clusterName</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
elasticsearch</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Name of the ElasticSearch cluster to connect to</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
batchSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Number of events to be written per txn.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ttl</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
TTL in days, when set will cause the expired documents to be deleted automatically, if not set documents will never be automatically deleted</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.elasticsearch.ElasticSearchLogStashEventSerializer</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The ElasticSearchIndexRequestBuilderFactory or ElasticSearchEventSerializer to use. Implementations of either class are accepted but ElasticSearchIndexRequestBuilderFactory is preferred.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializer.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Properties to be passed to the serializer.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">elasticsearch</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hostNames</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">127.0.0.1:9200,127.0.0.2:9300</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.indexName</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">foo_index</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.indexType</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">bar_type</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.clusterName</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">foobar_cluster</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.batchSize</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">500</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.ttl</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">5</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.serializer</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.sink.elasticsearch.ElasticSearchDynamicSerializer</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="custom-sink">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Custom Sink<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#custom-sink" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A custom sink is your own implementation of the Sink interface. A custom sink’s class and its dependencies must be included in the agent’s classpath when starting the Flume agent. The type of the custom sink is
 its FQCN. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="11%"><col width="70%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>channel</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be your FQCN</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.example.MySink</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="flume-channels">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Channels<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-channels" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Channels are the repositories where the events are staged on a agent. Source adds the events and Sink removes it.</p>
<div class="section" id="memory-channel">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Memory Channel<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#memory-channel" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The events are stored in an in-memory queue with configurable max size. It’s ideal for flows that need higher throughput and are prepared to lose the staged data in the event of a agent failures. Required properties
 are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="22%"><col width="13%"><col width="65%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">memory</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
capacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum number of events stored in the channel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
transactionCapacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
100</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum number of events the channel will take from a source or give to a sink per transaction</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
keep-alive</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
3</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Timeout in seconds for adding or removing an event</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
byteCapacityBufferPercentage</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
20</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Defines the percent of buffer between byteCapacity and the estimated total size of all events in the channel, to account for data in headers. See below.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
byteCapacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
see description</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum total <strong>bytes</strong> of memory allowed as a sum of all events in this channel. The implementation only counts the Event <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">body</span></tt>,
 which is the reason for providing the<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">byteCapacityBufferPercentage</span></tt> configuration parameter as well. Defaults to a computed
 value equal to 80% of the maximum memory available to the JVM (i.e. 80% of the -Xmx value passed on the command line). Note that if you have multiple memory channels on a single JVM, and they happen to hold the same physical events (i.e. if you are using a
 replicating channel selector from a single source) then those event sizes may be double-counted for channel byteCapacity purposes. Setting this value to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">0</span></tt> will
 cause this value to fall back to a hard internal limit of about 200 GB.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">memory</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.capacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10000</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.transactionCapacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10000</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.byteCapacityBufferPercentage</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">20</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.byteCapacity</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">800000</span>
</pre>
</div>
</div>
</div>
<div class="section" id="jdbc-channel">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
JDBC Channel<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#jdbc-channel" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">The events are stored in a persistent storage that’s backed by a database. The JDBC channel currently supports embedded Derby. This is a durable channel that’s ideal for flows where recoverability is important.
 Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="23%"><col width="32%"><col width="44%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">jdbc</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
db.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
DERBY</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Database vendor, needs to be DERBY.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
driver.class</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.derby.jdbc.EmbeddedDriver</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Class for vendor’s JDBC driver</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
driver.url</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
(constructed from other properties)</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
JDBC connection URL</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
db.username</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
“sa”</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
User id for db connection</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
db.password</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
password for db connection</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
connection.properties.file</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
JDBC Connection property file path</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
create.schema</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If true, then creates db schema if not there</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
create.index</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Create indexes to speed up lookups</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
create.foreignkey</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
transaction.isolation</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
“READ_COMMITTED”</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Isolation level for db session READ_UNCOMMITTED, READ_COMMITTED, SERIALIZABLE, REPEATABLE_READ</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
maximum.connections</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
10</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Max connections allowed to db</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
maximum.capacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
0 (unlimited)</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Max number of events in the channel</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sysprop.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
DB Vendor specific properties</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sysprop.user.home</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Home path to store embedded Derby database</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">jdbc</span>
</pre>
</div>
</div>
</div>
<div class="section" id="file-channel">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
File Channel<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#file-channel" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="21%"><col width="14%"><col width="65%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">file</span></tt>.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
checkpointDir</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
~/.flume/file-channel/checkpoint</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The directory where checkpoint file will be stored</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
useDualCheckpoints</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Backup the checkpoint. If this is set to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">true</span></tt>, <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">backupCheckpointDir</span></tt> <strong>must</strong> be
 set</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
backupCheckpointDir</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The directory where the checkpoint is backed up to. This directory <strong>must not</strong>be the same as the data directories or the checkpoint directory</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
dataDirs</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
~/.flume/file-channel/data</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The directory where log files will be stored</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
transactionCapacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The maximum size of transaction supported by the channel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
checkpointInterval</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
30000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (in millis) between checkpoints</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
maxFileSize</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
2146435071</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Max size (in bytes) of a single log file</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
minimumRequiredSpace</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
524288000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Minimum Required free space (in bytes). To avoid data corruption, File Channel stops accepting take/put requests when free space drops below this value</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
capacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
1000000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Maximum capacity of the channel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
keep-alive</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
3</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (in sec) to wait for a put operation</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
write-timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
3</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Amount of time (in sec) to wait for a write operation</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
checkpoint-timeout</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
600</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Expert: Amount of time (in sec) to wait for a checkpoint</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
use-log-replay-v1</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Expert: Use old replay logic</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
use-fast-replay</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Expert: Replay without using queue</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encryption.activeKey</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Key name used to encrypt new data</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encryption.cipherProvider</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Cipher provider type, supported types: AESCTRNOPADDING</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encryption.keyProvider</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Key provider type, supported types: JCEKSFILE</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encryption.keyProvider.keyStoreFile</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Path to the keystore file</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encrpytion.keyProvider.keyStorePasswordFile</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Path to the keystore password file</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encryption.keyProvider.keys</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
List of all keys (e.g. history of the activeKey setting)</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
encyption.keyProvider.keys.*.passwordFile</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Path to the optional key password file</td>
</tr>
</tbody>
</table>
<div class="admonition note" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(238,238,238); border:1px solid rgb(204,204,204)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Note</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
By default the File Channel uses paths for checkpoint and data directories that are within the user home as specified above. As a result if you have more than one File Channel instances active within the agent, only one will be able to lock the directories
 and cause the other channel initialization to fail. It is therefore necessary that you provide explicit paths to all the configured channels, preferably on different disks. Furthermore, as file channel will sync to disk after every commit, coupling it with
 a sink/source that batches events together may be necessary to provide good performance where multiple disks are not available for checkpoint and data directories.</p>
</div>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.checkpointDir</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/mnt/flume/checkpoint</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.dataDirs</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/mnt/flume/data</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px"><strong>Encryption</strong></p>
<p style="text-align:justify; line-height:20px">Below is a few sample configurations:</p>
<p style="text-align:justify; line-height:20px">Generating a key with a password seperate from the key store password:</p>
<div class="highlight-bash">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">keytool -genseckey -alias key-0 -keypass keyPassword -keyalg AES <span class="se" style="color:rgb(187,136,68)">\</span>
  -keysize 128 -validity 9000 -keystore test.keystore <span class="se" style="color:rgb(187,136,68)">\</span>
  -storetype jceks -storepass keyStorePassword
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Generating a key with the password the same as the key store password:</p>
<div class="highlight-bash">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">keytool -genseckey -alias key-1 -keyalg AES -keysize 128 -validity 9000 <span class="se" style="color:rgb(187,136,68)">\</span>
  -keystore src/test/resources/test.keystore -storetype jceks <span class="se" style="color:rgb(187,136,68)">\</span>
  -storepass keyStorePassword
</pre>
</div>
</div>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.activeKey</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-0</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.cipherProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">AESCTRNOPADDING</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-provider-0</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">JCEKSFILE</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keyStoreFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/my.keystore</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keyStorePasswordFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/my.keystore.password</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keys</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-0</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Let’s say you have aged key-0 out and new files should be encrypted with key-1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.activeKey</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.cipherProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">AESCTRNOPADDING</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">JCEKSFILE</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keyStoreFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/my.keystore</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keyStorePasswordFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/my.keystore.password</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keys</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-0 key-1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The same scenerio as above, however key-0 has its own password:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.activeKey</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.cipherProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">AESCTRNOPADDING</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">JCEKSFILE</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keyStoreFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/my.keystore</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keyStorePasswordFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/my.keystore.password</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keys</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">key-0 key-1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.encryption.keyProvider.keys.key-0.passwordFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/path/to/key-0.password</span>
</pre>
</div>
</div>
</div>
<div class="section" id="pseudo-transaction-channel">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Pseudo Transaction Channel<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#pseudo-transaction-channel" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<div class="admonition warning" style="margin-top:10px; margin-bottom:10px; padding:7px; background-color:rgb(255,228,228); border:1px solid rgb(255,102,102)">
<p class="first admonition-title" style="margin-top:0px; margin-right:10px; margin-bottom:5px; font-weight:bold; display:inline; text-align:justify; line-height:20px">
Warning</p>
 
<p class="last" style="text-align:justify; line-height:20px; margin-bottom:5px; display:inline">
The Pseudo Transaction Channel is only for unit testing purposes and is NOT meant for production use.</p>
</div>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="12%"><col width="6%"><col width="81%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.channel.PseudoTxnMemoryChannel</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
capacity</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
50</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The max number of events stored in the channel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
keep-alive</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
3</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Timeout in seconds for adding or removing an event</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="custom-channel">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Custom Channel<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#custom-channel" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A custom channel is your own implementation of the Channel interface. A custom channel’s class and its dependencies must be included in the agent’s classpath when starting the Flume agent. The type of the custom
 channel is its FQCN. Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="15%"><col width="8%"><col width="76%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be a FQCN</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels.c1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.example.MyChannel</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="flume-channel-selectors">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Channel Selectors<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-channel-selectors" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">If the type is not specified, then defaults to “replicating”.</p>
<div class="section" id="replicating-channel-selector-default">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Replicating Channel Selector (default)<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#replicating-channel-selector-default" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="22%"><col width="14%"><col width="64%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">replicating</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.optional</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Set of channels to be marked as <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">optional</span></tt></td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1 and it’s source called r1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1 c2 c3</span>
<span class="na" style="color:rgb(0,128,128)">a1.source.r1.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">replicating</span>
<span class="na" style="color:rgb(0,128,128)">a1.source.r1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1 c2 c3</span>
<span class="na" style="color:rgb(0,128,128)">a1.source.r1.selector.optional</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c3</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">In the above configuration, c3 is an optional channel. Failure to write to c3 is simply ignored. Since c1 and c2 are not marked optional, failure to write to those channels will cause the transaction to fail.</p>
</div>
<div class="section" id="multiplexing-channel-selector">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Multiplexing Channel Selector<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#multiplexing-channel-selector" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="23%"><col width="58%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">multiplexing</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.header</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
flume.selector.header</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.default</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.mapping.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1 and it’s source called r1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1 c2 c3 c4</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">multiplexing</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.selector.header</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">state</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.selector.mapping.CZ</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.selector.mapping.US</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c2 c3</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.selector.default</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c4</span>
</pre>
</div>
</div>
</div>
<div class="section" id="custom-channel-selector">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Custom Channel Selector<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#custom-channel-selector" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">A custom channel selector is your own implementation of the ChannelSelector interface. A custom channel selector’s class and its dependencies must be included in the agent’s classpath when starting the Flume agent.
 The type of the custom channel selector is its FQCN.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="11%"><col width="70%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
selector.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be your FQCN</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1 and its source called r1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.selector.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.example.MyChannelSelector</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="flume-sink-processors">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Sink Processors<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-sink-processors" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Sink groups allow users to group multiple sinks into one entity. Sink processors can be used to provide load balancing capabilities over all sinks inside the group or to achieve fail over from one sink to another
 in case of temporal failure.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="17%"><col width="10%"><col width="73%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>sinks</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of sinks that are participating in the group</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>processor.type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">default</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">default</span></tt>, <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">failover</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">load_balance</span></tt></td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sinkgroups</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">g1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1 k2</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">load_balance</span>
</pre>
</div>
</div>
<div class="section" id="default-sink-processor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Default Sink Processor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#default-sink-processor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Default sink processor accepts only a single sink. User is not forced to create processor (sink group) for single sinks. Instead user can follow the source - channel - sink pattern that was explained above in
 this user guide.</p>
</div>
<div class="section" id="failover-sink-processor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Failover Sink Processor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#failover-sink-processor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Failover Sink Processor maintains a prioritized list of sinks, guaranteeing that so long as one is available events will be processed (delivered).</p>
<p style="text-align:justify; line-height:20px">The failover mechanism works by relegating failed sinks to a pool where they are assigned a cool down period, increasing with sequential failures before they are retried. Once a sink successfully sends an event,
 it is restored to the live pool.</p>
<p style="text-align:justify; line-height:20px">To configure, set a sink groups processor to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">failover</span></tt> and set priorities
 for all individual sinks. All specified priorities must be unique. Furthermore, upper limit to failover time can be set (in milliseconds) using <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">maxpenalty</span></tt> property.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="26%"><col width="9%"><col width="66%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>sinks</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of sinks that are participating in the group</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>processor.type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">default</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">failover</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>processor.priority.&lt;sinkName&gt;</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
&lt;sinkName&gt; must be one of the sink instances associated with the current sink group</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
processor.maxpenalty</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
30000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
(in millis)</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sinkgroups</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">g1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1 k2</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">failover</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.priority.k1</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">5</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.priority.k2</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.maxpenalty</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">10000</span>
</pre>
</div>
</div>
</div>
<div class="section" id="load-balancing-sink-processor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Load balancing Sink Processor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#load-balancing-sink-processor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Load balancing sink processor provides the ability to load-balance flow over multiple sinks. It maintains an indexed list of active sinks on which the load must be distributed. Implementation supports distributing
 load using either via <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">round_robin</span></tt> or <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">random</span></tt> selection
 mechanisms. The choice of selection mechanism defaults to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">round_robin</span></tt> type, but can be overridden via configuration. Custom
 selection mechanisms are supported via custom classes that inherits from <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">AbstractSinkSelector</span></tt>.</p>
<p style="text-align:justify; line-height:20px">When invoked, this selector picks the next sink using its configured selection mechanism and invokes it. For <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">round_robin</span></tt> and <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">random</span></tt> In
 case the selected sink fails to deliver the event, the processor picks the next available sink via its configured selection mechanism. This implementation does not blacklist the failing sink and instead continues to optimistically attempt every available sink.
 If all sinks invocations result in failure, the selector propagates the failure to the sink runner.</p>
<p style="text-align:justify; line-height:20px">If <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">backoff</span></tt> is enabled, the sink processor will blacklist sinks that fail,
 removing them for selection for a given timeout. When the timeout ends, if the sink is still unresponsive timeout is increased exponentially to avoid potentially getting stuck in long waits on unresponsive sinks. With this disabled, in round-robin all the
 failed sinks load will be passed to the next sink in line and thus not evenly balanced</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="25%"><col width="13%"><col width="63%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>processor.sinks</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of sinks that are participating in the group</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>processor.type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">default</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, needs to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">load_balance</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
processor.backoff</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Should failed sinks be backed off exponentially.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
processor.selector</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">round_robin</span></tt></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Selection mechanism. Must be either <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">round_robin</span></tt>, <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">random</span></tt> or
 FQCN of custom class that inherits from <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">AbstractSinkSelector</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
processor.selector.maxTimeOut</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
30000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Used by backoff selectors to limit exponential backoff (in milliseconds)</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sinkgroups</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">g1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1 k2</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">load_balance</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.backoff</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">true</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinkgroups.g1.processor.selector</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">random</span>
</pre>
</div>
</div>
</div>
<div class="section" id="custom-sink-processor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Custom Sink Processor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#custom-sink-processor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Custom sink processors are not supported at the moment.</p>
</div>
</div>
<div class="section" id="event-serializers">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Event Serializers<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#event-serializers" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">The <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">file_roll</span></tt> sink and the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hdfs</span></tt> sink
 both support the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">EventSerializer</span></tt> interface. Details of the EventSerializers that ship with Flume are provided below.</p>
<div class="section" id="body-text-serializer">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Body Text Serializer<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#body-text-serializer" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Alias: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">text</span></tt>. This interceptor writes the body of the event to an output stream
 without any transformation or modification. The event headers are ignored. Configuration options are as follows:</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="22%"><col width="14%"><col width="65%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
appendNewline</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Whether a newline will be appended to each event at write time. The default of true assumes that events do not contain newlines, for legacy reasons.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">file_roll</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.sink.directory</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/var/log/flume</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.sink.serializer</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">text</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.sink.serializer.appendNewline</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">false</span>
</pre>
</div>
</div>
</div>
<div class="section" id="avro-event-serializer">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Avro Event Serializer<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#avro-event-serializer" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Alias: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">avro_event</span></tt>. This interceptor serializes Flume events into an Avro
 container file. The schema used is the same schema used for Flume events in the Avro RPC mechanism. This serializers inherits from the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">AbstractAvroEventSerializer</span></tt> class.
 Configuration options are as follows:</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="22%"><col width="14%"><col width="64%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
syncIntervalBytes</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
2048000</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Avro sync interval, in approximate bytes.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
compressionCodec</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
null</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Avro compression codec. For supported codecs, see Avro’s CodecFactory docs.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.hdfs.path</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/flume/events/%y-%m-%d/%H%M/%S</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.serializer</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">avro_event</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.serializer.compressionCodec</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">snappy</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="flume-interceptors">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Interceptors<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-interceptors" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Flume has the capability to modify/drop events in-flight. This is done with the help of interceptors. Interceptors are classes that implement<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.interceptor.Interceptor</span></tt> interface.
 An interceptor can modify or even drop events based on any criteria chosen by the developer of the interceptor. Flume supports chaining of interceptors. This is made possible through by specifying the list of interceptor builder class names in the configuration.
 Interceptors are specified as a whitespace separated list in the source configuration. The order in which the interceptors are specified is the order in which they are invoked. The list of events returned by one interceptor is passed to the next interceptor
 in the chain. Interceptors can modify or drop events. If an interceptor needs to drop events, it just does not return that event in the list that it returns. If it is to drop all events, then it simply returns an empty list. Interceptors are named components,
 here is an example of how they are created through configuration:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">k1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">i1 i2</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.interceptor.HostInterceptor$Builder</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.preserveExisting</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">false</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.hostHeader</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hostname</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i2.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.interceptor.TimestampInterceptor$Builder</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.filePrefix</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">FlumeData.%{CollectorHost}.%Y-%m-%d</span>
<span class="na" style="color:rgb(0,128,128)">a1.sinks.k1.channel</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Note that the interceptor builders are passed to the type config parameter. The interceptors are themselves configurable and can be passed configuration values just like they are passed to any other configurable
 component. In the above example, events are passed to the HostInterceptor first and the events returned by the HostInterceptor are then passed along to the TimestampInterceptor. You can specify either the fully qualified class name (FQCN) or the alias <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">timestamp</span></tt>.
 If you have multiple collectors writing to the same HDFS path, then you could also use the HostInterceptor.</p>
<div class="section" id="timestamp-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Timestamp Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#timestamp-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This interceptor inserts into the event headers, the time in millis at which it processes the event. This interceptor inserts a header with key<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">timestamp</span></tt> whose
 value is the relevant timestamp. This interceptor can preserve an existing timestamp if it is already present in the configuration.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">timestamp</span></tt> or the FQCN</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
preserveExisting</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If the timestamp already exists, should it be preserved - true or false</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span>  <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">seq</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">i1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">timestamp</span>
</pre>
</div>
</div>
</div>
<div class="section" id="host-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Host Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#host-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This interceptor inserts the hostname or IP address of the host that this agent is running on. It inserts a header with key <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">host</span></tt> or
 a configured key whose value is the hostname or IP address of the host, based on configuration.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">host</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
preserveExisting</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If the host header already exists, should it be preserved - true or false</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
useIP</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Use the IP Address if true, else use hostname.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hostHeader</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
host</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The header key to be used.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">i1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">host</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.hostHeader</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hostname</span>
</pre>
</div>
</div>
</div>
<div class="section" id="static-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Static Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#static-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Static interceptor allows user to append a static header with static value to all events.</p>
<p style="text-align:justify; line-height:20px">The current implementation does not allow specifying multiple headers at one time. Instead user might chain multiple static interceptors each defining one static header.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="16%"><col width="7%"><col width="77%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">static</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
preserveExisting</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If configured header already exists, should it be preserved - true or false</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
key</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
key</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Name of header that should be created</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
value</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
value</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Static value that should be created</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Example for agent named a1:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">r1</span>
<span class="na" style="color:rgb(0,128,128)">a1.channels</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.channels</span> <span class="o" style="font-weight:bold">=</span>  <span class="s" style="color:rgb(187,136,68)">c1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">seq</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">i1</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">static</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.key</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">datacenter</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.r1.interceptors.i1.value</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">NEW_YORK</span>
</pre>
</div>
</div>
</div>
<div class="section" id="uuid-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
UUID Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#uuid-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This interceptor sets a universally unique identifier on all events that are intercepted. An example UUID is <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">b5755073-77a9-43c1-8fad-b7a586fc1b97</span></tt>,
 which represents a 128-bit value.</p>
<p style="text-align:justify; line-height:20px">Consider using UUIDInterceptor to automatically assign a UUID to an event if no application level unique key for the event is available. It can be important to assign UUIDs to events as soon as they enter the
 Flume network; that is, in the first Flume Source of the flow. This enables subsequent deduplication of events in the face of replication and redelivery in a Flume network that is designed for high availability and high performance. If an application level
 key is available, this is preferable over an auto-generated UUID because it enables subsequent updates and deletes of event in data stores using said well known application level key.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="13%"><col width="6%"><col width="81%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.sink.solr.morphline.UUIDInterceptor$Builder</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
headerName</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
id</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The name of the Flume header to modify</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
preserveExisting</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
true</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If the UUID header already exists, should it be preserved - true or false</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
prefix</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
“”</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The prefix string constant to prepend to each generated UUID</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="morphline-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Morphline Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#morphline-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This interceptor filters the events through a <a target="_blank" class="reference external" href="http://cloudera.github.io/cdk/docs/0.4.0/cdk-morphlines/index.html" rel="nofollow" style="color:rgb(53,95,124); text-decoration:none">morphline
 configuration file</a> that defines a chain of transformation commands that pipe records from one command to another. For example the morphline can ignore certain events or alter or insert certain event headers via regular expression based pattern matching,
 or it can auto-detect and set a MIME type via Apache Tika on events that are intercepted. For example, this kind of packet sniffing can be used for content based dynamic routing in a Flume topology. MorphlineInterceptor can also help to implement dynamic routing
 to multiple Apache Solr collections (e.g. for multi-tenancy).</p>
<p style="text-align:justify; line-height:20px">Currently, there is a restriction in that the morphline of an interceptor must not generate more than one output record for each input event. This interceptor is not intended for heavy duty ETL processing - if
 you need this consider moving ETL processing from the Flume Source to a Flume Sink, e.g. to a MorphlineSolrSink.</p>
<p style="text-align:justify; line-height:20px">Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="10%"><col width="4%"><col width="85%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.sink.solr.morphline.MorphlineInterceptor$Builder</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>morphlineFile</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The relative or absolute path on the local file system to the morphline configuration file. Example: <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">/etc/flume-ng/conf/morphline.conf</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
morphlineId</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
null</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Optional name used to identify a morphline if there are multiple morphlines in a morphline config file</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Sample flume.conf file:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">a1.sources.avroSrc.interceptors</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">morphlineinterceptor</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.avroSrc.interceptors.morphlineinterceptor.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.sink.solr.morphline.MorphlineInterceptor$Builder</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.avroSrc.interceptors.morphlineinterceptor.morphlineFile</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">/etc/flume-ng/conf/morphline.conf</span>
<span class="na" style="color:rgb(0,128,128)">a1.sources.avroSrc.interceptors.morphlineinterceptor.morphlineId</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">morphline1</span>
</pre>
</div>
</div>
</div>
<div class="section" id="regex-filtering-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Regex Filtering Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#regex-filtering-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This interceptor filters events selectively by interpreting the event body as text and matching the text against a configured regular expression. The supplied regular expression can be used to include events or
 exclude events.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="17%"><col width="7%"><col width="76%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">regex_filter</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
regex</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
”.*”</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Regular expression for matching against events</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
excludeEvents</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If true, regex determines events to exclude, otherwise regex determines events to include.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="regex-extractor-interceptor">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Regex Extractor Interceptor<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#regex-extractor-interceptor" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">This interceptor extracts regex match groups using a specified regular expression and appends the match groups as headers on the event. It also supports pluggable serializers for formatting the match groups before
 adding them as event headers.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="21%"><col width="6%"><col width="73%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">regex_extractor</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>regex</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Regular expression for matching against events</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>serializers</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Space-separated list of serializers for mapping matches to header names and serializing their values. (See example below) Flume provides built-in support for the following serializers:<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorPassThroughSerializer</span></tt><tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorMillisSerializer</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializers.&lt;s1&gt;.type</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
default</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Must be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">default</span></tt> (org.apache.flume.interceptor.RegexExtractorInterceptorPassThroughSerializer),<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorMillisSerializer</span></tt>,
 or the FQCN of a custom class that implements<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorSerializer</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializers.&lt;s1&gt;.<strong>name</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
serializers.*</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Serializer-specific properties</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">The serializers are used to map the matches to a header name and a formatted header value; by default, you only need to specify the header name and the default <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.interceptor.RegexExtractorInterceptorPassThroughSerializer</span></tt> will
 be used. This serializer simply maps the matches to the specified header name and passes the value through as it was extracted by the regex. You can plug custom serializer implementations into the extractor using the fully qualified class name (FQCN) to format
 the matches in anyway you like.</p>
</div>
<div class="section" id="example-1">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Example 1:<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#example-1" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">If the Flume event body contained <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">1:2:3.4foobar5</span></tt> and the following configuration
 was used</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.regex</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">(\\d):(\\d):(\\d)</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">s1 s2 s3</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers.s1.name</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">one</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers.s2.name</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">two</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers.s3.name</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">three</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">The extracted event will contain the same body but the following headers will have been added <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">one=&gt;1,</span> <span class="pre">two=&gt;2,</span> <span class="pre">three=&gt;3</span></tt></p>
</div>
<div class="section" id="example-2">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Example 2:<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#example-2" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">If the Flume event body contained <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">2012-10-18</span> <span class="pre">18:47:57,614</span> <span class="pre">some</span> <span class="pre">log</span> <span class="pre">line</span></tt> and
 the following configuration was used</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.regex</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">^(?:\\n)?(\\d\\d\\d\\d-\\d\\d-\\d\\d\\s\\d\\d:\\d\\d)</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">s1</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers.s1.type</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.interceptor.RegexExtractorInterceptorMillisSerializer</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers.s1.name</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">timestamp</span>
<span class="na" style="color:rgb(0,128,128)">agent.sources.r1.interceptors.i1.serializers.s1.pattern</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">yyyy-MM-dd HH:mm</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">the extracted event will contain the same body but the following headers will have been added <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">timestamp=&gt;1350611220000</span></tt></p>
</div>
</div>
<div class="section" id="flume-properties">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume Properties<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-properties" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="25%"><col width="7%"><col width="68%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
flume.called.from.service</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If this property is specified then the Flume agent will continue polling for the config file even if the config file is not found at the expected location. Otherwise, the Flume agent will terminate if the config doesn’t exist at the expected location. No property
 value is needed when setting this property (eg, just specifying -Dflume.called.from.service is enough)</td>
</tr>
</tbody>
</table>
<div class="section" id="property-flume-called-from-service">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Property: flume.called.from.service<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#property-flume-called-from-service" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Flume periodically polls, every 30 seconds, for changes to the specified config file. A Flume agent loads a new configuration from the config file if either an existing file is polled for the first time, or if
 an existing file’s modification date has changed since the last time it was polled. Renaming or moving a file does not change its modification time. When a Flume agent polls a non-existent file then one of two things happens: 1. When the agent polls a non-existent
 config file for the first time, then the agent behaves according to the flume.called.from.service property. If the property is set, then the agent will continue polling (always at the same period – every 30 seconds). If the property is not set, then the agent
 immediately terminates. ...OR... 2. When the agent polls a non-existent config file and this is not the first time the file is polled, then the agent makes no config changes for this polling period. The agent continues polling rather than terminating.</p>
</div>
</div>
</div>
<div class="section" id="log4j-appender" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Log4J Appender<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#log4j-appender" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">Appends Log4j events to a flume agent’s avro source. A client using this appender must have the flume-ng-sdk in the classpath (eg, flume-ng-sdk-1.4.0.jar). Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="23%"><col width="8%"><col width="69%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>Hostname</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The hostname on which a remote Flume agent is running with an avro source.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>Port</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port at which the remote Flume agent’s avro source is listening.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
UnsafeMode</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If true, the appender will not throw exceptions on failure to send the events.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
AvroReflectionEnabled</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Use Avro Reflection to serialize Log4j events.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
AvroSchemaUrl</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
A URL from which the Avro schema can be retrieved.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Sample log4j.properties file:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.clients.log4jappender.Log4jAppender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.Hostname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">example.com</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.Port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">41414</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.UnsafeMode</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">true</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure a class's logger to output to the flume appender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.logger.org.example.MyClass</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">DEBUG,flume</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">By default each event is converted to a string by calling <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">toString()</span></tt>, or
 by using the Log4j layout, if specified.</p>
<p style="text-align:justify; line-height:20px">If the event is an instance of <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.avro.generic.GenericRecord</span></tt>, <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.avro.specific.SpecificRecord</span></tt>,
 or if the property <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">AvroReflectionEnabled</span></tt> is set to <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">true</span></tt>then
 the event will be serialized using Avro serialization.</p>
<p style="text-align:justify; line-height:20px">Serializing every event with its Avro schema is inefficient, so it is good practice to provide a schema URL from which the schema can be retrieved by the downstream sink, typically the HDFS sink. If <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">AvroSchemaUrl</span></tt> is
 not specified, then the schema will be included as a Flume header.</p>
<p style="text-align:justify; line-height:20px">Sample log4j.properties file configured to use Avro serialization:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.clients.log4jappender.Log4jAppender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.Hostname</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">example.com</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.Port</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">41414</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.AvroReflectionEnabled</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">true</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.flume.AvroSchemaUrl</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">hdfs://namenode/path/to/schema.avsc</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure a class's logger to output to the flume appender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.logger.org.example.MyClass</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">DEBUG,flume</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
</div>
<div class="section" id="load-balancing-log4j-appender" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Load Balancing Log4J Appender<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#load-balancing-log4j-appender" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">Appends Log4j events to a list of flume agent’s avro source. A client using this appender must have the flume-ng-sdk in the classpath (eg, flume-ng-sdk-1.4.0.jar). This appender supports a round-robin and random
 scheme for performing the load balancing. It also supports a configurable backoff timeout so that down agents are removed temporarily from the set of hosts Required properties are in <strong>bold</strong>.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="22%"><col width="11%"><col width="67%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>Hosts</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
A space-separated list of host:port at which Flume (through an AvroSource) is listening for events</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Selector</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ROUND_ROBIN</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Selection mechanism. Must be either ROUND_ROBIN, RANDOM or custom FQDN to class that inherits from LoadBalancingSelector.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
MaxBackoff</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
A long value representing the maximum amount of time in milliseconds the Load balancing client will backoff from a node that has failed to consume an event. Defaults to no backoff</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
UnsafeMode</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
If true, the appender will not throw exceptions on failure to send the events.</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
AvroReflectionEnabled</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Use Avro Reflection to serialize Log4j events.</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
AvroSchemaUrl</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
A URL from which the Avro schema can be retrieved.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">Sample log4j.properties file configured using defaults:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.clients.log4jappender.LoadBalancingLog4jAppender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2.Hosts</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost:25430 localhost:25431</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure a class's logger to output to the flume appender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.logger.org.example.MyClass</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">DEBUG,flume</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Sample log4j.properties file configured using RANDOM load balancing:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.clients.log4jappender.LoadBalancingLog4jAppender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2.Hosts</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost:25430 localhost:25431</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2.Selector</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">RANDOM</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure a class's logger to output to the flume appender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.logger.org.example.MyClass</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">DEBUG,flume</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Sample log4j.properties file configured using backoff:</p>
<div class="highlight-properties">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">org.apache.flume.clients.log4jappender.LoadBalancingLog4jAppender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2.Hosts</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">localhost:25430 localhost:25431 localhost:25432</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2.Selector</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">ROUND_ROBIN</span>
<span class="na" style="color:rgb(0,128,128)">log4j.appender.out2.MaxBackoff</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">30000</span>

<span class="c" style="color:rgb(153,153,136); font-style:italic"># configure a class's logger to output to the flume appender</span>
<span class="na" style="color:rgb(0,128,128)">log4j.logger.org.example.MyClass</span> <span class="o" style="font-weight:bold">=</span> <span class="s" style="color:rgb(187,136,68)">DEBUG,flume</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">#...</span>
</pre>
</div>
</div>
</div>
<div class="section" id="security" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Security<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#security" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">The HDFS sink supports Kerberos authentication if the underlying HDFS is running in secure mode. Please refer to the HDFS Sink section for configuring the HDFS sink Kerberos-related options.</p>
</div>
<div class="section" id="monitoring" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Monitoring<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#monitoring" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">Monitoring in Flume is still a work in progress. Changes can happen very often. Several Flume components report metrics to the JMX platform MBean server. These metrics can be queried using Jconsole.</p>
<div class="section" id="ganglia-reporting">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Ganglia Reporting<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#ganglia-reporting" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Flume can also report these metrics to Ganglia 3 or Ganglia 3.1 metanodes. To report metrics to Ganglia, a flume agent must be started with this support. The Flume agent has to be started by passing in the following
 parameters as system properties prefixed by <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">flume.monitoring.</span></tt>, and can be specified in the flume-env.sh:</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="6%"><col width="74%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">ganglia</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>hosts</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Comma-separated list of <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">hostname:port</span></tt></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
pollInterval</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
60</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Time, in seconds, between consecutive reporting to ganglia server</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
isGanglia3</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
false</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Ganglia server version is 3. By default, Flume sends in ganglia 3.1 format</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">We can start Flume with Ganglia support as follows:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ bin/flume-ng agent --conf-file example.conf --name a1 -Dflume.monitoring.type=ganglia -Dflume.monitoring.hosts=com.example:1234,com.example2:5455
</pre>
</div>
</div>
</div>
<div class="section" id="json-reporting">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
JSON Reporting<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#json-reporting" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Flume can also report metrics in a JSON format. To enable reporting in JSON format, Flume hosts a Web server on a configurable port. Flume reports metrics in the following JSON format:</p>
<div class="highlight-java">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="o" style="font-weight:bold">{</span>
<span class="s" style="color:rgb(187,136,68)">"typeName1.componentName1"</span> <span class="o" style="font-weight:bold">:</span> <span class="o" style="font-weight:bold">{</span><span class="s" style="color:rgb(187,136,68)">"metric1"</span> <span class="o" style="font-weight:bold">:</span> <span class="s" style="color:rgb(187,136,68)">"metricValue1"</span><span class="o" style="font-weight:bold">,</span> <span class="s" style="color:rgb(187,136,68)">"metric2"</span> <span class="o" style="font-weight:bold">:</span> <span class="s" style="color:rgb(187,136,68)">"metricValue2"</span><span class="o" style="font-weight:bold">},</span>
<span class="s" style="color:rgb(187,136,68)">"typeName2.componentName2"</span> <span class="o" style="font-weight:bold">:</span> <span class="o" style="font-weight:bold">{</span><span class="s" style="color:rgb(187,136,68)">"metric3"</span> <span class="o" style="font-weight:bold">:</span> <span class="s" style="color:rgb(187,136,68)">"metricValue3"</span><span class="o" style="font-weight:bold">,</span> <span class="s" style="color:rgb(187,136,68)">"metric4"</span> <span class="o" style="font-weight:bold">:</span> <span class="s" style="color:rgb(187,136,68)">"metricValue4"</span><span class="o" style="font-weight:bold">}</span>
<span class="o" style="font-weight:bold">}</span>
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Here is an example:</p>
<div class="highlight-java">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="o" style="font-weight:bold">{</span>
<span class="s" style="color:rgb(187,136,68)">"CHANNEL.fileChannel"</span><span class="o" style="font-weight:bold">:{</span><span class="s" style="color:rgb(187,136,68)">"EventPutSuccessCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"468085"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"Type"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"CHANNEL"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"StopTime"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"0"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"EventPutAttemptCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"468086"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"ChannelSize"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"233428"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"StartTime"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"1344882233070"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"EventTakeSuccessCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"458200"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"ChannelCapacity"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"600000"</span><span class="o" style="font-weight:bold">,</span>
                      <span class="s" style="color:rgb(187,136,68)">"EventTakeAttemptCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"458288"</span><span class="o" style="font-weight:bold">},</span>
<span class="s" style="color:rgb(187,136,68)">"CHANNEL.memChannel"</span><span class="o" style="font-weight:bold">:{</span><span class="s" style="color:rgb(187,136,68)">"EventPutSuccessCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"22948908"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"Type"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"CHANNEL"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"StopTime"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"0"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"EventPutAttemptCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"22948908"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"ChannelSize"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"5"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"StartTime"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"1344882209413"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"EventTakeSuccessCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"22948900"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"ChannelCapacity"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"100"</span><span class="o" style="font-weight:bold">,</span>
                   <span class="s" style="color:rgb(187,136,68)">"EventTakeAttemptCount"</span><span class="o" style="font-weight:bold">:</span><span class="s" style="color:rgb(187,136,68)">"22948908"</span><span class="o" style="font-weight:bold">}</span>
<span class="o" style="font-weight:bold">}</span>
</pre>
</div>
</div>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="20%"><col width="6%"><col width="74%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, has to be <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">http</span></tt></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
port</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
41414</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The port to start the server on.</td>
</tr>
</tbody>
</table>
<p style="text-align:justify; line-height:20px">We can start Flume with Ganglia support as follows:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ bin/flume-ng agent --conf-file example.conf --name a1 -Dflume.monitoring.type=http -Dflume.monitoring.port=34545
</pre>
</div>
</div>
<p style="text-align:justify; line-height:20px">Metrics will then be available at <strong>http://&lt;hostname&gt;:&lt;port&gt;/metrics</strong> webpage. Custom components can report metrics as mentioned in the Ganglia section above.</p>
</div>
<div class="section" id="custom-reporting">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Custom Reporting<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#custom-reporting" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">It is possible to report metrics to other systems by writing servers that do the reporting. Any reporting class has to implement the interface,<tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.instrumentation.MonitorService</span></tt>.
 Such a class can be used the same way the GangliaServer is used for reporting. They can poll the platform mbean server to poll the mbeans for metrics. For example, if an HTTP monitoring service called <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">HTTPReporting</span></tt> can
 be used as follows:</p>
<div class="highlight-none">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)">$ bin/flume-ng agent --conf-file example.conf --name a1 -Dflume.monitoring.type=com.example.reporting.HTTPReporting -Dflume.monitoring.node=com.example:332
</pre>
</div>
</div>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="33%"><col width="10%"><col width="57%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Property Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Default</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>type</strong></td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
The component type name, has to be FQCN</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reporting-metrics-from-custom-components">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Reporting metrics from custom components<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#reporting-metrics-from-custom-components" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Any custom flume components should inherit from the <tt class="docutils literal" style="background-color:rgb(236,240,243); padding:0px 1px; font-size:0.95em"><span class="pre">org.apache.flume.instrumentation.MonitoredCounterGroup</span></tt> class.
 The class should then provide getter methods for each of the metrics it exposes. See the code below. The MonitoredCounterGroup expects a list of attributes whose metrics are exposed by this class. As of now, this class only supports exposing metrics as long
 values.</p>
<div class="highlight-java">
<div class="highlight">
<pre style="overflow-x:auto; overflow-y:hidden; padding:5px; background-color:rgb(238,255,204); color:rgb(51,51,51); line-height:15px; border-top-width:1px; border-bottom-width:1px; border-style:solid none; border-top-color:rgb(170,204,153); border-bottom-color:rgb(170,204,153)"><span class="kd" style="font-weight:bold">public</span> <span class="kd" style="font-weight:bold">class</span> <span class="nc" style="color:rgb(68,85,136); font-weight:bold">SinkCounter</span> <span class="kd" style="font-weight:bold">extends</span> <span class="n">MonitoredCounterGroup</span> <span class="kd" style="font-weight:bold">implements</span>
    <span class="n">SinkCounterMBean</span> <span class="o" style="font-weight:bold">{</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_CONNECTION_CREATED</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.connection.creation.count"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_CONNECTION_CLOSED</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.connection.closed.count"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_CONNECTION_FAILED</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.connection.failed.count"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_BATCH_EMPTY</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.batch.empty"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_BATCH_UNDERFLOW</span> <span class="o" style="font-weight:bold">=</span>
      <span class="s" style="color:rgb(187,136,68)">"sink.batch.underflow"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_BATCH_COMPLETE</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.batch.complete"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_EVENT_DRAIN_ATTEMPT</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.event.drain.attempt"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span> <span class="n">COUNTER_EVENT_DRAIN_SUCCESS</span> <span class="o" style="font-weight:bold">=</span>
    <span class="s" style="color:rgb(187,136,68)">"sink.event.drain.sucess"</span><span class="o" style="font-weight:bold">;</span>

  <span class="kd" style="font-weight:bold">private</span> <span class="kd" style="font-weight:bold">static</span> <span class="kd" style="font-weight:bold">final</span> <span class="n">String</span><span class="o" style="font-weight:bold">[]</span> <span class="n">ATTRIBUTES</span> <span class="o" style="font-weight:bold">=</span> <span class="o" style="font-weight:bold">{</span>
    <span class="n">COUNTER_CONNECTION_CREATED</span><span class="o" style="font-weight:bold">,</span> <span class="n">COUNTER_CONNECTION_CLOSED</span><span class="o" style="font-weight:bold">,</span>
    <span class="n">COUNTER_CONNECTION_FAILED</span><span class="o" style="font-weight:bold">,</span> <span class="n">COUNTER_BATCH_EMPTY</span><span class="o" style="font-weight:bold">,</span>
    <span class="n">COUNTER_BATCH_UNDERFLOW</span><span class="o" style="font-weight:bold">,</span> <span class="n">COUNTER_BATCH_COMPLETE</span><span class="o" style="font-weight:bold">,</span>
    <span class="n">COUNTER_EVENT_DRAIN_ATTEMPT</span><span class="o" style="font-weight:bold">,</span> <span class="n">COUNTER_EVENT_DRAIN_SUCCESS</span>
  <span class="o" style="font-weight:bold">};</span>


  <span class="kd" style="font-weight:bold">public</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">SinkCounter</span><span class="o" style="font-weight:bold">(</span><span class="n">String</span> <span class="n">name</span><span class="o" style="font-weight:bold">)</span> <span class="o" style="font-weight:bold">{</span>
    <span class="kd" style="font-weight:bold">super</span><span class="o" style="font-weight:bold">(</span><span class="n">MonitoredCounterGroup</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">Type</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">SINK</span><span class="o" style="font-weight:bold">,</span> <span class="n">name</span><span class="o" style="font-weight:bold">,</span> <span class="n">ATTRIBUTES</span><span class="o" style="font-weight:bold">);</span>
  <span class="o" style="font-weight:bold">}</span>

  <span class="nd">@Override</span>
  <span class="kd" style="font-weight:bold">public</span> <span class="kt" style="color:rgb(68,85,136); font-weight:bold">long</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">getConnectionCreatedCount</span><span class="o" style="font-weight:bold">()</span> <span class="o" style="font-weight:bold">{</span>
    <span class="k" style="font-weight:bold">return</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">get</span><span class="o" style="font-weight:bold">(</span><span class="n">COUNTER_CONNECTION_CREATED</span><span class="o" style="font-weight:bold">);</span>
  <span class="o" style="font-weight:bold">}</span>

  <span class="kd" style="font-weight:bold">public</span> <span class="kt" style="color:rgb(68,85,136); font-weight:bold">long</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">incrementConnectionCreatedCount</span><span class="o" style="font-weight:bold">()</span> <span class="o" style="font-weight:bold">{</span>
    <span class="k" style="font-weight:bold">return</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">increment</span><span class="o" style="font-weight:bold">(</span><span class="n">COUNTER_CONNECTION_CREATED</span><span class="o" style="font-weight:bold">);</span>
  <span class="o" style="font-weight:bold">}</span>

<span class="o" style="font-weight:bold">}</span>
</pre>
</div>
</div>
</div>
</div>
<div class="section" id="topology-design-considerations" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Topology Design Considerations<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#topology-design-considerations" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">Flume is very flexible and allows a large range of possible deployment scenarios. If you plan to use Flume in a large, production deployment, it is prudent to spend some time thinking about how to express your
 problem in terms of a Flume topology. This section covers a few considerations.</p>
<div class="section" id="is-flume-a-good-fit-for-your-problem">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Is Flume a good fit for your problem?<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#is-flume-a-good-fit-for-your-problem" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">If you need to ingest textual log data into Hadoop/HDFS then Flume is the right fit for your problem, full stop. For other use cases, here are some guidelines:</p>
<p style="text-align:justify; line-height:20px">Flume is designed to transport and ingest regularly-generated event data over relatively stable, potentially complex topologies. The notion of “event data” is very broadly defined. To Flume, an event is just a
 generic blob of bytes. There are some limitations on how large an event can be - for instance, it cannot be larger than what you can store in memory or on disk on a single machine - but in practice, flume events can be everything from textual log entries to
 image files. The key property of an event is that they are generated in a continuous, streaming fashion. If your data is not regularly generated (i.e. you are trying to do a single bulk load of data into a Hadoop cluster) then Flume will still work, but it
 is probably overkill for your situation. Flume likes relatively stable topologies. Your topologies do not need to be immutable, because Flume can deal with changes in topology without losing data and can also tolerate periodic reconfiguration due to fail-over
 or provisioning. It probably won’t work well if you plant to change topologies every day, because reconfiguration takes some thought and overhead.</p>
</div>
<div class="section" id="flow-reliability-in-flume">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flow reliability in Flume<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flow-reliability-in-flume" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">The reliability of a Flume flow depends on several factors. By adjusting these factors, you can achieve a wide array of reliability options with Flume.</p>
<p style="text-align:justify; line-height:20px"><strong>What type of channel you use.</strong> Flume has both durable channels (those which will persist data to disk) and non durable channels (those which will lose data if a machine fails). Durable channels
 use disk-based storage, and data stored in such channels will persist across machine restarts or non disk-related failures.</p>
<p style="text-align:justify; line-height:20px"><strong>Whether your channels are sufficiently provisioned for the workload.</strong> Channels in Flume act as buffers at various hops. These buffers have a fixed capacity, and once that capacity is full you will
 create back pressure on earlier points in the flow. If this pressure propagates to the source of the flow, Flume will become unavailable and may lose data.</p>
<p style="text-align:justify; line-height:20px"><strong>Whether you use redundant topologies.</strong> Flume let’s you replicate flows across redundant topologies. This can provide a very easy source of fault tolerance and one which is overcomes both disk or
 machine failures. </p>
<p style="text-align:justify; line-height:20px"><em>The best way to think about reliability in a Flume topology is to consider various failure scenarios and their outcomes.</em> What happens if a disk fails? What happens if a machine fails? What happens if
 your terminal sink (e.g. HDFS) goes down for some time and you have back pressure? The space of possible designs is huge, but the underlying questions you need to ask are just a handful.</p>
</div>
<div class="section" id="flume-topology-design">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Flume topology design<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#flume-topology-design" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">The first step in designing a Flume topology is to enumerate all sources and destinations (terminal sinks) for your data. These will define the edge points of your topology. The next consideration is whether to
 introduce intermediate aggregation tiers or event routing. If you are collecting data form a large number of sources, it can be helpful to aggregate the data in order to simplify ingestion at the terminal sink. An aggregation tier can also smooth out burstiness
 from sources or unavailability at sinks, by acting as a buffer. If you are routing data between different locations, you may also want to split flows at various points: this creates sub-topologies which may themselves include aggregation points.</p>
</div>
<div class="section" id="sizing-a-flume-deployment">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Sizing a Flume deployment<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#sizing-a-flume-deployment" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">Once you have an idea of what your topology will look like, the next question is how much hardware and networking capacity is needed. This starts by quantifying how much data you generate. That is not always a
 simple task! Most data streams are bursty (for instance, due to diurnal patterns) and potentially unpredictable. A good starting point is to think about the maximum throughput you’ll have in each tier of the topology, both in terms of <em>events per second</em> and <em>bytes
 per second</em>. Once you know the required throughput of a given tier, you can calulate a lower bound on how many nodes you require for that tier. To determine attainable throughput, it’s best to experiment with Flume on your hardware, using synthetic or
 sampled event data. In general, disk-based channels should get 10’s of MB/s and memory based channels should get 100’s of MB/s or more. Performance will vary widely, however depending on hardware and operating environment.</p>
<p style="text-align:justify; line-height:20px">Sizing aggregate throughput gives you a lower bound on the number of nodes you will need to each tier. There are several reasons to have additional nodes, such as increased redundancy and better ability to absorb
 bursts in load.</p>
</div>
</div>
<div class="section" id="troubleshooting" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Troubleshooting<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#troubleshooting" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<div class="section" id="handling-agent-failures">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Handling agent failures<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#handling-agent-failures" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">If the Flume agent goes down, then the all the flows hosted on that agent are aborted. Once the agent is restarted, then flow will resume. The flow using file channel or other stable channel will resume processing
 events where it left off. If the agent can’t be restarted on the same hardware, then there is an option to migrate the database to another hardware and setup a new Flume agent that can resume processing the events saved in the db. The database HA futures can
 be leveraged to move the Flume agent to another host.</p>
</div>
<div class="section" id="compatibility">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Compatibility<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#compatibility" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<div class="section" id="hdfs">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
HDFS<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#hdfs" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">Currently Flume supports HDFS 0.20.2 and 0.23.</p>
</div>
<div class="section" id="id3">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
AVRO<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#id3" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">TBD</p>
</div>
<div class="section" id="additional-version-requirements">
<h4 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:19px">
Additional version requirements<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#additional-version-requirements" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h4>
<p style="text-align:justify; line-height:20px">TBD</p>
</div>
</div>
<div class="section" id="tracing">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
Tracing<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#tracing" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">TBD</p>
</div>
<div class="section" id="more-sample-configs">
<h3 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:22px">
More Sample Configs<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#more-sample-configs" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h3>
<p style="text-align:justify; line-height:20px">TBD</p>
</div>
</div>
<div class="section" id="component-summary" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Component Summary<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#component-summary" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="40%"><col width="15%"><col width="45%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Component Interface</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Type Alias</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Implementation Class</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Channel</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
memory</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.MemoryChannel</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Channel</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
jdbc</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.jdbc.JdbcChannel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Channel</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
file</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.FileChannel</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Channel</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.PseudoTxnMemoryChannel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Channel</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MyChannel</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
avro</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.AvroSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
netcat</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.NetcatSource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
seq</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.SequenceGeneratorSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
exec</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.ExecSource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
syslogtcp</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.SyslogTcpSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
multiport_syslogtcp</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.MultiportSyslogTCPSource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
syslogudp</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.SyslogUDPSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
spooldir</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.SpoolDirectorySource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
http</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.http.HTTPSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
thrift</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.ThriftSource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
jms</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.jms.JMSSource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.avroLegacy.AvroLegacySource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.source.thriftLegacy.ThriftLegacySource</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Source</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MySource</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
null</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.NullSink</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
logger</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.LoggerSink</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
avro</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.AvroSink</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hdfs</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.hdfs.HDFSEventSink</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
hbase</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.hbase.HBaseSink</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
asynchbase</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.hbase.AsyncHBaseSink</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
elasticsearch</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.elasticsearch.ElasticSearchSink</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
file_roll</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.RollingFileSink</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
irc</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.irc.IRCSink</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
thrift</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.ThriftSink</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.Sink</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MySink</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.ChannelSelector</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
replicating</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.ReplicatingChannelSelector</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.ChannelSelector</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
multiplexing</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.MultiplexingChannelSelector</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.ChannelSelector</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MyChannelSelector</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.SinkProcessor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
default</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.DefaultSinkProcessor</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.SinkProcessor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
failover</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.FailoverSinkProcessor</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.SinkProcessor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
load_balance</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.sink.LoadBalancingSinkProcessor</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.SinkProcessor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
 </td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.Interceptor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
timestamp</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.TimestampInterceptor$Builder</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.Interceptor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
host</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.HostInterceptor$Builder</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.Interceptor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
static</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.StaticInterceptor$Builder</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.Interceptor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
regex_filter</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.RegexFilteringInterceptor$Builder</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.Interceptor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
regex_extractor</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.interceptor.RegexFilteringInterceptor$Builder</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.encryption.KeyProvider$Builder</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
jceksfile</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.encryption.JCEFileKeyProvider</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.encryption.KeyProvider$Builder</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MyKeyProvider</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.encryption.CipherProvider</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
aesctrnopadding</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.encryption.AESCTRNoPaddingProvider</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.channel.file.encryption.CipherProvider</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MyCipherProvider</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.serialization.EventSerializer$Builder</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
text</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.serialization.BodyTextEventSerializer$Builder</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.serialization.EventSerializer$Builder</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
avro_event</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.serialization.FlumeEventAvroEventSerializer$Builder</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.apache.flume.serialization.EventSerializer$Builder</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
–</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
org.example.MyEventSerializer$Builder</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="alias-conventions" style="font-family:Simsun; font-size:16px">
<h2 style="background-color:rgb(242,242,242); font-weight:normal; color:rgb(0,0,139); border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); margin:20px -20px 10px; padding:3px 0px 3px 10px; font-size:26px">
Alias Conventions<a target="_blank" class="headerlink" href="http://flume.apache.org/FlumeUserGuide.html#alias-conventions" rel="nofollow" title="Permalink to this headline" style="color:rgb(198,15,15); text-decoration:none; visibility:hidden; font-size:0.8em; padding:0px 4px"></a></h2>
<p style="text-align:justify; line-height:20px">These conventions for alias names are used in the component-specific examples above, to keep the names short and consistent across all examples.</p>
<table border="1" class="docutils" style="border:0px; border-collapse:collapse">
<colgroup><col width="37%"><col width="63%"></colgroup>
<thead valign="bottom">
<tr class="row-odd">
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Alias Name</th>
<th class="head" style="padding:1px 8px 1px 5px; background-color:rgb(238,221,238); border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
Alias Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
a</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>a</strong>gent</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
c</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>c</strong>hannel</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
r</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sou<strong>r</strong>ce</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
k</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sin<strong>k</strong></td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
g</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
sink <strong>g</strong>roup</td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
i</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>i</strong>nterceptor</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
y</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
ke<strong>y</strong></td>
</tr>
<tr class="row-odd">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
h</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>h</strong>ost</td>
</tr>
<tr class="row-even">
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
s</td>
<td style="padding:1px 8px 1px 5px; border-width:0px 0px 1px; border-bottom-style:solid; border-bottom-color:rgb(170,170,170)">
<strong>s</strong>erializer</td>
</tr>
</tbody>
</table>
</div>
            </div>
                </div>