---
layout:     post
title:      CDH5.14.X安装Kafka过程（Kafka版本选择的过程）
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p>CDH5.14安装Kafka过程：</p><p></p><p style="font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;background-color:rgb(255,255,255);">在CDH官网中关于Kafka的安装和升级中已经说到，在CDH中，Kafka作为一个分布式的parcel，单独出来作为parcel分发安装包。只要我们把分离开的kafka的服务描述jar包和服务parcel包下载了，就可以实现完美集成了。</p><p style="font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;background-color:rgb(255,255,255);">注意集成之前请阅读官方文档，特别是版本支持方面。</p><p><img src="https://img-blog.csdn.net/20180629112456194?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p>查看kafka与CDH版本对应：</p><p>https://www.cloudera.com/documentation/enterprise/release-notes/topics/rn_consolidated_pcm.html#pcm_kafka</p><p><img src="https://img-blog.csdn.net/20180629110627311?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p>我的CDH是5.14的所以选择3.1的版本。</p><p>到：http://archive.cloudera.com/kafka/parcels/latest/</p><p><img src="https://img-blog.csdn.net/20180629114427358?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p>这个网址下载你需要的kafka的parcel版本。我的虚拟机是Centos7的，下载对应的版本，其版本对应如下</p><p></p><table border="1" width="200" cellspacing="1" cellpadding="1"><tbody><tr><td><span style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);">EL is short for Red Hat Enterprise Linux (EL).</span><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><span style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);">EL6 is the download for Red Hat 6.x, CentOS 6.x, and CloudLinux 6.x.</span><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><span style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);">EL5 is the download for Red Hat 5.x, CentOS 5.x, CloudLinux 5.x.</span><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><span style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);">EL7 is the download for Red Hat 7.x, CentOS 7.x, and CloudLinux 7.x.</span><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><br style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);"><span style="font-family:Arial, Helvetica, 'Microsoft Sans Serif', sans-serif;font-size:14px;background-color:rgb(238,240,244);">The UNIXy Varnish Plugins run on all the above platforms.</span></td></tr></tbody></table><p>打开manifest.json</p><p><img src="https://img-blog.csdn.net/20180629114824183?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>找到这个hash值，将其复制到.sha 文件中去，替换掉原来的hash值。</p><p>然后将这三个文件，拷贝到parcel-repo目录下。如果有相同的文件，即manifest.json，只需将之前的重命名即可。</p><p><img src="https://img-blog.csdn.net/20180629120341125?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p>2：下载Kafka-1.2.0.jar</p><p>网址：http://archive.cloudera.com/csds/kafka/<br></p><p><span style="color:rgb(0,0,0);font-family:'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:rgb(245,245,245);"><span style="font-size:14px;">上传CSD包KAFKA-1.2.0.jar，到服务器CDH目录下，路径为/opt/cloudera/csd。</span></span><br></p><p><span style="color:rgb(0,0,0);font-family:'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:rgb(245,245,245);"><span style="font-size:14px;">3：<img src="https://img-blog.csdn.net/20180629121100406?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></span></span></p><p><span style="color:rgb(0,0,0);font-family:'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:rgb(245,245,245);"><span style="font-size:14px;">点击继续时候，让你install kafka 的parcel，点进去，检查更新parcel，分配，激活。</span></span></p><p><span style="color:rgb(0,0,0);font-family:'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:rgb(245,245,245);"><span style="font-size:14px;"><img src="https://img-blog.csdn.net/20180629121200884?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></span></p><p><span style="color:rgb(0,0,0);font-family:'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:rgb(245,245,245);"><span style="font-size:14px;"><img src="https://img-blog.csdn.net/20180629121252297?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0JpZ0RhdGFfTWluaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span></span></p><p><span style="color:rgb(0,0,0);font-family:'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;background-color:rgb(245,245,245);"><span style="font-size:14px;">配置完成！！</span></span></p>            </div>
                </div>