---
layout:     post
title:      HIVE仓库扩展：连接hive数据库
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <div><span style="font-size:14pt;"><strong>一、命令行客户端工具：</strong></span></div><div><span style="color:rgb(51,51,51);font-size:12pt;"><strong>HiveCLI </strong></span></div><div><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:15px;line-height:30px;">CLI是和Hive交互的最简单/最常用方式，你只需要在一个具备完整Hive环境下的Shell终端中键入</span><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:15px;line-height:30px;background-color:rgb(255,255,255);"><strong><em>hive</em></strong></span><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:15px;line-height:30px;">即可启动服务。</span></div><div><img src="https://img-blog.csdn.net/20180308145519756?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzUxNTMyMDA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></div><div><br></div><div><span style="color:rgb(51,51,51);"><strong>Beeline</strong></span></div><div><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">Beeline</span><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">是</span><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">Hive</span><span style="color:rgb(51,51,51);">新的命令行客户端工具。</span></div><div>Hive客户端工具后续将使用<span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">Beeline </span><span style="background-color:rgb(255,255,255);">替代</span><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">HiveCLI </span><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">，并且后续版本也会废弃掉</span><span style="color:rgb(51,51,51);background-color:rgb(255,255,255);">HiveCLI </span><span style="color:rgb(51,51,51);">客户端工具。</span></div><div>Beeline是从 Hive 0.11版本引入的。</div><div><span style="min-height:26px;">Beeline工作模式有两种，即本地嵌入模式和远程模式。嵌入模式情况下，它返回一个嵌入式的Hive（类似于Hive CLI）。而远程模式则是通过Thrift协议与某个单独的HiveServer2进程进行连接通信。</span></div><div><span style="min-height:26px;">下面给一个简单的登录Beeline的使用实例：</span></div><div><img src="https://img-blog.csdn.net/20180308145530919?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzUxNTMyMDA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></div><div>退出beeline命令行则是!quit, 很多命令都是前面需要加一个感叹号， 但对于登录了后的DDL,DML，则直接运行SQL语句即可，语句后带上一个分号，然后回车执行。</div><div><br></div><div><span style="font-size:14pt;"><strong>二、python远程连接：</strong></span></div><div>需要装包：</div><div>pip install impyla</div><div>pip install thrift==0.9.3</div><div><br></div><div style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:12px;color:rgb(51,51,51);border:1px solid rgba(0,0,0,.14902);background-color:rgb(251,250,248);"><div><br></div><div>from impala.dbapi import connect</div><div>def connHive():</div><div>    conn = connect(host='192.168.1.54', port=10000, auth_mechanism='PLAIN', user='hdfs', password='hdfs')</div><div>    cur = conn.cursor()</div></div><div><br></div><div><br></div><div><br></div>            </div>
                </div>