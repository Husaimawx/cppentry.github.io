---
layout:     post
title:      初步学习hive的笔记
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                数据分析引擎：Hive<br>属于hadoop，支持sql<br>一.什么是Hive？<br><span style="white-space:pre;">	</span>1、Hive是一个翻译器，SQL ---&gt; Hive引擎  ---&gt; MR程序<br><span style="white-space:pre;">	</span>2、Hive是构建在HDFS上的一个数据仓库（Data Warehouse）<br><span style="white-space:pre;">			</span>Hive       HDFS<br><span style="white-space:pre;">			</span>表         目录<br><span style="white-space:pre;">			</span>分区       目录<br><span style="white-space:pre;">			</span>数据       文件<br><span style="white-space:pre;">			</span>桶         文件<br><span style="white-space:pre;">			</span><br><p><span style="white-space:pre;">	</span>3、Hive支持SQL（SQL99标准的一个自子集）</p><p>二.Hive的体系结构</p><p><img src="https://img-blog.csdn.net/20180507222421602" alt=""><br></p><p>三.Hive的配置模式</p><p>1.嵌套模式</p><p></p><p>                (*)不需要MySQL的支持，使用Hive的自带的数据库Derby</p><p><span style="white-space:pre;">		</span>(*)局限：只支持一个连接</p><p>                (*) 保存的数据在本地（但还是要启动hadoop）</p><p>                初始化Derby数据库<br><span style="white-space:pre;">			</span>schematool -dbType derby -initSchema<br></p><p> 2.远程模式（本地模式也分到这里）</p><p>                (*) 保存的数据在hdfs上<br></p><p>                (*) 需要安装mysql</p><p>                (*)将mysql的jar包放到lib目录下<br></p><p><span style="white-space:pre;">		</span>      注意一定要使用高版本的MySQL驱动（5.1.43以上的版本）</p><p>初始化：schematool -dbType mysql -initSchema<br></p><p>四.Hive的数据模型</p><p>        1、内部表：相当于MySQL的表  对应的HDFS的目录  /user/hive/warehouse<br></p><p>        2、分区表: 可以提高查询的效率的----&gt; 通过查看SQL的执行计划<br></p><p>        3、外部表<br></p><p>        4、桶表: 桶是一个文件<br></p><p>        5、视图：view  虚表<br><span style="white-space:pre;">		</span>(1) 视图不存数据  视图依赖的表叫基表<br><span style="white-space:pre;">		</span>(2) 操作视图 跟操作表 一样<br><span style="white-space:pre;">		</span>(3) 视图可以提高查询的效率吗？<br></p><p><span style="white-space:pre;">			</span>不可以、视图是简化复杂的查询</p><p>五.Hive的查询：就是SQL：select<span style="white-space:pre;">	</span>---&gt; MapReduce<br></p><p>六.Hive的Java API：本质就是JDBC程序<br></p><p>七.Hive的自定义函数（UDF：user defined function）：本质就是一个Java程序<br></p><p><br></p>            </div>
                </div>