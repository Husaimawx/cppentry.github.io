---
layout:     post
title:      手动创建用户
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <div>﻿﻿</div><p><span style="font-family:'宋体';font-size:14pt;"><span style="font-family:'宋体';color:#000000;">手动添加用户</span><span style="color:#000000;">hive</span><span style="color:#000000;"><span style="font-family:'宋体';">，基本组为</span><span style="font-family:Calibri;">hive</span><span style="font-family:'宋体';">（</span><span style="font-family:Calibri;">5000</span><span style="font-family:'宋体';">），附加组为</span><span style="font-family:Calibri;">mygroup</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">1.</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">[root@zhg ~]# nano /etc/group</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;"><span style="font-family:'宋体';">在最后一行添加</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">hive:x:5000:</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">mygroup:x:504:hive</span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:10.5pt;">2.</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">[root@zhg ~]# nano /etc/passwd</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;"><span style="font-family:'宋体';">在最后一行添加</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">hive:x:5000:5000:Hive:/home/hive:/bin/bash</span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:'宋体';font-size:10.5pt;"><span style="color:#000000;">[root@zhg ~]# nano /etc/shadow</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;"><span style="font-family:'宋体';">引入：里面涉及到现在的天数问题这样计算：</span></span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">4.</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">[root@zhg ~]# cp -r /etc/skel/ /home/hive</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;"><span style="font-family:'宋体';">备注：复制用户个人的环境配置文件</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">[root@zhg ~]# chown -R hive.hive /home/hive/</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;"><span style="font-family:'宋体';">备注：更改目录及目录下的属主和属组</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">[root@zhg ~]# chmod -R go= /home/hive/</span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;"><span style="font-family:'宋体';">备注：取消属组和其他用户的权限</span></span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">5.</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;"><span style="font-family:'宋体';">验证</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">	</span><span style="font-family:'宋体';font-size:14pt;">[root@zhg ~]# ls -ld /home/hive/</span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><strong><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"><span style="color:#000000;"> </span></span></strong></p><p><span style="color:#000000;"><strong><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">6.</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">	</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"><span style="font-family:'宋体';">给用户加密码</span></span></strong></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:'宋体';font-size:10.5pt;"><span style="font-family:'宋体';color:#000000;">备注：最后一行是</span><span style="color:#000000;">passwd</span><span style="font-family:'宋体';color:#000000;">对密码的加密命令</span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:'宋体';font-size:10.5pt;"><span style="font-family:'宋体';color:#000000;">其中</span><span style="color:#000000;">-1</span><span style="color:#000000;"><span style="font-family:'宋体';">（壹）是使用</span><span style="font-family:Calibri;">md5</span><span style="font-family:'宋体';">加密</span></span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">	</span><span style="font-family:'宋体';font-size:10.5pt;">-salt string<span style="font-family:'宋体';">是用来给密码添加杂质的</span></span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><span style="color:#000000;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:Calibri;font-size:10.5pt;"> </span></span></p><p><span style="color:#000000;"><span style="font-family:'宋体';font-size:10.5pt;"> </span></span></p>            </div>
                </div>