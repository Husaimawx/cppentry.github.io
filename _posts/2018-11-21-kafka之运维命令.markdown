---
layout:     post
title:      kafka之运维命令
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文是作者在学习与工作中的总结与笔记，如有内容是您的原创，请评论留下链接地址，我会在文章开头声明。					https://blog.csdn.net/usagoole/article/details/82587624				</div>
								            <div id="content_views" class="markdown_views prism-tomorrow-night">
							<!-- flowchart 箭头图标 勿删 -->
							<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>
							<p></p><div class="toc"><h3>文章目录</h3><ul><li><a href="#kafka_3" rel="nofollow">kafka版本声明</a></li><li><a href="#_7" rel="nofollow">常用命令</a></li><ul><li><a href="#kafka_9" rel="nofollow">查看kafka版本</a></li><li><a href="#_17" rel="nofollow">主题</a></li><li><a href="#_67" rel="nofollow">生产</a></li><li><a href="#_75" rel="nofollow">消费</a></li><li><a href="#_126" rel="nofollow">集群</a></li><li><a href="#_203" rel="nofollow">压测命令</a></li></ul></ul></div><p></p>
<!--v20180910 &#23436;&#25104;-->
<h1><a id="kafka_3"></a>kafka版本声明</h1>
<ol>
<li>使用的是<code>kafka 0.10.0.1</code>版本</li>
</ol>
<h1><a id="_7"></a>常用命令</h1>
<h2><a id="kafka_9"></a>查看kafka版本</h2>
<ol>
<li>
<p>查看kafka版本</p>
<pre><code class="language-java"><code class="prism  language-java"># find <span class="token operator">/</span> <span class="token operator">-</span>name \<span class="token operator">*</span>kafka_\<span class="token operator">*</span> <span class="token operator">|</span> head <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">|</span> grep <span class="token operator">-</span>o <span class="token string">'\kafka[^\n]*'</span>
</code></code></pre>
</li>
</ol>
<h2><a id="_17"></a>主题</h2>
<ol>
<li>
<p>创建<code>Topic</code>、<code>Partition</code>(5个)，<code>replication</code>(1个)</p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>topics<span class="token punctuation">.</span>sh <span class="token operator">--</span>create <span class="token operator">--</span>zookeeper zookeeper<span class="token operator">:</span><span class="token number">2181</span> <span class="token operator">--</span>replication<span class="token operator">-</span>factor <span class="token number">1</span> <span class="token operator">--</span>partitions <span class="token number">5</span> <span class="token operator">--</span>topic testTopic
</code></code></pre>
</li>
<li>
<p>查看<code>Topic</code>最大(最小)的<code>offset</code>,<code>--time,-1表示最大，-2表示最小</code></p>
<pre><code class="language-java"><code class="prism  language-java"> # bin<span class="token operator">/</span>kafka<span class="token operator">-</span>run<span class="token operator">-</span><span class="token keyword">class</span><span class="token punctuation">.</span>sh kafka<span class="token punctuation">.</span>tools<span class="token punctuation">.</span>GetOffsetShell <span class="token operator">--</span>broker<span class="token operator">-</span>list localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">-</span>topic topic<span class="token operator">-</span>A <span class="token operator">--</span>time <span class="token operator">-</span><span class="token number">1</span>

topic<span class="token operator">-</span>A<span class="token operator">:</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">60</span>
topic<span class="token operator">-</span>A<span class="token operator">:</span><span class="token number">4</span><span class="token operator">:</span><span class="token number">60</span>
topic<span class="token operator">-</span>A<span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">60</span>
topic<span class="token operator">-</span>A<span class="token operator">:</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">60</span>
topic<span class="token operator">-</span>A<span class="token operator">:</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">60</span>
</code></code></pre>
</li>
<li>
<p>列出集群中所有的<code>topic</code></p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>topics<span class="token punctuation">.</span>sh <span class="token operator">--</span>zookeeper zookeeper<span class="token operator">:</span><span class="token number">2181</span> <span class="token operator">--</span>list
</code></code></pre>
</li>
<li>
<p>查看<code>Topic</code>明细</p>
<pre><code class="language-java"><code class="prism  language-java"> # bin<span class="token operator">/</span>kafka<span class="token operator">-</span>topics<span class="token punctuation">.</span>sh <span class="token operator">--</span>describe <span class="token operator">--</span>zookeeper zookeeper<span class="token operator">:</span><span class="token number">2181</span> <span class="token operator">--</span>topic testTopic

Topic<span class="token operator">:</span>testTopic	  PartitionCount<span class="token operator">:</span><span class="token number">5</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span> Configs<span class="token operator">:</span>
Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>  Replicas<span class="token operator">:</span> <span class="token number">1</span> Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">1</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>  Replicas<span class="token operator">:</span> <span class="token number">1</span> Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">2</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>  Replicas<span class="token operator">:</span> <span class="token number">1</span> Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">3</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>  Replicas<span class="token operator">:</span> <span class="token number">1</span> Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">4</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>  Replicas<span class="token operator">:</span> <span class="token number">1</span> Isr<span class="token operator">:</span> <span class="token number">1</span>
</code></code></pre>
</li>
<li>
<p>修改<code>topic</code>参数,<code>partitions</code>个数只能被增加不能减少。如果一定要减少<code>partitions</code>个数，只能删除整个主题，重新建立</p>
<pre><code class="language-java"><code class="prism  language-java"> # bin<span class="token operator">/</span>kafka<span class="token operator">-</span>topics<span class="token punctuation">.</span>sh <span class="token operator">--</span>zookeeper zookeeper<span class="token operator">:</span><span class="token number">2181</span> <span class="token operator">--</span>partition <span class="token number">6</span> <span class="token operator">--</span>topic testTopic <span class="token operator">--</span>alter
</code></code></pre>
</li>
<li>
<p>删除<code>Topic</code>，<code>broker</code>的<code>delete.topic.enable=true</code>才可以删除，否则删除<code>topic</code>的请求会被忽略.删除<code>topic</code>会丢弃<code>topic</code>里所有数据。</p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>topics<span class="token punctuation">.</span>sh <span class="token operator">--</span>zookeeper zookeeper<span class="token operator">:</span><span class="token number">2181</span> <span class="token operator">--</span>delete <span class="token operator">--</span>topic topicAgroup
</code></code></pre>
</li>
</ol>
<h2><a id="_67"></a>生产</h2>
<ol>
<li>
<p>生产数据</p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>console<span class="token operator">-</span>producer<span class="token punctuation">.</span>sh <span class="token operator">--</span>broker<span class="token operator">-</span>list localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span>topic test <span class="token operator">--</span>producer<span class="token punctuation">.</span>config config<span class="token operator">/</span>producer<span class="token punctuation">.</span>properties
</code></code></pre>
</li>
</ol>
<h2><a id="_75"></a>消费</h2>
<ol>
<li>
<p>消费</p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>console<span class="token operator">-</span>consumer<span class="token punctuation">.</span>sh <span class="token operator">--</span>bootstrap<span class="token operator">-</span>server localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span>topic test <span class="token operator">--</span><span class="token keyword">new</span><span class="token operator">-</span>consumer <span class="token operator">--</span>from<span class="token operator">-</span>beginning <span class="token operator">--</span>consumer<span class="token punctuation">.</span>config config<span class="token operator">/</span>consumer<span class="token punctuation">.</span>properties

# bin<span class="token operator">/</span>kafka<span class="token operator">-</span>simple<span class="token operator">-</span>consumer<span class="token operator">-</span>shell<span class="token punctuation">.</span>sh <span class="token operator">--</span>brist localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span>topic test <span class="token operator">--</span>partition <span class="token number">0</span> <span class="token operator">--</span>offset <span class="token number">1234</span>  <span class="token operator">--</span>max<span class="token operator">-</span>messages <span class="token number">10</span>
</code></code></pre>
</li>
<li>
<p>查看消费组<code>offset</code>信息，<code>CURRENT-OFFSET</code>表示最近提交的<code>offset</code>,<code>LOG-END-OFFSET</code>最近一个被提交到集群的<code>offset</code>，<code>LOG-END-OFFSET</code>减去<code>CURRENT-OFFSET</code>可以得到消息积压的个数(<code>LAG的值</code>)</p>
<pre><code class="language-java"><code class="prism  language-java"><span class="token number">1.</span> 运行状态查询	
# bin<span class="token operator">/</span>kafka<span class="token operator">-</span>consumer<span class="token operator">-</span>groups<span class="token punctuation">.</span>sh <span class="token operator">--</span>bootstrap<span class="token operator">-</span>server localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span><span class="token keyword">new</span><span class="token operator">-</span>consumer <span class="token operator">--</span>describe <span class="token operator">--</span>group topicAGroup

GROUP           TOPIC            PARTITION  CURRENT<span class="token operator">-</span>OFFSET  LOG<span class="token operator">-</span>END<span class="token operator">-</span>OFFSET  LAG             OWNER
topicAGroup     topic<span class="token operator">-</span>A           <span class="token number">0</span>          <span class="token number">20</span>              <span class="token number">60</span>              <span class="token number">40</span>     consumer<span class="token operator">-</span><span class="token number">1</span>_<span class="token operator">/</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.1</span>
topicAGroup     topic<span class="token operator">-</span>A           <span class="token number">1</span>          <span class="token number">20</span>              <span class="token number">60</span>              <span class="token number">40</span>     consumer<span class="token operator">-</span><span class="token number">1</span>_<span class="token operator">/</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.1</span>
topicAGroup     topic<span class="token operator">-</span>A           <span class="token number">2</span>          <span class="token number">20</span>              <span class="token number">60</span>              <span class="token number">40</span>     consumer<span class="token operator">-</span><span class="token number">1</span>_<span class="token operator">/</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.1</span>
topicAGroup     topic<span class="token operator">-</span>A           <span class="token number">3</span>          <span class="token number">20</span>              <span class="token number">60</span>              <span class="token number">40</span>     consumer<span class="token operator">-</span><span class="token number">1</span>_<span class="token operator">/</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.1</span>
topicAGroup     topic<span class="token operator">-</span>A           <span class="token number">4</span>          <span class="token number">20</span>              <span class="token number">60</span>              <span class="token number">40</span>     consumer<span class="token operator">-</span><span class="token number">1</span>_<span class="token operator">/</span><span class="token number">172.17</span><span class="token number">.0</span><span class="token number">.1</span>
	<span class="token number">2.</span> 未运行状态查询	
	bash<span class="token operator">-</span><span class="token number">4.3</span># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>consumer<span class="token operator">-</span>groups<span class="token punctuation">.</span>sh <span class="token operator">--</span>bootstrap<span class="token operator">-</span>server localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span><span class="token keyword">new</span><span class="token operator">-</span>consumer <span class="token operator">--</span>describe <span class="token operator">--</span>group topicAGroup
Consumer group `topicAGroup` does not exist or is rebalancing<span class="token punctuation">.</span>

</code></code></pre>
</li>
<li>
<p>查看消费组列表</p>
<pre><code class="language-java"><code class="prism  language-java"> # bin<span class="token operator">/</span>kafka<span class="token operator">-</span>consumer<span class="token operator">-</span>groups<span class="token punctuation">.</span>sh <span class="token operator">--</span><span class="token keyword">new</span><span class="token operator">-</span>consumer <span class="token operator">--</span>bootstrap<span class="token operator">-</span>server localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span>list

topicAGroup
</code></code></pre>
</li>
<li>
<p>读取<code>__consumer_offsets</code>.所有的<code>consumer</code>的<code>offset</code>都以消息的形式写入到这个<code>topic</code>.为了解码这个主题的消息，需要<code>kafka.coordinator.GroupMetadataManager$OffsetsMessageFormatter</code>这个格式化器.通过<code>Math.abs(groupID.hashCode()) % numPartitions</code>确定在<code>__consumer_offsets</code>哪个分区，<code>numPartitions</code>默认是50，这里要查看的<code>groupId</code>是<code>testgroup</code>,<code>Math.abs("testgroup".hashCode()) % 50=27</code>，确定<code>partition</code>为27.输出的结果中有<code>offset</code>(消费者已经提交的偏移量)，此处是100</p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>simple<span class="token operator">-</span>consumer<span class="token operator">-</span>shell<span class="token punctuation">.</span>sh <span class="token operator">--</span>topic  __consumer_offsets <span class="token operator">--</span>partition <span class="token number">27</span> <span class="token operator">--</span>broker<span class="token operator">-</span>list localhost<span class="token operator">:</span><span class="token number">9092</span> <span class="token operator">--</span>formatter <span class="token string">"kafka.coordinator.GroupMetadataManager\$OffsetsMessageFormatter"</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613323875</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699723875</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613324884</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699724884</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613325888</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699725888</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613326893</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699726893</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613327903</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699727903</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613328912</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699728912</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>testgroup<span class="token punctuation">,</span>testTopic<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation">[</span>OffsetMetadata<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span>NO_METADATA<span class="token punctuation">]</span><span class="token punctuation">,</span>CommitTime <span class="token number">1535613329920</span><span class="token punctuation">,</span>ExpirationTime <span class="token number">1535699729920</span><span class="token punctuation">]</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></code></pre>
</li>
</ol>
<h2><a id="_126"></a>集群</h2>
<ol>
<li>
<p>查看集群描述</p>
<pre><code class="language-java"><code class="prism  language-java"> # bin<span class="token operator">/</span>kafka<span class="token operator">-</span>topics<span class="token punctuation">.</span>sh <span class="token operator">--</span>describe <span class="token operator">--</span>zookeeper zookeeper<span class="token operator">:</span><span class="token number">2181</span>
Topic<span class="token operator">:</span>__consumer_offsets	PartitionCount<span class="token operator">:</span><span class="token number">50</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span>	Configs<span class="token operator">:</span>segment<span class="token punctuation">.</span>bytes<span class="token operator">=</span><span class="token number">104857600</span><span class="token punctuation">,</span>cleanup<span class="token punctuation">.</span>policy<span class="token operator">=</span>compact<span class="token punctuation">,</span>compression<span class="token punctuation">.</span>type<span class="token operator">=</span>producer
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">1</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">2</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">3</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">4</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">5</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">6</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">7</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">8</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">9</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">10</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">11</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">12</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">13</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">14</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">15</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">16</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">17</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">18</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">19</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">20</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">21</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">22</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">23</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">24</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">25</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">26</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">27</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">28</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">29</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">30</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">31</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">32</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">33</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">34</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">35</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">36</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">37</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">38</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">39</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">40</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">41</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">42</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">43</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">44</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">45</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">46</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">47</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">48</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> __consumer_offsets	Partition<span class="token operator">:</span> <span class="token number">49</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span>testTopic	PartitionCount<span class="token operator">:</span><span class="token number">5</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span>	Configs<span class="token operator">:</span>
	Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">1</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">2</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">3</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> testTopic	Partition<span class="token operator">:</span> <span class="token number">4</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span>testTopic3	PartitionCount<span class="token operator">:</span><span class="token number">1</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span>	Configs<span class="token operator">:</span>
	Topic<span class="token operator">:</span> testTopic3	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span>topic<span class="token operator">-</span>A	PartitionCount<span class="token operator">:</span><span class="token number">5</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span>	Configs<span class="token operator">:</span>
	Topic<span class="token operator">:</span> topic<span class="token operator">-</span>A	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> topic<span class="token operator">-</span>A	Partition<span class="token operator">:</span> <span class="token number">1</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> topic<span class="token operator">-</span>A	Partition<span class="token operator">:</span> <span class="token number">2</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> topic<span class="token operator">-</span>A	Partition<span class="token operator">:</span> <span class="token number">3</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
	Topic<span class="token operator">:</span> topic<span class="token operator">-</span>A	Partition<span class="token operator">:</span> <span class="token number">4</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span>topicAGroup	PartitionCount<span class="token operator">:</span><span class="token number">1</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span>	Configs<span class="token operator">:</span>
	Topic<span class="token operator">:</span> topicAGroup	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
Topic<span class="token operator">:</span>topicAgroup	PartitionCount<span class="token operator">:</span><span class="token number">1</span>	ReplicationFactor<span class="token operator">:</span><span class="token number">1</span>	Configs<span class="token operator">:</span>
	Topic<span class="token operator">:</span> topicAgroup	Partition<span class="token operator">:</span> <span class="token number">0</span>	Leader<span class="token operator">:</span> <span class="token number">1</span>	Replicas<span class="token operator">:</span> <span class="token number">1</span>	Isr<span class="token operator">:</span> <span class="token number">1</span>
</code></code></pre>
</li>
</ol>
<h2><a id="_203"></a>压测命令</h2>
<ol>
<li>
<p>压测</p>
<pre><code class="language-java"><code class="prism  language-java"># bin<span class="token operator">/</span>kafka<span class="token operator">-</span>producer<span class="token operator">-</span>perf<span class="token operator">-</span>test<span class="token punctuation">.</span>sh <span class="token operator">--</span>topic test <span class="token operator">--</span>num<span class="token operator">-</span>records <span class="token number">100</span> <span class="token operator">--</span>record<span class="token operator">-</span>size <span class="token number">1</span> <span class="token operator">--</span>throughput <span class="token number">100</span>  <span class="token operator">--</span>producer<span class="token operator">-</span>props bootstrap<span class="token punctuation">.</span>servers<span class="token operator">=</span>localhost<span class="token operator">:</span><span class="token number">9092</span>
</code></code></pre>
</li>
</ol>

            </div>
						<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-9e5741c4b9.css" rel="stylesheet">
                </div>