---
layout:     post
title:      HBase的安装与基础编程
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <h1 style="text-align:center;"><em><strong>HBase<span style="font-family:'宋体';">的安装与基础编程</span></strong></em></h1><p align="justify"><span style="font-family:'宋体';">一</span> <span style="font-family:'宋体';">安装</span>HBase</p><p align="justify"><span style="font-family:'宋体';">下载安装文件</span>hbase-1.1.5-bin.tar.gz(<span style="font-family:'宋体';">下载地址</span><span style="font-family:Calibri;">:http://archive.apache.org/dist/hbase/1.1.5/)</span></p><p align="justify">1. <span style="font-family:'宋体';">解压</span>Hbase</p><p> <img src="https://img-blog.csdn.net/20180527090757579?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify">2. 修改权限</p><p> <img src="https://img-blog.csdn.net/20180527090808772?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify">3. <span style="font-family:'宋体';">将解压的文件名</span>hbase-1.1.5<span style="font-family:'宋体';">改名为</span><span style="font-family:Calibri;">hbase</span></p><p> <img src="https://img-blog.csdn.net/20180527090815534?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify">二．配置环境变量</p><p align="justify"><span style="font-family:'宋体';">将</span>HBase<span style="font-family:'宋体';">安装目录下的</span><span style="font-family:Calibri;">bin</span><span style="font-family:'宋体';">目录</span><span style="font-family:Calibri;">(</span><span style="font-family:'宋体';">即</span><span style="font-family:Calibri;">/usr/local/hbase/bin)</span><span style="font-family:'宋体';">添加到系统的</span><span style="font-family:Calibri;">PATH</span><span style="font-family:'宋体';">环境变量中</span></p><p align="justify">Vim  ~/.bashrc</p><p> <img src="https://img-blog.csdn.net/2018052709082611?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify">添加后执行如下命令：</p><p> <img src="https://img-blog.csdn.net/20180527090831516?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" style="color:rgb(255,0,0);font-family:'宋体';" alt=""></p><p align="justify"><span style="color:rgb(255,0,0);"><span style="font-family:'宋体';">切记：一定要</span>source  ~/.bashrc</span></p><p align="justify"><span style="color:rgb(0,0,0);">三．</span><span style="color:rgb(0,0,0);"><span style="font-family:'宋体';">查看</span>HBase<span style="font-family:'宋体';">版本信息</span></span></p><p align="justify"><span style="color:rgb(0,0,0);"><span style="font-family:'宋体';">可以通过如下命令查看</span>Hbase<span style="font-family:'宋体';">版本信息，以确认</span><span style="font-family:Calibri;">Hbase</span><span style="font-family:'宋体';">已经安装成功</span></span></p><p> <img src="https://img-blog.csdn.net/20180527090853443?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify"><span style="color:rgb(0,0,0);">四．</span><span style="color:rgb(0,0,0);"><span style="font-family:'宋体';">单机模式的配置</span>:</span></p><p align="justify"><span style="color:rgb(0,0,0);">1. </span><span style="color:rgb(0,0,0);"><span style="font-family:'宋体';">配置</span>hbase-env.sh<span style="font-family:'宋体';">文件</span></span></p><p align="justify"><span style="color:rgb(0,0,0);"><span style="font-family:'宋体';">用</span>vim<span style="font-family:'宋体';">打开</span><span style="font-family:Calibri;">/usr/local/hbase/conf/hbase-env.sh</span></span></p><p> </p><p> <img src="https://img-blog.csdn.net/20180527090901606?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p><img src="https://img-blog.csdn.net/20180527090910597?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>2. <span style="font-family:'宋体';">配置</span>hbase-site.xml文件</p><p> <img src="https://img-blog.csdn.net/20180527090918817?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p><span style="color:rgb(255,0,0);background:rgb(217,217,217);"><span style="font-family:'宋体';">（</span>tmp为自创文件夹)</span></p><p align="justify">3<span style="font-family:'宋体';">启动并运行</span><span style="font-family:Calibri;">HBase</span><span style="font-family:'宋体';">，命令如下</span><span style="font-family:Calibri;">:</span></p><p> <img src="https://img-blog.csdn.net/20180527090938792?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify"><span style="font-family:'宋体';">进入</span>Hbase shell<span style="font-family:'宋体';">交互模式</span></p><p> <img src="https://img-blog.csdn.net/20180527090950163?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify"><span style="font-family:'宋体';">最后可以使用如下命令停止</span>HBase<span style="font-family:'宋体';">运行</span><span style="font-family:Calibri;">:</span></p><p> <img src="https://img-blog.csdn.net/20180527090959749?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p align="justify">五．伪分布式配置</p><p align="justify">1. <span style="font-family:'宋体';">配置</span>hbase-env.sh</p><p> <img src="https://img-blog.csdn.net/20180527091007972?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p> <img src="https://img-blog.csdn.net/20180527091012923?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>2. <span style="font-family:'宋体';">配置</span>hbase-site.xml文件</p><p> <img src="https://img-blog.csdn.net/20180527091019498?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>3. <span style="font-family:'宋体';">启动运行</span>HBase</p><p> <img src="https://img-blog.csdn.net/20180527091026276?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>出现以下进程即为启动成功</p><p><span style="font-family:'宋体';">现在就可以进入</span>hbase shell交互模式</p><p> </p><p> <img src="https://img-blog.csdn.net/20180527091034137?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>4. <span style="font-family:'宋体';">停止运行</span>HBase</p><p><span style="font-family:'宋体';">使用</span>stop-hbase.sh</p><p> <img src="https://img-blog.csdn.net/2018052709104143?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzM4MjQ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p><span style="background-color:rgb(255,0,0);"><span style="font-family:'宋体';">最后需要注意的是，启动关闭</span>Hbase的顺序是启动Hadoop--&gt;启动Hbase--&gt;关闭Hbase--&gt;关闭Hadoop</span></p><p> </p><p>六. HBase常用的Shell命令</p><p>1. <span style="font-family:'宋体';">在</span>hbase中创建表</p><p>Create ‘student’,’Sname’,’Ssex’,’Sage’,’Sdept’,’course’</p><p><span style="font-family:'宋体';">可以使用</span>list命令查看当前HBase数据库中已经创建的表</p><p>2. 添加数据</p><p> </p><p>Put ‘student’,’95001’,’Sname’,’LiYing’</p><p>3. 查看数据</p><p>(1) get命令：用于查看表的某一单元格数据</p><p>(2) scan命令:用于查看某个表的全部数据</p><p>4. 删除数据</p><p><span style="font-family:'宋体';">在</span>HBase中用delete以及deleteall命令进行删除数据操作，两者的区别是:delete命令用于删除一个单元格数据，是put的反向操作；而deleteall命令用于删除一行数据。</p><p>5. 删除表</p><p><span style="font-family:'宋体';">删除表需要分两步操作</span>:第一步先让该表不可用；第二步删除表.例如需要删除student表</p><p>disable ‘student’; </p><p>drop ‘student’;</p><p>6. 查询历史数据</p><p><span style="font-family:'宋体';">查询时默认情况下会显示当前最新版本的数据，如果要查询历史数据，需要指定查询的历史版本数，由于上面设置了保存版本数为</span>5，所以在查询时的指定历史版本的有效值为1到5，具体命令如下:</p><p>get ‘teacher’,’91001’,{COLUMB=&gt;’username’,VERSIONS=&gt;5}</p><p>get ‘teacher’,’91001’,{COLUMB=&gt;’username’,VERSIONS=&gt;3}</p><p> </p><p align="justify"> </p><p align="justify"> </p>            </div>
                </div>