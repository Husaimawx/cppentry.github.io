---
layout:     post
title:      Linux安装Spark集群(CentOS7+Spark2.1.1+Hadoop2.8.0)
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <div id="content_views" class="markdown_views prism-atom-one-dark">
							<!-- flowchart 箭头图标 勿删 -->
							<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>
							<div id="article_content" class="article_content tracking-ad">

<p align="center"><br>
</p>
<p><a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714320" rel="nofollow"><span>1 安装Spark依赖的Scala</span></a></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714321" rel="nofollow">
1.1下载和解压缩Scala</a></span></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714322" rel="nofollow">
1.2 配置环境变量</a></span></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714323" rel="nofollow">1.3 验证Scala</a></span></p>
<p><a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714324" rel="nofollow"><span>2下载和解压缩Spark</span></a></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714325" rel="nofollow">2.1 下载Spark压缩包</a></span></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714326" rel="nofollow">2.2 解压缩Spark</a></span></p>
<p><a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714327" rel="nofollow"><span>3 Spark相关的配置</span></a></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714328" rel="nofollow">3.1 配置环境变量</a></span></p>
<p><span>          <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714329" rel="nofollow">3.2 配置conf目录下的文件</a></span></p>
<p><span>                  <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714330" rel="nofollow">3.2.1 新建spark-env.h文件</a></span></p>
<p><span>                  <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714331" rel="nofollow">3.2.2 新建slaves文件</a></span></p>
<p><a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714332" rel="nofollow"><span>4 启动和测试Spark集群</span></a></p>
<p><span>         <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714333" rel="nofollow">4.1 启动Spark</a></span></p>
<p><span>         <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714334" rel="nofollow">4.2 测试和使用Spark集群</a></span></p>
<p><span>                 <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714335" rel="nofollow">4.2.1访问Spark集群提供的URL</a></span></p>
<p><span>                 <a target="_blank" href="file:///D:/111/spark%E5%AE%89%E8%A3%85/Linux%E5%AE%89%E8%A3%85Spark(CentOS7+Spark2.1.1+Hadoop2.8.0)-v1.0.0.htm#_Toc482714336" rel="nofollow">4.2.2运行Spark提供的计算圆周率的示例程序</a></span></p>
<p><span> </span></p>
<p><span>关键字：<a href="http://lib.csdn.net/base/linux" rel="nofollow" class="replace_word" title="Linux知识库" target="_blank">Linux</a>   CentOS  <a href="http://lib.csdn.net/base/hadoop" rel="nofollow" class="replace_word" title="Hadoop知识库" target="_blank">Hadoop</a>  <a href="http://lib.csdn.net/base/spark" rel="nofollow" class="replace_word" title="Apache Spark知识库" target="_blank">Spark</a>   <a href="http://lib.csdn.net/base/scala" rel="nofollow" class="replace_word" title="Scala知识库" target="_blank">Scala</a>   <a href="http://lib.csdn.net/base/java" rel="nofollow" class="replace_word" title="Java 知识库" target="_blank">Java</a></span></p>
<p><span>版本号：CentOS7  Hadoop2.8.0  Spark2.1.1   Scala2.12.2   JDK1.8</span></p>
<p><strong><span> </span></strong></p>
<p><strong><span><span>          说明：Spark可以在只安装了JDK、<a href="http://lib.csdn.net/base/scala" rel="nofollow" class="replace_word" title="Scala知识库" target="_blank">scala</a>的机器上直接单机安装，但是这样的话只能使用单机模式运行不涉及分布式运算和分布式存储的代码，例如可以单机安装Spark，单机运行计算圆周率的Spark程序。</span></span></strong><span><strong>但是我们要运行的是Spark集群，并且需要调用<a href="http://lib.csdn.net/base/hadoop" rel="nofollow" class="replace_word" title="Hadoop知识库" target="_blank">hadoop</a>的分布式文件系统，</strong></span><span><strong>所以请你先安装</strong></span><span><strong>Hadoop</strong></span><span><strong>，</strong></span><span><strong>Hadoop集群</strong></span><span><strong>的安装可以参考该博文：</strong></span></p>
<p><span>   </span><span>     <a target="_blank" href="http://blog.csdn.net/pucao_cug/article/details/71698903" rel="nofollow">http://blog.csdn.net/pucao_cug/article/details/71698903</a></span></p>
<p><strong><span>  <span>      安装单机版的Spark可以参考该博文：</span></span></strong></p>
<p><strong><span>        <span><a target="_blank" href="http://blog.csdn.net/pucao_cug/article/details/72377219" rel="nofollow"> http://blog.csdn.net/pucao_cug/article/details/72377219</a></span></span></strong></p>
<p><strong><span>        <span>Spark集群的最小化安装只需要安装这些东西：JDK  、Scala  、Hadoop  、Spark</span></span></strong></p>
<h1 id="1-安装spark依赖的scala"><a target="_blank"></a>1 安装Spark依赖的Scala</h1>
<p>  <span>        Hadoop的安装请参考上面提到的博文，因为Spark依赖scala，所以在安装Spark之前，这里要先安装scala。在每个节点上都进行安装。</span></p>
<h2 id="11-下载和解压缩scala"><a target="_blank"></a>1.1  下载和解压缩Scala</h2>
<p><span>        打开地址：<a target="_blank" href="http://www.scala-lang.org/" rel="nofollow">http://www.scala-lang.org/</a></span></p>
<p><span>        目前最新版是2.12.2，我就安装该版本</span></p>
<p><span>       <strong> 如图：</strong></span></p>
<p><span><strong><span><img src="https://img-blog.csdn.net/20170516222042850?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width="600" height="400" alt=""></span></strong></span></p>
<p><span><span></span><span></span>直接打开下面的地址也可以：</span></p>
<p><a target="_blank" href="http://www.scala-lang.org/download/2.12.2.html" rel="nofollow"><span>http://www.scala-lang.org/download/2.12.2.html</span></a></p>
<p><strong><span><span></span><span></span><span></span>如图：</span></strong></p>
<p><strong><span>      <img src="https://img-blog.csdn.net/20170516222112491?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width="600" height="400" alt=""></span></strong></p>
<p></p>
<p><span>直接用下面的地址下载tgz包也可以：</span></p>
<p><span>      <a target="_blank" href="https://downloads.lightbend.com/scala/2.12.2/scala-2.12.2.tgz" rel="nofollow">https://downloads.lightbend.com/scala/2.12.2/scala-2.12.2.tgz</a></span></p>
<p><span> </span></p>
<p><span><span></span>在<a href="http://lib.csdn.net/base/linux" rel="nofollow" class="replace_word" title="Linux知识库" target="_blank">linux</a>服务器的opt目录下新建一个名为scala的文件夹，并将下载的压缩包上载上去</span></p>
<p><strong><span><span></span><span></span>如图：</span></strong></p>
<p>   <img src="https://img-blog.csdn.net/20170516222155304?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<p><span>    </span></p>
<p><span><span></span><span></span>执行命令，进入到该目录：</span></p>
<p><strong><span><span>cd    /opt/scala</span></span></strong></p>
<p><span><span></span><span></span>执行命令进行解压缩：</span></p>
<p><strong><span><span>tar   -xvf    scala-2.12.2</span></span></strong></p>
<h2 id="12-配置环境变量"><a target="_blank"></a>1.2  配置环境变量</h2>
<p>    <span>   编辑/etc/profile这个文件，在文件中增加一行配置：</span></p>
<p><span></span></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>export    SCALA_HOME=/opt/scala/scala-2.12.2  </span></span></li></ol></div><pre><code class="language-plain">export    SCALA_HOME=/opt/scala/scala-2.12.2</code></pre>
<p></p>
<p><span>      在该文件的PATH变量中增加下面的内容：</span></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-1"><span class="noError" id="MathJax-Span-2" style="display: inline-block;">{SCALA_HOME}/bin&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;pre code_snippet_id="2398307" snippet_file_name="blog_20170516_2_9953280" name="code" class="plain" style="display: none;"&gt;</span></span></span><script type="math/tex" id="MathJax-Element-1">{SCALA_HOME}/bin&nbsp;&nbsp;</span></span></li></ol></div><pre><code class="language-plain">  </script>{SCALA_HOME}/bin<br>
</span></span><p></p>
<p><span>      添加完成后，我的/etc/profile的配置如下：</span></p>
<p><span></span></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>export JAVA_HOME=/opt/java/jdk1.8.0_121  </span></span></li><li class=""><span>export HADOOP_HOME=/opt/hadoop/hadoop-2.8.0  </span></li><li class="alt"><span>export HADOOP_CONF_DIR=<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-3"><span class="noError" id="MathJax-Span-4" style="display: inline-block;">{HADOOP_HOME}/etc/hadoop&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class=""&gt;&lt;span&gt;export&amp;nbsp;HADOOP_COMMON_LIB_NATIVE_DIR=</span></span></span><script type="math/tex" id="MathJax-Element-2">{HADOOP_HOME}/etc/hadoop&nbsp;&nbsp;</span></li><li class=""><span>export&nbsp;HADOOP_COMMON_LIB_NATIVE_DIR=</script>{HADOOP_HOME}/lib/native  </span></li><li class="alt"><span>export HADOOP_OPTS=”-Djava.library.path=<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-5"><span class="noError" id="MathJax-Span-6" style="display: inline-block;">{HADOOP_HOME}/lib"&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class=""&gt;&lt;span&gt;export&amp;nbsp;HIVE_HOME=/opt/hive/apache-hive-2.1.1-bin&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class="alt"&gt;&lt;span&gt;export&amp;nbsp;HIVE_CONF_DIR=</span></span></span><script type="math/tex" id="MathJax-Element-3">{HADOOP_HOME}/lib"&nbsp;&nbsp;</span></li><li class=""><span>export&nbsp;HIVE_HOME=/opt/hive/apache-hive-2.1.1-bin&nbsp;&nbsp;</span></li><li class="alt"><span>export&nbsp;HIVE_CONF_DIR=</script>{HIVE_HOME}/conf  </span></li><li class=""><span>export SQOOP_HOME=/opt/sqoop/sqoop-1.4.6.bin__hadoop-2.0.4-alpha  </span></li><li class="alt"><span>export HBASE_HOME=/opt/hbase/hbase-1.2.5  </span></li><li class=""><span>export ZK_HOME=/opt/zookeeper/zookeeper-3.4.10  </span></li><li class="alt"><span>export SCALA_HOME=/opt/scala/scala-2.12.2  </span></li><li class=""><span>export CLASS_PATH=.:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-7" style="width: 10.296em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.216em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-8"><span class="texatom" id="MathJax-Span-9"><span class="mrow" id="MathJax-Span-10"><span class="mi" id="MathJax-Span-11" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-12" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="msubsup" id="MathJax-Span-14"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-15" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.749em;"><span class="mi" id="MathJax-Span-16" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-17" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-18" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-19" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-20"><span class="mrow" id="MathJax-Span-21"><span class="mo" id="MathJax-Span-22" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-23" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-24" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-25" style="font-family: MathJax_Math-italic;">b</span><span class="mo" id="MathJax-Span-26" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-4">{JAVA_HOME}/lib:</script>{HIVE_HOME}/lib:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-27"><span class="noError" id="MathJax-Span-28" style="display: inline-block;">CLASS_PATH&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class="alt"&gt;&lt;span&gt;export&amp;nbsp;PATH=.:</span></span></span><script type="math/tex" id="MathJax-Element-5">CLASS_PATH&nbsp;&nbsp;</span></li><li class="alt"><span>export&nbsp;PATH=.:</script>{JAVA_HOME}/bin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-29" style="width: 12.909em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.296em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-30"><span class="texatom" id="MathJax-Span-31"><span class="mrow" id="MathJax-Span-32"><span class="mi" id="MathJax-Span-33" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-34" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-35" style="font-family: MathJax_Math-italic;">D</span><span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-37" style="font-family: MathJax_Math-italic;">O</span><span class="msubsup" id="MathJax-Span-38"><span style="display: inline-block; position: relative; width: 1.336em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-39" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.643em;"><span class="mi" id="MathJax-Span-40" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-41" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-42" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-43" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-44"><span class="mrow" id="MathJax-Span-45"><span class="mo" id="MathJax-Span-46" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-47" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-48" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-49" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-50" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6">{HADOOP_HOME}/bin:</script>{HADOOP_HOME}/sbin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-51" style="width: 11.896em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.496em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-52"><span class="texatom" id="MathJax-Span-53"><span class="mrow" id="MathJax-Span-54"><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-56" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-57" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-58" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-59"><span style="display: inline-block; position: relative; width: 1.603em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-60" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.856em;"><span class="mi" id="MathJax-Span-61" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-62" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-63" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-64" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-65"><span class="mrow" id="MathJax-Span-66"><span class="mo" id="MathJax-Span-67" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-68" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-69" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-70" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-71" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7">{SPARK_HOME}/bin:</script>{ZK_HOME}/bin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-72" style="width: 10.616em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.483em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-73"><span class="texatom" id="MathJax-Span-74"><span class="mrow" id="MathJax-Span-75"><span class="mi" id="MathJax-Span-76" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-77" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="msubsup" id="MathJax-Span-79"><span style="display: inline-block; position: relative; width: 1.389em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-80" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.696em;"><span class="mi" id="MathJax-Span-81" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-82" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-83" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-84" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-85"><span class="mrow" id="MathJax-Span-86"><span class="mo" id="MathJax-Span-87" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-88" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-89" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-90" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-91" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-8">{HIVE_HOME}/bin:</script>{SQOOP_HOME}/bin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-92" style="width: 11.843em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.443em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-93"><span class="texatom" id="MathJax-Span-94"><span class="mrow" id="MathJax-Span-95"><span class="mi" id="MathJax-Span-96" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-97" style="font-family: MathJax_Math-italic;">B</span><span class="mi" id="MathJax-Span-98" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-99" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="msubsup" id="MathJax-Span-100"><span style="display: inline-block; position: relative; width: 1.389em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-101" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.696em;"><span class="mi" id="MathJax-Span-102" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-103" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-104" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-105" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-106"><span class="mrow" id="MathJax-Span-107"><span class="mo" id="MathJax-Span-108" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-109" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-111" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-112" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">{HBASE_HOME}/bin:</script>{SCALA_HOME}/bin:$PATH  </span></li></ol></div><pre class="plain">export JAVA_HOME=/opt/java/jdk1.8.0_121
export HADOOP_HOME=/opt/hadoop/hadoop-2.8.0
export HADOOP_CONF_DIR=${HADOOP_HOME}/etc/hadoop
export HADOOP_COMMON_LIB_NATIVE_DIR=${HADOOP_HOME}/lib/native
export HADOOP_OPTS="-Djava.library.path=${HADOOP_HOME}/lib"
export HIVE_HOME=/opt/hive/apache-hive-2.1.1-bin
export HIVE_CONF_DIR=${HIVE_HOME}/conf
export SQOOP_HOME=/opt/sqoop/sqoop-1.4.6.bin__hadoop-2.0.4-alpha
export HBASE_HOME=/opt/hbase/hbase-1.2.5
export ZK_HOME=/opt/zookeeper/zookeeper-3.4.10
export SCALA_HOME=/opt/scala/scala-2.12.2
export CLASS_PATH=.:${JAVA_HOME}/lib:${HIVE_HOME}/lib:$CLASS_PATH
export PATH=.:${JAVA_HOME}/bin:${HADOOP_HOME}/bin:${HADOOP_HOME}/sbin:${SPARK_HOME}/bin:${ZK_HOME}/bin:${HIVE_HOME}/bin:${SQOOP_HOME}/bin:${HBASE_HOME}/bin:${SCALA_HOME}/bin:$PATH</pre>
<p>   <strong><span>      说明：你可以只关注开头说的JDK  SCALA   Hadoop  Spark的环境变量，其余的诸如Zookeeper、<a href="http://lib.csdn.net/base/hbase" rel="nofollow" class="replace_word" title="Hbase知识库" target="_blank">Hbase</a>、<a href="http://lib.csdn.net/base/hive" rel="nofollow" class="replace_word" title="Hive知识库" target="_blank">Hive</a>、Sqoop都不用管。</span></strong></p>
<p><span><strong>        如图：</strong></span></p>
<p><span><strong><span><img src="https://img-blog.csdn.net/20170516222218586?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></strong></span></p>
<p></p>
<p><span>      环境变量配置完成后，执行下面的命令：</span></p>
<p><span></span></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>source   /etc/profile  </span></span></li></ol></div><pre><code class="language-plain">source   /etc/profile</code></pre>
<p></p>
<h2 id="13-验证scala"><a target="_blank"></a>1.3 验证Scala</h2>
<p>  <span>  执行命令：</span></p>
<p><span></span></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>scala     -version  </span></span></li></ol></div><pre><code class="language-plain">scala     -version</code></pre>
<p></p>
<p><strong><span>   如图：</span></strong></p>
<p>    <img src="https://img-blog.csdn.net/20170516222239196?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<h1 id="2-下载和解压缩spark"><a target="_blank"></a>2 下载和解压缩Spark</h1>
<p>    <span>  在每个节点上都安装Spark，也就是重复下面的步骤。</span></p>
<h2 id="21-下载spark压缩包"><a target="_blank"></a>2.1 下载Spark压缩包</h2>
<p><span>      打开下载地址：</span></p>
<p><a target="_blank" href="http://spark.apache.org/downloads.html" rel="nofollow"><span>http://spark.apache.org/downloads.html</span></a></p>
<p><strong><span> <span> </span>如图：</span></strong></p>
<p>        <img src="https://img-blog.csdn.net/20170516222259055?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width="600" height="400" alt=""></p>
<p><strong><span> </span></strong></p>
<p><strong><span>       点击上图的 Download Spark，相当于是直接打开地址：</span></strong></p>
<p><span>       <a target="_blank" href="https://www.apache.org/dyn/closer.lua/spark/spark-2.1.1/spark-2.1.1-bin-hadoop2.7.tgz" rel="nofollow">https://www.apache.org/dyn/closer.lua/spark/spark-2.1.1/spark-2.1.1-bin-hadoop2.7.tgz</a></span></p>
<p></p>
<p><span><span>      下载后得到了大约</span><span>200M</span><span>的文件： </span><span>spark-2.1.1-bin-hadoop2.7</span></span></p>
<p><span>        直接用下面的地址下面也可以：</span></p>
<p><span>       <a target="_blank" href="http://mirrors.hust.edu.cn/apache/spark/spark-2.1.1/spark-2.1.1-bin-hadoop2.7.tgz" rel="nofollow">http://mirrors.hust.edu.cn/apache/spark/spark-2.1.1/spark-2.1.1-bin-hadoop2.7.tgz</a></span></p>
<p> </p>
<h2 id="22-解压缩spark"><a target="_blank"></a>2.2  解压缩Spark</h2>
<p> <span>      下载完成后，在Linux服务器的opt目录下新建一个名为spark的文件夹，把刚才下载的压缩包，上载上去。</span></p>
<p><strong><span><span></span>如图：</span></strong></p>
<p><strong><span><span><img src="https://img-blog.csdn.net/20170516222333680?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></span></strong></p>
<p><strong><span><span></span><span></span>进入到该目录内，也就是执行下面的命令：</span></strong></p>
<p><strong><span><span>cd    /opt/spark</span></span></strong></p>
<p><strong><span><span></span><span></span>执行解压缩命令：</span></strong></p>
<p><strong><span><span>tar   -zxvf   spark-2.1.1-bin-hadoop2.7.tgz</span></span></strong></p>
<h1 id="3-spark相关的配置"><a target="_blank"></a>3  Spark相关的配置</h1>
<p>        <span> 说明：因为我们搭建的是基于hadoop集群的Spark集群，所以每个hadoop节点上我都安装了Spark，都需要按照下面的步骤做配置，启动的话只需要在Spark集群的Master机器上启动即可，我这里是在hserver1上启动。</span></p>
<h2 id="31-配置环境变量"><a target="_blank"></a>3.1  配置环境变量</h2>
<p><span><span></span><span></span><span></span>编辑/etc/profile文件，增加</span></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>export  SPARK_HOME=/opt/spark/spark-2.1.1-bin-hadoop2.7  </span></span></li></ol></div><pre><code class="language-plain">export  SPARK_HOME=/opt/spark/spark-2.1.1-bin-hadoop2.7</code></pre>
<p></p>
<p><span><span><span></span><span></span>   </span>   上面的变量添加完成后<span>编辑该文件中的PATH变量，添加</span></span></p>
<p><span><span></span></span></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-113"><span class="noError" id="MathJax-Span-114" style="display: inline-block;">{SPARK_HOME}/bin&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;pre code_snippet_id="2398307" snippet_file_name="blog_20170517_7_8203149" name="code" class="plain" style="display: none;"&gt;</span></span></span><script type="math/tex" id="MathJax-Element-10">{SPARK_HOME}/bin&nbsp;&nbsp;</span></span></li></ol></div><pre><code class="language-plain"></script>{SPARK_HOME}/bin
</span></span><p></p>
<p><span><span><span><span></span>      注意：</span><span>因为</span><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-115" style="width: 34.243em; display: inline-block;"><span style="display: inline-block; position: relative; width: 27.363em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(3.096em 1000em 5.869em -0.477em); top: -3.997em; left: 0.003em;"><span class="mrow" id="MathJax-Span-116"><span style="display: inline-block; position: relative; width: 27.363em; height: 0px;"><span style="position: absolute; clip: rect(3.096em 1000em 4.429em -0.424em); top: -3.997em; left: 0.003em;"><span class="mi" id="MathJax-Span-117" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-118" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-119" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-120" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-121"><span style="display: inline-block; position: relative; width: 1.603em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-122" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.856em;"><span class="mi" id="MathJax-Span-123" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-124" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-125" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-126" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mo" id="MathJax-Span-129" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-130" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-131" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-132" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-133" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-134" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;</span><span class="texatom" id="MathJax-Span-135" style="padding-left: 0.269em;"><span class="mrow" id="MathJax-Span-136"><span class="mo" id="MathJax-Span-137" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-138" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-139" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-140" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-141" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-142" style="font-family: MathJax_Main; padding-left: 0.269em;">&gt;<span style="font-family: MathJax_Main;">&lt;</span></span><span class="mi" id="MathJax-Span-143" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">s</span><span class="mi" id="MathJax-Span-144" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-145" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-146" style="font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-147" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-148" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-149" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-150" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-151" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-152" style="font-family: MathJax_Main; padding-left: 0.269em;">=<span style="font-family: MathJax_Main;">"</span></span><span class="mi" id="MathJax-Span-153" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">c</span><span class="mi" id="MathJax-Span-154" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-155" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-156" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-157" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-158" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span><span class="mi" id="MathJax-Span-159" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">r</span><span class="mi" id="MathJax-Span-160" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-161" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-162" style="font-family: MathJax_Main; padding-left: 0.269em;">"<span style="font-family: MathJax_Main;">&gt;</span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(3.043em 1000em 4.429em -0.477em); top: -2.504em; left: 0.003em;"><span class="texatom" id="MathJax-Span-163" style=""><span class="mrow" id="MathJax-Span-164"><span class="mo" id="MathJax-Span-165"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>目</span></span></span></span><span class="texatom" id="MathJax-Span-166"><span class="mrow" id="MathJax-Span-167"><span class="mo" id="MathJax-Span-168"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>录</span></span></span></span><span class="texatom" id="MathJax-Span-169"><span class="mrow" id="MathJax-Span-170"><span class="mo" id="MathJax-Span-171"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>下</span></span></span></span><span class="texatom" id="MathJax-Span-172"><span class="mrow" id="MathJax-Span-173"><span class="mo" id="MathJax-Span-174"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>有</span></span></span></span><span class="texatom" id="MathJax-Span-175"><span class="mrow" id="MathJax-Span-176"><span class="mo" id="MathJax-Span-177"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>一</span></span></span></span><span class="texatom" id="MathJax-Span-178"><span class="mrow" id="MathJax-Span-179"><span class="mo" id="MathJax-Span-180"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>些</span></span></span></span><span class="texatom" id="MathJax-Span-181"><span class="mrow" id="MathJax-Span-182"><span class="mo" id="MathJax-Span-183"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>文</span></span></span></span><span class="texatom" id="MathJax-Span-184"><span class="mrow" id="MathJax-Span-185"><span class="mo" id="MathJax-Span-186"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>件</span></span></span></span><span class="texatom" id="MathJax-Span-187"><span class="mrow" id="MathJax-Span-188"><span class="mo" id="MathJax-Span-189"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>名</span></span></span></span><span class="texatom" id="MathJax-Span-190"><span class="mrow" id="MathJax-Span-191"><span class="mo" id="MathJax-Span-192"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>称</span></span></span></span><span class="texatom" id="MathJax-Span-193"><span class="mrow" id="MathJax-Span-194"><span class="mo" id="MathJax-Span-195"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>和</span></span></span></span><span class="mo" id="MathJax-Span-196" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;</span><span class="texatom" id="MathJax-Span-197" style="padding-left: 0.269em;"><span class="mrow" id="MathJax-Span-198"><span class="mo" id="MathJax-Span-199" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-200" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-201" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-202" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-203" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-204" style="font-family: MathJax_Main; padding-left: 0.269em;">&gt;<span style="font-family: MathJax_Main;">&lt;</span></span><span class="mi" id="MathJax-Span-205" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">s</span><span class="mi" id="MathJax-Span-206" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-207" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-208" style="font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-209" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-210" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-211" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-212" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-213" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-214" style="font-family: MathJax_Main; padding-left: 0.269em;">=<span style="font-family: MathJax_Main;">"</span></span><span class="mi" id="MathJax-Span-215" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">c</span><span class="mi" id="MathJax-Span-216" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-217" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-218" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-219" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-220" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span><span class="mi" id="MathJax-Span-221" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">r</span><span class="mi" id="MathJax-Span-222" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-223" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-224" style="font-family: MathJax_Main; padding-left: 0.269em;">"<span style="font-family: MathJax_Main;">&gt;</span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 3.27em; vertical-align: -2.197em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">SPARK_HOME/sbin</span><span style="color:red">目录下有一些文件名称和</span><span style="color:red"></script>HADOOP_HOME/sbin</span><span>目录下的文件同名，为了避免同名文件冲突，这里不在PATH变量里添加<span><strong><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-225" style="width: 34.403em; display: inline-block;"><span style="display: inline-block; position: relative; width: 27.523em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(3.043em 1000em 5.763em -0.424em); top: -3.997em; left: 0.003em;"><span class="mrow" id="MathJax-Span-226"><span style="display: inline-block; position: relative; width: 27.523em; height: 0px;"><span style="position: absolute; clip: rect(3.043em 1000em 4.429em -0.424em); top: -3.997em; left: 0.003em;"><span class="mi" id="MathJax-Span-227" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-228" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-229" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-230" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-231"><span style="display: inline-block; position: relative; width: 1.603em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-232" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.856em;"><span class="mi" id="MathJax-Span-233" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-234" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-235" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-236" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-237"><span class="mrow" id="MathJax-Span-238"><span class="mo" id="MathJax-Span-239" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-240" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-241" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-242" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-243" style="font-family: MathJax_Math-italic;">n</span><span class="texatom" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mo" id="MathJax-Span-246"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>只</span></span></span></span><span class="texatom" id="MathJax-Span-247"><span class="mrow" id="MathJax-Span-248"><span class="mo" id="MathJax-Span-249"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>添</span></span></span></span><span class="texatom" id="MathJax-Span-250"><span class="mrow" id="MathJax-Span-251"><span class="mo" id="MathJax-Span-252"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>加</span></span></span></span><span class="texatom" id="MathJax-Span-253"><span class="mrow" id="MathJax-Span-254"><span class="mo" id="MathJax-Span-255"><span style='font-family: STIXGeneral, "Arial Unicode MS", serif; font-size: 80%; font-style: normal; font-weight: normal;'>了</span></span></span></span><span class="mo" id="MathJax-Span-256" style="font-family: MathJax_Main; padding-left: 0.269em;">&lt;</span><span class="mi" id="MathJax-Span-257" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">s</span><span class="mi" id="MathJax-Span-258" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-259" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-260" style="font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-261" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-262" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-263" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-264" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-265" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-266" style="font-family: MathJax_Main; padding-left: 0.269em;">=<span style="font-family: MathJax_Main;">"</span></span><span class="mi" id="MathJax-Span-267" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">c</span><span class="mi" id="MathJax-Span-268" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-269" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-270" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-271" style="font-family: MathJax_Math-italic;">r</span><span class="mo" id="MathJax-Span-272" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span><span class="mi" id="MathJax-Span-273" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">r</span><span class="mi" id="MathJax-Span-274" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-275" style="font-family: MathJax_Math-italic;">b</span><span class="mo" id="MathJax-Span-276" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-277" style="font-family: MathJax_Main;">255</span><span class="mo" id="MathJax-Span-278" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-279" style="font-family: MathJax_Main; padding-left: 0.163em;">0</span><span class="mo" id="MathJax-Span-280" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-281" style="font-family: MathJax_Main; padding-left: 0.163em;">0</span><span class="mo" id="MathJax-Span-282" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-283" style="font-family: MathJax_Main;">;</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span><span style="position: absolute; clip: rect(3.149em 1000em 4.376em -0.264em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-284" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-285" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-286" style="font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-287" style="font-family: MathJax_Math-italic;">t</span><span class="mo" id="MathJax-Span-288" style="font-family: MathJax_Main; padding-left: 0.216em;">−</span><span class="mi" id="MathJax-Span-289" style="font-family: MathJax_Math-italic; padding-left: 0.216em;">s</span><span class="mi" id="MathJax-Span-290" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-291" style="font-family: MathJax_Math-italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-292" style="font-family: MathJax_Math-italic;">e</span><span class="mo" id="MathJax-Span-293" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span><span class="mn" id="MathJax-Span-294" style="font-family: MathJax_Main; padding-left: 0.269em;">14</span><span class="mi" id="MathJax-Span-295" style="font-family: MathJax_Math-italic;">p</span><span class="mi" id="MathJax-Span-296" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-297" style="font-family: MathJax_Main; padding-left: 0.269em;">"<span style="font-family: MathJax_Main;">&gt;</span><span style="font-family: MathJax_Main;">&lt;</span></span><span class="mi" id="MathJax-Span-298" style="font-family: MathJax_Math-italic; padding-left: 0.269em;">s</span><span class="mi" id="MathJax-Span-299" style="font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-300" style="font-family: MathJax_Math-italic;">r</span><span class="mi" id="MathJax-Span-301" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-302" style="font-family: MathJax_Math-italic;">n</span><span class="mi" id="MathJax-Span-303" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-304" style="font-family: MathJax_Main; padding-left: 0.269em;">&gt;</span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.003em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 3.137em; vertical-align: -2.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-12">SPARK_HOME/sbin只添加了<span style="color:rgb(255,0,0); font-size:14px"><strong></script>SPARK_HOME/bin</strong></span></span></span><span>。</span></span></p>
<p><span><span></span><span></span>修改完成后，我的/etc/profile文件内容是：</span></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>export JAVA_HOME=/opt/java/jdk1.8.0_121  </span></span></li><li class=""><span>export HADOOP_HOME=/opt/hadoop/hadoop-2.8.0  </span></li><li class="alt"><span>export HADOOP_CONF_DIR=<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-305"><span class="noError" id="MathJax-Span-306" style="display: inline-block;">{HADOOP_HOME}/etc/hadoop&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class=""&gt;&lt;span&gt;export&amp;nbsp;HADOOP_COMMON_LIB_NATIVE_DIR=</span></span></span><script type="math/tex" id="MathJax-Element-13">{HADOOP_HOME}/etc/hadoop&nbsp;&nbsp;</span></li><li class=""><span>export&nbsp;HADOOP_COMMON_LIB_NATIVE_DIR=</script>{HADOOP_HOME}/lib/native  </span></li><li class="alt"><span>export HADOOP_OPTS=”-Djava.library.path=<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-307"><span class="noError" id="MathJax-Span-308" style="display: inline-block;">{HADOOP_HOME}/lib"&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class=""&gt;&lt;span&gt;export&amp;nbsp;HIVE_HOME=/opt/hive/apache-hive-2.1.1-bin&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class="alt"&gt;&lt;span&gt;export&amp;nbsp;HIVE_CONF_DIR=</span></span></span><script type="math/tex" id="MathJax-Element-14">{HADOOP_HOME}/lib"&nbsp;&nbsp;</span></li><li class=""><span>export&nbsp;HIVE_HOME=/opt/hive/apache-hive-2.1.1-bin&nbsp;&nbsp;</span></li><li class="alt"><span>export&nbsp;HIVE_CONF_DIR=</script>{HIVE_HOME}/conf  </span></li><li class=""><span>export SQOOP_HOME=/opt/sqoop/sqoop-1.4.6.bin__hadoop-2.0.4-alpha  </span></li><li class="alt"><span>export HBASE_HOME=/opt/hbase/hbase-1.2.5  </span></li><li class=""><span>export ZK_HOME=/opt/zookeeper/zookeeper-3.4.10  </span></li><li class="alt"><span>export SCALA_HOME=/opt/scala/scala-2.12.2  </span></li><li class=""><span>export SPARK_HOME=/opt/spark/spark-2.1.1-bin-hadoop2.7  </span></li><li class="alt"><span>export CLASS_PATH=.:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-309" style="width: 10.296em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.216em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-310"><span class="texatom" id="MathJax-Span-311"><span class="mrow" id="MathJax-Span-312"><span class="mi" id="MathJax-Span-313" style="font-family: MathJax_Math-italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-314" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-315" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="msubsup" id="MathJax-Span-316"><span style="display: inline-block; position: relative; width: 1.443em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-317" style="font-family: MathJax_Math-italic;">A</span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.749em;"><span class="mi" id="MathJax-Span-318" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-319" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-320" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-321" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-322"><span class="mrow" id="MathJax-Span-323"><span class="mo" id="MathJax-Span-324" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-325" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-326" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-327" style="font-family: MathJax_Math-italic;">b</span><span class="mo" id="MathJax-Span-328" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-15">{JAVA_HOME}/lib:</script>{HIVE_HOME}/lib:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame" role="textbox" aria-readonly="true"><span class="math" id="MathJax-Span-329"><span class="noError" id="MathJax-Span-330" style="display: inline-block;">CLASS_PATH&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li class=""&gt;&lt;span&gt;export&amp;nbsp;PATH=.:</span></span></span><script type="math/tex" id="MathJax-Element-16">CLASS_PATH&nbsp;&nbsp;</span></li><li class=""><span>export&nbsp;PATH=.:</script>{JAVA_HOME}/bin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-331" style="width: 12.909em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.296em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-332"><span class="texatom" id="MathJax-Span-333"><span class="mrow" id="MathJax-Span-334"><span class="mi" id="MathJax-Span-335" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-336" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-337" style="font-family: MathJax_Math-italic;">D</span><span class="mi" id="MathJax-Span-338" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-339" style="font-family: MathJax_Math-italic;">O</span><span class="msubsup" id="MathJax-Span-340"><span style="display: inline-block; position: relative; width: 1.336em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-341" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.643em;"><span class="mi" id="MathJax-Span-342" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-343" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-344" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-345" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-346"><span class="mrow" id="MathJax-Span-347"><span class="mo" id="MathJax-Span-348" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-349" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-350" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-351" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-352" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">{HADOOP_HOME}/bin:</script>{HADOOP_HOME}/sbin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-353" style="width: 11.896em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.496em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-354"><span class="texatom" id="MathJax-Span-355"><span class="mrow" id="MathJax-Span-356"><span class="mi" id="MathJax-Span-357" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-358" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-359" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-360" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-361"><span style="display: inline-block; position: relative; width: 1.603em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-362" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.856em;"><span class="mi" id="MathJax-Span-363" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-364" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-365" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-366" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-367"><span class="mrow" id="MathJax-Span-368"><span class="mo" id="MathJax-Span-369" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-370" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-371" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-372" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-373" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-18">{SPARK_HOME}/bin:</script>{ZK_HOME}/bin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-374" style="width: 10.616em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.483em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.816em 1000em 3.149em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-375"><span class="texatom" id="MathJax-Span-376"><span class="mrow" id="MathJax-Span-377"><span class="mi" id="MathJax-Span-378" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-379" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-380" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="msubsup" id="MathJax-Span-381"><span style="display: inline-block; position: relative; width: 1.389em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-382" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.696em;"><span class="mi" id="MathJax-Span-383" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-384" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-385" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-386" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="texatom" id="MathJax-Span-387"><span class="mrow" id="MathJax-Span-388"><span class="mo" id="MathJax-Span-389" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-390" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-391" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-392" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-393" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.403em; vertical-align: -0.397em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">{HIVE_HOME}/bin:</script>{SQOOP_HOME}/bin:<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-394" style="width: 9.443em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.523em; height: 0px; font-size: 125%;"><span style="position: absolute; clip: rect(1.869em 1000em 3.043em -0.424em); top: -2.717em; left: 0.003em;"><span class="mrow" id="MathJax-Span-395"><span class="texatom" id="MathJax-Span-396"><span class="mrow" id="MathJax-Span-397"><span class="mi" id="MathJax-Span-398" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-399" style="font-family: MathJax_Math-italic;">B</span><span class="mi" id="MathJax-Span-400" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-401" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="msubsup" id="MathJax-Span-402"><span style="display: inline-block; position: relative; width: 1.389em; height: 0px;"><span style="position: absolute; clip: rect(1.763em 1000em 2.776em -0.424em); top: -2.611em; left: 0.003em;"><span class="mi" id="MathJax-Span-403" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.616em;"></span></span><span style="position: absolute; top: -2.344em; left: 0.696em;"><span class="mi" id="MathJax-Span-404" style="font-size: 70.7%; font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span style="display: inline-block; width: 0px; height: 2.509em;"></span></span></span></span><span class="mi" id="MathJax-Span-405" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-406" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mi" id="MathJax-Span-407" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span class="mo" id="MathJax-Span-408" style="font-family: MathJax_Main; padding-left: 0.269em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.723em;"></span></span></span><span style="border-left: 0.003em solid; display: inline-block; overflow: hidden; width: 0px; height: 1.203em; vertical-align: -0.263em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">{HBASE_HOME}:</script>{SCALA_HOME}/bin:$PATH  </span></li></ol></div><pre class="plain">export JAVA_HOME=/opt/java/jdk1.8.0_121
export HADOOP_HOME=/opt/hadoop/hadoop-2.8.0
export HADOOP_CONF_DIR=${HADOOP_HOME}/etc/hadoop
export HADOOP_COMMON_LIB_NATIVE_DIR=${HADOOP_HOME}/lib/native
export HADOOP_OPTS="-Djava.library.path=${HADOOP_HOME}/lib"
export HIVE_HOME=/opt/hive/apache-hive-2.1.1-bin
export HIVE_CONF_DIR=${HIVE_HOME}/conf
export SQOOP_HOME=/opt/sqoop/sqoop-1.4.6.bin__hadoop-2.0.4-alpha
export HBASE_HOME=/opt/hbase/hbase-1.2.5
export ZK_HOME=/opt/zookeeper/zookeeper-3.4.10
export SCALA_HOME=/opt/scala/scala-2.12.2
export SPARK_HOME=/opt/spark/spark-2.1.1-bin-hadoop2.7
export CLASS_PATH=.:${JAVA_HOME}/lib:${HIVE_HOME}/lib:$CLASS_PATH
export PATH=.:${JAVA_HOME}/bin:${HADOOP_HOME}/bin:${HADOOP_HOME}/sbin:${SPARK_HOME}/bin:${ZK_HOME}/bin:${HIVE_HOME}/bin:${SQOOP_HOME}/bin:${HBASE_HOME}:${SCALA_HOME}/bin:$PATH</pre>
<p></p>
<p><strong><span><span></span>     <strong><span> 说明：你可以只关注开头说的JDK  SCALA   Hadoop  Spark的环境变量，其余的诸如Zookeeper、<a href="http://lib.csdn.net/base/hbase" rel="nofollow" class="replace_word" title="Hbase知识库" target="_blank">hbase</a>、<a href="http://lib.csdn.net/base/hive" rel="nofollow" class="replace_word" title="Hive知识库" target="_blank">hive</a>、Sqoop都不用管。</span></strong> </span></strong></p>
<p><strong><span>      如图：</span></strong></p>
<p><strong><span><span><img src="https://img-blog.csdn.net/20170516222354759?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></span></strong></p>
<p><span><span></span>编辑完成后，执行命令：</span></p>
<p><strong><span><span>source    /etc/profile</span></span></strong></p>
<h2 id="32-配置conf目录下的文件"><a target="_blank"></a>3.2 配置conf目录下的文件</h2>
<p><strong><span> </span></strong>  <span>      对/opt/spark/spark-2.1.1-bin-hadoop2.7/conf目录下的文件进行配置。</span></p>
<h3 id="321-新建spark-envh文件"><a target="_blank"></a>3.2.1  新建spark-env.h文件</h3>
<p>        <span>执行命令，进入到/opt/spark/spark-2.1.1-bin-hadoop2.7/conf目录内：</span></p>
<p><strong><span><span>cd    /opt/spark/spark-2.1.1-bin-hadoop2.7/conf</span></span></strong></p>
<p><span>       以spark为我们创建好的模板创建一个spark-env.h文件，命令是：</span></p>
<p><strong><span><span>cp    spark-env.sh.template   spark-env.sh</span></span></strong></p>
<p><strong><span><span></span>     如图：</span></strong></p>
<p><strong><span><span><img src="https://img-blog.csdn.net/20170516222415057?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></span></strong></p>
<p><span>    编辑spark-env.h文件，在里面加入配置(具体路径以自己的为准)：</span></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>export SCALA_HOME=/opt/scala/scala-2.12.2  </span></span></li><li class=""><span>export JAVA_HOME=/opt/java/jdk1.8.0_121  </span></li><li class="alt"><span>export HADOOP_HOME=/opt/hadoop/hadoop-2.8.0  </span></li><li class=""><span>export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop  </span></li><li class="alt"><span>export SPARK_HOME=/opt/spark/spark-2.1.1-bin-hadoop2.7  </span></li><li class=""><span>export SPARK_MASTER_IP=hserver1  </span></li><li class="alt"><span>export SPARK_EXECUTOR_MEMORY=1G  </span></li></ol></div><pre><code class="language-plain">export SCALA_HOME=/opt/scala/scala-2.12.2
export JAVA_HOME=/opt/java/jdk1.8.0_121
export HADOOP_HOME=/opt/hadoop/hadoop-2.8.0
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export SPARK_HOME=/opt/spark/spark-2.1.1-bin-hadoop2.7
export SPARK_MASTER_IP=hserver1
export SPARK_EXECUTOR_MEMORY=1G</code></pre>
<p></p>
<h3 id="322-新建slaves文件"><a target="_blank"></a>3.2.2 新建slaves文件</h3>
<p><span><span></span><span></span><span></span><span></span>执行命令，进入到/opt/spark/spark-2.1.1-bin-hadoop2.7/conf目录内：</span></p>
<p><strong><span><span>cd   /opt/spark/spark-2.1.1-bin-hadoop2.7/conf</span></span></strong></p>
<p><span><span></span><span></span><span></span><span></span>以spark为我们创建好的模板创建一个slaves文件，命令是：</span></p>
<p><strong><span><span>cp    slaves.template   slaves</span></span></strong></p>
<p><span><span></span><strong><span></span><span></span><span></span>如图：</strong></span></p>
<p><span><strong><span><img src="https://img-blog.csdn.net/20170516222438900?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></strong></span></p>
<p><span><span></span><span></span>编辑slaves文件，里面的内容为：</span></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>hserver2  </span></span></li><li class=""><span>hserver3  </span></li></ol></div><pre><code class="language-plain">hserver2
hserver3</code></pre>
<p></p>
<h1 id="4-启动和测试spark集群"><a target="_blank"></a>4 启动和测试Spark集群</h1>
<h2 id="41-启动spark"><a target="_blank"></a>4.1 启动Spark</h2>
<p>     <span> </span>    <span>因为spark是依赖于hadoop提供的分布式文件系统的，所以在启动spark之前，先确保hadoop在正常运行。Hadoop2.8.0的安装和启动，请参考该博文：</span></p>
<p><a target="_blank" href="http://blog.csdn.net/pucao_cug/article/details/71698903" rel="nofollow"><span>http://blog.csdn.net/pucao_cug/article/details/71698903</span></a></p>
<p><span>    <span></span>    在hadoop正常运行的情况下，在hserver1（也就是hadoop的namenode，spark的marster节点）上执行命令：</span></p>
<p><span> <strong><span>  cd   /opt/spark/spark-2.1.1-bin-hadoop2.7/sbin</span></strong></span></p>
<p><span> <span> </span> <span>
</span><span></span>执行启动脚本：</span></p>
<p><strong><span><span>  ./start-all.sh</span></span></strong></p>
<p><strong><span> <span> </span><span></span>如图：</span></strong></p>
<p><strong><span><span><img src="https://img-blog.csdn.net/20170516222513074?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></span></strong></p>
<p></p>
<p><span><span><span> <span>
</span><span></span><span></span></span>完整内容是：</span></span></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span> [root@hserver1 sbin]# cd/opt/spark/spark-2.1.1-bin-hadoop2.7/sbin  </span></span></li><li class=""><span>[root@hserver1 sbin]# ./start-all.sh  </span></li><li class="alt"><span>starting org.apache.spark.deploy.master.Master,logging to/opt/spark/spark-2.1.1-bin-hadoop2.7/logs/spark-root-org.apache.spark.deploy.master.Master-1-hserver1.out  </span></li><li class=""><span>hserver2: startingorg.apache.spark.deploy.worker.Worker, logging to/opt/spark/spark-2.1.1-bin-hadoop2.7/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hserver2.out  </span></li><li class="alt"><span>hserver3: startingorg.apache.spark.deploy.worker.Worker, logging to/opt/spark/spark-2.1.1-bin-hadoop2.7/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hserver3.out  </span></li><li class=""><span>[root@hserver1 sbin]#  </span></li></ol></div><pre><code class="language-plain"> [root@hserver1 sbin]# cd/opt/spark/spark-2.1.1-bin-hadoop2.7/sbin
[root@hserver1 sbin]# ./start-all.sh
starting org.apache.spark.deploy.master.Master,logging to/opt/spark/spark-2.1.1-bin-hadoop2.7/logs/spark-root-org.apache.spark.deploy.master.Master-1-hserver1.out
hserver2: startingorg.apache.spark.deploy.worker.Worker, logging to/opt/spark/spark-2.1.1-bin-hadoop2.7/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hserver2.out
hserver3: startingorg.apache.spark.deploy.worker.Worker, logging to/opt/spark/spark-2.1.1-bin-hadoop2.7/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hserver3.out
[root@hserver1 sbin]#</code></pre>
<p></p>
<p><strong><span>       <span> </span> <span>注意：上面的命令中有</span></span><span><span>./</span><span>这个不能少，</span><span>./</span><span>的意思是执行当前目录下的</span><span>start-all.sh</span><span>脚本。</span></span></strong></p>
<h2 id="42-测试和使用spark集群"><a target="_blank"></a>4.2  测试和使用Spark集群</h2>
<h3 id="421-访问spark集群提供的url"><a target="_blank"></a>4.2.1  访问Spark集群提供的URL</h3>
<p>  <span>      在浏览器里访问Mster机器，我的Spark集群里Master机器是hserver1，IP地址是192.168.27.143，访问8080端口，URL是：<a target="_blank" href="http://192.168.27.143:8080/" rel="nofollow">http://192.168.27.143:8080/</a></span></p>
<p><span>       <strong>如图：</strong></span></p>
<p><span><strong><span><img src="https://img-blog.csdn.net/20170516222530790?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width="600" height="400" alt=""></span></strong></span></p>
<h3 id="422-运行spark提供的计算圆周率的示例程序"><a target="_blank"></a>4.2.2  运行Spark提供的计算圆周率的示例程序</h3>
<p>  <span> <span></span>   这里只是简单的用local模式运行一个计算圆周率的Demo。按照下面的步骤来操作。</span></p>
<p><span>  <span> </span>   <strong>第一步，进入到Spark的根目录，也就是执行下面的脚本：</strong></span></p>
<p><strong><span><span>cd     /opt/spark/spark-2.1.1-bin-hadoop2.7</span></span></strong></p>
<p><strong><span><span></span><span></span>如图：</span></strong></p>
<p><strong><span>        <img src="https://img-blog.csdn.net/20170516223201021?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></strong></p>
<p><strong><span><span></span>第二步，调用Spark自带的计算圆周率的Demo，执行下面的命令：</span></strong></p>
<p><span></span></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>./bin/spark-submit  –class  org.apache.spark.examples.SparkPi  –master local   examples/jars/spark-examples_2.11-2.1.1.jar  </span></span></li></ol></div><pre><code class="language-plain">./bin/spark-submit  --class  org.apache.spark.examples.SparkPi  --master local   examples/jars/spark-examples_2.11-2.1.1.jar</code></pre>
<p></p>
<p><span></span></p>
<p><strong><span>        命令执行后，spark示例程序已经开始执行</span></strong></p>
<p><strong><span>        如图：</span></strong></p>
<p><strong><span><span><img src="https://img-blog.csdn.net/20170516223222608?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></span></strong></p>
<p><span>        很快执行结果出来了，执行结果我用红框标出来了</span></p>
<p><strong><span><span></span><span></span>如图：</span></strong></p>
<p><strong><span><span><img src="https://img-blog.csdn.net/20170516223248038?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcHVjYW9fY3Vn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></span></span></strong></p>
<p><strong><span>        完整的控制台输出是：</span></strong></p>
<p></p>
<div class="dp-highlighter bg_plain"><div class="bar"><div class="tools"><b>[plain]</b> <a href="#" rel="nofollow" class="ViewSource" title="view plain" target="_blank">view plain</a><span> <a href="#" rel="nofollow" class="CopyToClipboard" title="copy" target="_blank">copy</a></span><div></div><span> <a href="#" rel="nofollow" class="PrintSource" title="print" target="_blank">print</a></span><a href="#" rel="nofollow" class="About" title="?" target="_blank">?</a></div></div><ol start="1"><li class="alt"><span><span>[root@hserver1 bin]# cd  /opt/spark/spark-2.1.1-bin-hadoop2.7  </span></span></li><li class=""><span>[root@hserver1 spark-2.1.1-bin-hadoop2.7]# ./bin/spark-submit–class org.apache.spark.examples.SparkPi –master localexamples/jars/spark-examples_2.11-2.1.1.jar  </span></li><li class="alt"><span>17/05/16 14:26:23 INFO spark.SparkContext: Running Spark version2.1.1  </span></li><li class=""><span>17/05/16 14:26:24 WARN util.NativeCodeLoader: Unable to loadnative-hadoop library for your platform… using builtin-java classes whereapplicable  </span></li><li class="alt"><span>17/05/16 14:26:25 INFO spark.SecurityManager: Changing view acls to:root  </span></li><li class=""><span>17/05/16 14:26:25 INFO spark.SecurityManager: Changing modify aclsto: root  </span></li><li class="alt"><span>17/05/16 14:26:25 INFO spark.SecurityManager: Changing view aclsgroups to:  </span></li><li class=""><span>17/05/16 14:26:25 INFO spark.SecurityManager: Changing modify aclsgroups to:  </span></li><li class="alt"><span>17/05/16 14:26:25 INFO spark.SecurityManager: SecurityManager:authentication disabled; ui acls disabled; users  with view permissions: Set(root); groups withview permissions: Set(); users  withmodify permissions: Set(root); groups with modify permissions: Set()  </span></li><li class=""><span>17/05/16 14:26:25 INFO util.Utils: Successfully started service’sparkDriver’ on port 40855.  </span></li><li class="alt"><span>17/05/16 14:26:26 INFO spark.SparkEnv: Registering MapOutputTracker  </span></li><li class=""><span>17/05/16 14:26:26 INFO spark.SparkEnv: RegisteringBlockManagerMaster  </span></li><li class="alt"><span>17/05/16 14:26:26 INFO storage.BlockManagerMasterEndpoint: Usingorg.apache.spark.storage.DefaultTopologyMapper for getting topology information  </span></li><li class=""><span>17/05/16 14:26:26 INFO storage.BlockManagerMasterEndpoint:BlockManagerMasterEndpoint up  </span></li><li class="alt"><span>17/05/16 14:26:26 INFO storage.DiskBlockManager: Created localdirectory at /tmp/blockmgr-cf8cbb42-95d2-4284-9a48-67592363976a  </span></li><li class=""><span>17/05/16 14:26:26 INFO memory.MemoryStore: MemoryStore started withcapacity 413.9 MB  </span></li><li class="alt"><span>17/05/16 14:26:26 INFO spark.SparkEnv: RegisteringOutputCommitCoordinator  </span></li><li class=""><span>17/05/16 14:26:26 INFO util.log: Logging initialized @5206ms  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO server.Server: jetty-9.2.z-SNAPSHOT  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@5118388b{/jobs,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@15a902e7{/jobs/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@7876d598{/jobs/job,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@4a3e3e8b{/jobs/job/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@5af28b27{/stages,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@71104a4{/stages/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@4985cbcb{/stages/stage,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@72f46e16{/stages/stage/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@3c9168dc{/stages/pool,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@332a7fce{/stages/pool/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@549621f3{/storage,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@54361a9{/storage/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@32232e55{/storage/rdd,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@5217f3d0{/storage/rdd/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@37ebc9d8{/environment,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@293bb8a5{/environment/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@2416a51{/executors,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@6fa590ba{/executors/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@6e9319f{/executors/threadDump,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@72e34f77{/executors/threadDump/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@7bf9b098{/static,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@389adf1d{/,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@77307458{/api,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@1fc0053e{/jobs/job/kill,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@290b1b2e{/stages/stage/kill,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO server.ServerConnector: StartedSpark@32fe9d0a{HTTP/1.1}{0.0.0.0:4040}  </span></li><li class=""><span>17/05/16 14:26:27 INFO server.Server: Started @5838ms  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO util.Utils: Successfully started service’SparkUI’ on port 4040.  </span></li><li class=""><span>17/05/16 14:26:27 INFO ui.SparkUI: Bound SparkUI to 0.0.0.0, andstarted at http://192.168.27.143:4040  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO spark.SparkContext: Added JARfile:/opt/spark/spark-2.1.1-bin-hadoop2.7/examples/jars/spark-examples_2.11-2.1.1.jarat spark://192.168.27.143:40855/jars/spark-examples_2.11-2.1.1.jar withtimestamp 1494915987472  </span></li><li class=""><span>17/05/16 14:26:27 INFO executor.Executor: Starting executor IDdriver on host localhost  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO util.Utils: Successfully started service’org.apache.spark.network.netty.NettyBlockTransferService’ on port 41104.  </span></li><li class=""><span>17/05/16 14:26:27 INFO netty.NettyBlockTransferService: Servercreated on 192.168.27.143:41104  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO storage.BlockManager: Usingorg.apache.spark.storage.RandomBlockReplicationPolicy for block replicationpolicy  </span></li><li class=""><span>17/05/16 14:26:27 INFO storage.BlockManagerMaster: RegisteringBlockManager BlockManagerId(driver, 192.168.27.143, 41104, None)  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO storage.BlockManagerMasterEndpoint:Registering block manager 192.168.27.143:41104 with 413.9 MB RAM,BlockManagerId(driver, 192.168.27.143, 41104, None)  </span></li><li class=""><span>17/05/16 14:26:27 INFO storage.BlockManagerMaster: RegisteredBlockManager BlockManagerId(driver, 192.168.27.143, 41104, None)  </span></li><li class="alt"><span>17/05/16 14:26:27 INFO storage.BlockManager: InitializedBlockManager: BlockManagerId(driver, 192.168.27.143, 41104, None)  </span></li><li class=""><span>17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@4e6d7365{/metrics/json,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:28 INFO internal.SharedState: Warehouse path is’file:/opt/spark/spark-2.1.1-bin-hadoop2.7/spark-warehouse’.  </span></li><li class=""><span>17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@705202d1{/SQL,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:28 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@3e58d65e{/SQL/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@6f63c44f{/SQL/execution,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:28 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@62a8fd44{/SQL/execution/json,null,AVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@1d035be3{/static/sql,null,AVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:30 INFO spark.SparkContext: Starting job: reduce atSparkPi.scala:38  </span></li><li class=""><span>17/05/16 14:26:30 INFO scheduler.DAGScheduler: Got job 0 (reduce atSparkPi.scala:38) with 2 output partitions  </span></li><li class="alt"><span>17/05/16 14:26:30 INFO scheduler.DAGScheduler: Final stage:ResultStage 0 (reduce at SparkPi.scala:38)  </span></li><li class=""><span>17/05/16 14:26:30 INFO scheduler.DAGScheduler: Parents of finalstage: List()  </span></li><li class="alt"><span>17/05/16 14:26:30 INFO scheduler.DAGScheduler: Missing parents:List()  </span></li><li class=""><span>17/05/16 14:26:30 INFO scheduler.DAGScheduler: SubmittingResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34), which has nomissing parents  </span></li><li class="alt"><span>17/05/16 14:26:30 INFO memory.MemoryStore: Block broadcast_0 storedas values in memory (estimated size 1832.0 B, free 413.9 MB)  </span></li><li class=""><span>17/05/16 14:26:30 INFO memory.MemoryStore: Block broadcast_0_piece0stored as bytes in memory (estimated size 1167.0 B, free 413.9 MB)  </span></li><li class="alt"><span>17/05/16 14:26:31 INFO storage.BlockManagerInfo: Addedbroadcast_0_piece0 in memory on 192.168.27.143:41104 (size: 1167.0 B, free:413.9 MB)  </span></li><li class=""><span>17/05/16 14:26:31 INFO spark.SparkContext: Created broadcast 0 frombroadcast at DAGScheduler.scala:996  </span></li><li class="alt"><span>17/05/16 14:26:31 INFO scheduler.DAGScheduler: Submitting 2 missingtasks from ResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34)  </span></li><li class=""><span>17/05/16 14:26:31 INFO scheduler.TaskSchedulerImpl: Adding task set0.0 with 2 tasks  </span></li><li class="alt"><span>17/05/16 14:26:31 INFO scheduler.TaskSetManager: Starting task 0.0in stage 0.0 (TID 0, localhost, executor driver, partition 0, PROCESS_LOCAL,6026 bytes)  </span></li><li class=""><span>17/05/16 14:26:31 INFO executor.Executor: Running task 0.0 in stage0.0 (TID 0)  </span></li><li class="alt"><span>17/05/16 14:26:31 INFO executor.Executor: Fetchingspark://192.168.27.143:40855/jars/spark-examples_2.11-2.1.1.jar with timestamp1494915987472  </span></li><li class=""><span>17/05/16 14:26:31 INFO client.TransportClientFactory: Successfullycreated connection to /192.168.27.143:40855 after 145 ms (0 ms spent inbootstraps)  </span></li><li class="alt"><span>17/05/16 14:26:31 INFO util.Utils: Fetchingspark://192.168.27.143:40855/jars/spark-examples_2.11-2.1.1.jar to/tmp/spark-702c8654-489f-47f2-85e0-8b658ebb2988/userFiles-0a07fa86-4d14-4939-ad2b-95ac8488e187/fetchFileTemp3302336691796081023.tmp  </span></li><li class=""><span>17/05/16 14:26:33 INFO executor.Executor: Addingfile:/tmp/spark-702c8654-489f-47f2-85e0-8b658ebb2988/userFiles-0a07fa86-4d14-4939-ad2b-95ac8488e187/spark-examples_2.11-2.1.1.jarto class loader  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO executor.Executor: Finished task 0.0 in stage0.0 (TID 0). 1114 bytes result sent to driver  </span></li><li class=""><span>17/05/16 14:26:34 INFO scheduler.TaskSetManager: Starting task 1.0in stage 0.0 (TID 1, localhost, executor driver, partition 1, PROCESS_LOCAL,6026 bytes)  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO executor.Executor: Running task 1.0 in stage0.0 (TID 1)  </span></li><li class=""><span>17/05/16 14:26:34 INFO scheduler.TaskSetManager: Finished task 0.0in stage 0.0 (TID 0) in 2815 ms on localhost (executor driver) (1/2)  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO executor.Executor: Finished task 1.0 in stage0.0 (TID 1). 1114 bytes result sent to driver  </span></li><li class=""><span>17/05/16 14:26:34 INFO scheduler.TaskSetManager: Finished task 1.0in stage 0.0 (TID 1) in 416 ms on localhost (executor driver) (2/2)  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO scheduler.TaskSchedulerImpl: Removed TaskSet0.0, whose tasks have all completed, from pool  </span></li><li class=""><span>17/05/16 14:26:34 INFO scheduler.DAGScheduler: ResultStage 0 (reduceat SparkPi.scala:38) finished in 3.269 s  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO scheduler.DAGScheduler: Job 0 finished:reduce at SparkPi.scala:38, took 4.404894 s  </span></li><li class=""><span>Pi is roughly 3.1434157170785855  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO server.ServerConnector: StoppedSpark@32fe9d0a{HTTP/1.1}{0.0.0.0:4040}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@290b1b2e{/stages/stage/kill,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@1fc0053e{/jobs/job/kill,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@77307458{/api,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@389adf1d{/,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@7bf9b098{/static,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@72e34f77{/executors/threadDump/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@6e9319f{/executors/threadDump,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@6fa590ba{/executors/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@2416a51{/executors,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@293bb8a5{/environment/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stopped o.s.j.s.ServletContextHandler@37ebc9d8{/environment,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@5217f3d0{/storage/rdd/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@32232e55{/storage/rdd,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@54361a9{/storage/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@549621f3{/storage,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@332a7fce{/stages/pool/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@3c9168dc{/stages/pool,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@72f46e16{/stages/stage/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@4985cbcb{/stages/stage,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@71104a4{/stages/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@5af28b27{/stages,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@4a3e3e8b{/jobs/job/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@7876d598{/jobs/job,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@15a902e7{/jobs/json,null,UNAVAILABLE,@Spark}  </span></li><li class=""><span>17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@5118388b{/jobs,null,UNAVAILABLE,@Spark}  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO ui.SparkUI: Stopped Spark web UI athttp://192.168.27.143:4040  </span></li><li class=""><span>17/05/16 14:26:34 INFO spark.MapOutputTrackerMasterEndpoint:MapOutputTrackerMasterEndpoint stopped!  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO memory.MemoryStore: MemoryStore cleared  </span></li><li class=""><span>17/05/16 14:26:34 INFO storage.BlockManager: BlockManager stopped  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO storage.BlockManagerMaster: BlockManagerMasterstopped  </span></li><li class=""><span>17/05/16 14:26:34 INFOscheduler.OutputCommitCoordinator$OutputCommitCoordinatorEndpoint:OutputCommitCoordinator stopped!  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO spark.SparkContext: Successfully stoppedSparkContext  </span></li><li class=""><span>17/05/16 14:26:34 INFO util.ShutdownHookManager: Shutdown hookcalled  </span></li><li class="alt"><span>17/05/16 14:26:34 INFO util.ShutdownHookManager: Deleting directory/tmp/spark-702c8654-489f-47f2-85e0-8b658ebb2988  </span></li><li class=""><span>[root@hserver1 spark-2.1.1-bin-hadoop2.7]#  </span></li></ol></div><pre><code class="language-plain">[root@hserver1 bin]# cd  /opt/spark/spark-2.1.1-bin-hadoop2.7
[root@hserver1 spark-2.1.1-bin-hadoop2.7]# ./bin/spark-submit--class org.apache.spark.examples.SparkPi --master localexamples/jars/spark-examples_2.11-2.1.1.jar
17/05/16 14:26:23 INFO spark.SparkContext: Running Spark version2.1.1
17/05/16 14:26:24 WARN util.NativeCodeLoader: Unable to loadnative-hadoop library for your platform... using builtin-java classes whereapplicable
17/05/16 14:26:25 INFO spark.SecurityManager: Changing view acls to:root
17/05/16 14:26:25 INFO spark.SecurityManager: Changing modify aclsto: root
17/05/16 14:26:25 INFO spark.SecurityManager: Changing view aclsgroups to:
17/05/16 14:26:25 INFO spark.SecurityManager: Changing modify aclsgroups to:
17/05/16 14:26:25 INFO spark.SecurityManager: SecurityManager:authentication disabled; ui acls disabled; users  with view permissions: Set(root); groups withview permissions: Set(); users  withmodify permissions: Set(root); groups with modify permissions: Set()
17/05/16 14:26:25 INFO util.Utils: Successfully started service'sparkDriver' on port 40855.
17/05/16 14:26:26 INFO spark.SparkEnv: Registering MapOutputTracker
17/05/16 14:26:26 INFO spark.SparkEnv: RegisteringBlockManagerMaster
17/05/16 14:26:26 INFO storage.BlockManagerMasterEndpoint: Usingorg.apache.spark.storage.DefaultTopologyMapper for getting topology information
17/05/16 14:26:26 INFO storage.BlockManagerMasterEndpoint:BlockManagerMasterEndpoint up
17/05/16 14:26:26 INFO storage.DiskBlockManager: Created localdirectory at /tmp/blockmgr-cf8cbb42-95d2-4284-9a48-67592363976a
17/05/16 14:26:26 INFO memory.MemoryStore: MemoryStore started withcapacity 413.9 MB
17/05/16 14:26:26 INFO spark.SparkEnv: RegisteringOutputCommitCoordinator
17/05/16 14:26:26 INFO util.log: Logging initialized @5206ms
17/05/16 14:26:27 INFO server.Server: jetty-9.2.z-SNAPSHOT
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@5118388b{/jobs,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@15a902e7{/jobs/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@7876d598{/jobs/job,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@4a3e3e8b{/jobs/job/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@5af28b27{/stages,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@71104a4{/stages/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@4985cbcb{/stages/stage,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@72f46e16{/stages/stage/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@3c9168dc{/stages/pool,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@332a7fce{/stages/pool/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@549621f3{/storage,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@54361a9{/storage/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@32232e55{/storage/rdd,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@5217f3d0{/storage/rdd/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@37ebc9d8{/environment,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@293bb8a5{/environment/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@2416a51{/executors,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@6fa590ba{/executors/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@6e9319f{/executors/threadDump,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@72e34f77{/executors/threadDump/json,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@7bf9b098{/static,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@389adf1d{/,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@77307458{/api,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@1fc0053e{/jobs/job/kill,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@290b1b2e{/stages/stage/kill,null,AVAILABLE,@Spark}
17/05/16 14:26:27 INFO server.ServerConnector: StartedSpark@32fe9d0a{HTTP/1.1}{0.0.0.0:4040}
17/05/16 14:26:27 INFO server.Server: Started @5838ms
17/05/16 14:26:27 INFO util.Utils: Successfully started service'SparkUI' on port 4040.
17/05/16 14:26:27 INFO ui.SparkUI: Bound SparkUI to 0.0.0.0, andstarted at http://192.168.27.143:4040
17/05/16 14:26:27 INFO spark.SparkContext: Added JARfile:/opt/spark/spark-2.1.1-bin-hadoop2.7/examples/jars/spark-examples_2.11-2.1.1.jarat spark://192.168.27.143:40855/jars/spark-examples_2.11-2.1.1.jar withtimestamp 1494915987472
17/05/16 14:26:27 INFO executor.Executor: Starting executor IDdriver on host localhost
17/05/16 14:26:27 INFO util.Utils: Successfully started service'org.apache.spark.network.netty.NettyBlockTransferService' on port 41104.
17/05/16 14:26:27 INFO netty.NettyBlockTransferService: Servercreated on 192.168.27.143:41104
17/05/16 14:26:27 INFO storage.BlockManager: Usingorg.apache.spark.storage.RandomBlockReplicationPolicy for block replicationpolicy
17/05/16 14:26:27 INFO storage.BlockManagerMaster: RegisteringBlockManager BlockManagerId(driver, 192.168.27.143, 41104, None)
17/05/16 14:26:27 INFO storage.BlockManagerMasterEndpoint:Registering block manager 192.168.27.143:41104 with 413.9 MB RAM,BlockManagerId(driver, 192.168.27.143, 41104, None)
17/05/16 14:26:27 INFO storage.BlockManagerMaster: RegisteredBlockManager BlockManagerId(driver, 192.168.27.143, 41104, None)
17/05/16 14:26:27 INFO storage.BlockManager: InitializedBlockManager: BlockManagerId(driver, 192.168.27.143, 41104, None)
17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@4e6d7365{/metrics/json,null,AVAILABLE,@Spark}
17/05/16 14:26:28 INFO internal.SharedState: Warehouse path is'file:/opt/spark/spark-2.1.1-bin-hadoop2.7/spark-warehouse'.
17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@705202d1{/SQL,null,AVAILABLE,@Spark}
17/05/16 14:26:28 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@3e58d65e{/SQL/json,null,AVAILABLE,@Spark}
17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@6f63c44f{/SQL/execution,null,AVAILABLE,@Spark}
17/05/16 14:26:28 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@62a8fd44{/SQL/execution/json,null,AVAILABLE,@Spark}
17/05/16 14:26:28 INFO handler.ContextHandler: Startedo.s.j.s.ServletContextHandler@1d035be3{/static/sql,null,AVAILABLE,@Spark}
17/05/16 14:26:30 INFO spark.SparkContext: Starting job: reduce atSparkPi.scala:38
17/05/16 14:26:30 INFO scheduler.DAGScheduler: Got job 0 (reduce atSparkPi.scala:38) with 2 output partitions
17/05/16 14:26:30 INFO scheduler.DAGScheduler: Final stage:ResultStage 0 (reduce at SparkPi.scala:38)
17/05/16 14:26:30 INFO scheduler.DAGScheduler: Parents of finalstage: List()
17/05/16 14:26:30 INFO scheduler.DAGScheduler: Missing parents:List()
17/05/16 14:26:30 INFO scheduler.DAGScheduler: SubmittingResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34), which has nomissing parents
17/05/16 14:26:30 INFO memory.MemoryStore: Block broadcast_0 storedas values in memory (estimated size 1832.0 B, free 413.9 MB)
17/05/16 14:26:30 INFO memory.MemoryStore: Block broadcast_0_piece0stored as bytes in memory (estimated size 1167.0 B, free 413.9 MB)
17/05/16 14:26:31 INFO storage.BlockManagerInfo: Addedbroadcast_0_piece0 in memory on 192.168.27.143:41104 (size: 1167.0 B, free:413.9 MB)
17/05/16 14:26:31 INFO spark.SparkContext: Created broadcast 0 frombroadcast at DAGScheduler.scala:996
17/05/16 14:26:31 INFO scheduler.DAGScheduler: Submitting 2 missingtasks from ResultStage 0 (MapPartitionsRDD[1] at map at SparkPi.scala:34)
17/05/16 14:26:31 INFO scheduler.TaskSchedulerImpl: Adding task set0.0 with 2 tasks
17/05/16 14:26:31 INFO scheduler.TaskSetManager: Starting task 0.0in stage 0.0 (TID 0, localhost, executor driver, partition 0, PROCESS_LOCAL,6026 bytes)
17/05/16 14:26:31 INFO executor.Executor: Running task 0.0 in stage0.0 (TID 0)
17/05/16 14:26:31 INFO executor.Executor: Fetchingspark://192.168.27.143:40855/jars/spark-examples_2.11-2.1.1.jar with timestamp1494915987472
17/05/16 14:26:31 INFO client.TransportClientFactory: Successfullycreated connection to /192.168.27.143:40855 after 145 ms (0 ms spent inbootstraps)
17/05/16 14:26:31 INFO util.Utils: Fetchingspark://192.168.27.143:40855/jars/spark-examples_2.11-2.1.1.jar to/tmp/spark-702c8654-489f-47f2-85e0-8b658ebb2988/userFiles-0a07fa86-4d14-4939-ad2b-95ac8488e187/fetchFileTemp3302336691796081023.tmp
17/05/16 14:26:33 INFO executor.Executor: Addingfile:/tmp/spark-702c8654-489f-47f2-85e0-8b658ebb2988/userFiles-0a07fa86-4d14-4939-ad2b-95ac8488e187/spark-examples_2.11-2.1.1.jarto class loader
17/05/16 14:26:34 INFO executor.Executor: Finished task 0.0 in stage0.0 (TID 0). 1114 bytes result sent to driver
17/05/16 14:26:34 INFO scheduler.TaskSetManager: Starting task 1.0in stage 0.0 (TID 1, localhost, executor driver, partition 1, PROCESS_LOCAL,6026 bytes)
17/05/16 14:26:34 INFO executor.Executor: Running task 1.0 in stage0.0 (TID 1)
17/05/16 14:26:34 INFO scheduler.TaskSetManager: Finished task 0.0in stage 0.0 (TID 0) in 2815 ms on localhost (executor driver) (1/2)
17/05/16 14:26:34 INFO executor.Executor: Finished task 1.0 in stage0.0 (TID 1). 1114 bytes result sent to driver
17/05/16 14:26:34 INFO scheduler.TaskSetManager: Finished task 1.0in stage 0.0 (TID 1) in 416 ms on localhost (executor driver) (2/2)
17/05/16 14:26:34 INFO scheduler.TaskSchedulerImpl: Removed TaskSet0.0, whose tasks have all completed, from pool
17/05/16 14:26:34 INFO scheduler.DAGScheduler: ResultStage 0 (reduceat SparkPi.scala:38) finished in 3.269 s
17/05/16 14:26:34 INFO scheduler.DAGScheduler: Job 0 finished:reduce at SparkPi.scala:38, took 4.404894 s
Pi is roughly 3.1434157170785855
17/05/16 14:26:34 INFO server.ServerConnector: StoppedSpark@32fe9d0a{HTTP/1.1}{0.0.0.0:4040}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@290b1b2e{/stages/stage/kill,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@1fc0053e{/jobs/job/kill,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@77307458{/api,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@389adf1d{/,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@7bf9b098{/static,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@72e34f77{/executors/threadDump/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@6e9319f{/executors/threadDump,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@6fa590ba{/executors/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@2416a51{/executors,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@293bb8a5{/environment/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stopped o.s.j.s.ServletContextHandler@37ebc9d8{/environment,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@5217f3d0{/storage/rdd/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@32232e55{/storage/rdd,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@54361a9{/storage/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@549621f3{/storage,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@332a7fce{/stages/pool/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@3c9168dc{/stages/pool,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@72f46e16{/stages/stage/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@4985cbcb{/stages/stage,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@71104a4{/stages/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@5af28b27{/stages,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@4a3e3e8b{/jobs/job/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@7876d598{/jobs/job,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@15a902e7{/jobs/json,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO handler.ContextHandler: Stoppedo.s.j.s.ServletContextHandler@5118388b{/jobs,null,UNAVAILABLE,@Spark}
17/05/16 14:26:34 INFO ui.SparkUI: Stopped Spark web UI athttp://192.168.27.143:4040
17/05/16 14:26:34 INFO spark.MapOutputTrackerMasterEndpoint:MapOutputTrackerMasterEndpoint stopped!
17/05/16 14:26:34 INFO memory.MemoryStore: MemoryStore cleared
17/05/16 14:26:34 INFO storage.BlockManager: BlockManager stopped
17/05/16 14:26:34 INFO storage.BlockManagerMaster: BlockManagerMasterstopped
17/05/16 14:26:34 INFOscheduler.OutputCommitCoordinator$OutputCommitCoordinatorEndpoint:OutputCommitCoordinator stopped!
17/05/16 14:26:34 INFO spark.SparkContext: Successfully stoppedSparkContext
17/05/16 14:26:34 INFO util.ShutdownHookManager: Shutdown hookcalled
17/05/16 14:26:34 INFO util.ShutdownHookManager: Deleting directory/tmp/spark-702c8654-489f-47f2-85e0-8b658ebb2988
[root@hserver1 spark-2.1.1-bin-hadoop2.7]#</code></pre><br>
<p>        <span><strong>   注意：上面只是使用了单机本地模式调用Demo，使用集群模式运行Demo，请参考该博文</strong></span></p>
<p><a target="_blank" href="http://blog.csdn.net/pucao_cug/article/details/72453382" rel="nofollow"><span><strong>http://blog.csdn.net/pucao_cug/article/details/72453382</strong></span></a><br>
</p>
<p> </p>

</li></ol></div></li></ol></div></div>            </div>
						<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-9e5741c4b9.css" rel="stylesheet">
                </div>