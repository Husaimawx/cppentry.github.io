---
layout:     post
title:      CDH集成kafka
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);"><u><a href="http://click.aliyun.com/m/1000003767/" rel="nofollow">阅读完请点击</a></u></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);">添加kafka（把包放到cm主机目录）</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);">  1.下载kafka包<a href="http://archive.cloudera.com/kafka/parcels/latest/" rel="nofollow" style="color:rgb(51,102,255);background-color:transparent;">http://archive.cloudera.com/kafka/parcels/latest/</a></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);">   把包放到parcel-repo 目录</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/02e935e52036ca62211d2160f3f8e18183f975e7.png" alt="02e935e52036ca62211d2160f3f8e18183f975e7" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);">2.下载csd包<a href="http://archive.cloudera.com/csds/kafka/" rel="nofollow" style="color:rgb(51,102,255);background-color:transparent;">http://archive.cloudera.com/csds/kafka/</a></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);">放到csd目录</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;text-indent:5.25pt;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/450f121b4225f9671d47b2bfe3e0cb9beb2811de.png" alt="450f121b4225f9671d47b2bfe3e0cb9beb2811de" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">3.分配kafka包并激活</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/7b345166b373d36db6c7f581e3299215c3f8999c.png" width="300" alt="7b345166b373d36db6c7f581e3299215c3f8999c" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/ce4cb135fa9e8bc2e17fdc7eaf897def8cbc4ce9.png" width="300" alt="ce4cb135fa9e8bc2e17fdc7eaf897def8cbc4ce9" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><span style="color:#ff0000;">注意：如果进度卡在“已解压”，直接返回重新进来就会看到“激活”</span></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">4添加kafka角色</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/d3e81af0c78fa5553c4c1f3a28d9cc9c59b77dcb.png" width="300" alt="d3e81af0c78fa5553c4c1f3a28d9cc9c59b77dcb" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">可根据需求填写各选项（我这里直接默认）</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><span style="color:#33ff99;">以下是容易踩坑的</span></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">安装后启动报错“<span style="color:#cc0000;">Java heap space</span>”</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">需要在cdh控制台上修改Java内存，默认50M，安装时也没提示让设置内存大小，结果自动安装后到最后的启动阶段报错（如下图）</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/963941ee4038947d52c77e29733ea45c12fe448e.png" width="300" alt="963941ee4038947d52c77e29733ea45c12fe448e" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">这个时候可以返回到首页，点击kafka,进入“配置”修改java内存</p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><img src="https://yqfile.alicdn.com/3cd38ae1d7c48bfd3a7ec5e8da23aa211dc249d9.png" width="300" alt="3cd38ae1d7c48bfd3a7ec5e8da23aa211dc249d9" style="border:0px;vertical-align:middle;"><br></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);">找到<span style="font-size:10.5pt;font-family:'等线';">Java Heap Size </span><span style="font-size:10.5pt;font-family:'等线';">改为1G（根据服务器配置改参数）</span></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><span style="font-size:10.5pt;font-family:'等线';"><img src="https://yqfile.alicdn.com/bd8875dec7b972b94499b9cf80f81fda41b82bc7.png" width="300" alt="bd8875dec7b972b94499b9cf80f81fda41b82bc7" style="border:0px;vertical-align:middle;"><br></span></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><span style="font-size:10.5pt;font-family:'等线';">最后控制台重启kafka就可以了</span></p><p style="color:rgb(51,51,51);font-family:PingFangSC, 'helvetica neue', 'hiragino sans gb', arial, 'microsoft yahei ui', 'microsoft yahei', simsun, sans-serif;line-height:32px;background-color:rgb(255,255,255);"><span style="font-size:10.5pt;font-family:'等线';"><u><a href="http://click.aliyun.com/m/1000003767/" rel="nofollow">阅读后请点击</a></u></span></p>            </div>
                </div>