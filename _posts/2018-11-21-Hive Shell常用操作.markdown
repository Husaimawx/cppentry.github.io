---
layout:     post
title:      Hive Shell常用操作
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<h3 id="hive的hql命令执行方式有三种" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1.7em;">
Hive的hql命令执行方式有三种：</h3>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">1、CLI 方式直接执行
2、作为字符串通过shell调用hive –e执行（-S开启静默，去掉”OK”，”Time taken”）
3、作为独立文件，通过shell调用 hive –f或hive –i执行执行
</code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li><li style="list-style:none;color:rgb(153,153,153);">3</li><li style="list-style:none;color:rgb(153,153,153);">4</li></ul><h4 id="方式1" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1.25em;">
方式1</h4>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">键入“hive”，启动hive的cli交互模式。Set可以查看所有环境设置参数，并可以重设。其他命令如，
    Use database        选择库
    quit/exit   退出Hive的交互模式 
    set –v  显示Hive中的所有变量
    set &lt;key&gt;=&lt;value&gt;       设置参数
    执行本地shell ：!&lt;cmd&gt;       交互模式下可执行shell命令，例如（查看linux根目录下文件列表："!ls -l /;"）
    操作云命令：dfs &lt; command&gt;        交互模式下直接操作hadoop命令如 dfs fs –ls
    Hql语句       执行查询并输出到标准输出
    add [FILE|JAR|ARCHIVE] &lt;value&gt; [&lt;value&gt;]*       增加一个文件到资源列表
    list FILE       列出所有已经添加的资源
</code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li><li style="list-style:none;color:rgb(153,153,153);">3</li><li style="list-style:none;color:rgb(153,153,153);">4</li><li style="list-style:none;color:rgb(153,153,153);">5</li><li style="list-style:none;color:rgb(153,153,153);">6</li><li style="list-style:none;color:rgb(153,153,153);">7</li><li style="list-style:none;color:rgb(153,153,153);">8</li><li style="list-style:none;color:rgb(153,153,153);">9</li><li style="list-style:none;color:rgb(153,153,153);">10</li><li style="list-style:none;color:rgb(153,153,153);">11</li></ul><h4 id="方式二" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1.25em;">
方式二</h4>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">Hql作为字符串在shell脚本中执行，如
    hive -e "use ${database};select * from tb"
查询结果可以直接导出到本地本件（默认分隔符为\t）:
    hive -e "select * from tb" &gt; tb.txt
</code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li><li style="list-style:none;color:rgb(153,153,153);">3</li><li style="list-style:none;color:rgb(153,153,153);">4</li><li style="list-style:none;color:rgb(153,153,153);">5</li></ul><h5 id="如果需要查看执行步骤则在命令前面添加" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1em;">
如果需要查看执行步骤，则在命令前面添加</h5>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">    set –x
</code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li></ul><h5 id="另外在shell脚本中字符串有两种定义方式" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1em;">
另外，在shell脚本中，字符串有两种定义方式:</h5>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">1)  直接定义字符串对象：sql=”字符串”

2)  通过命令定义：sql=$(cat &lt;&lt;endtag 字符串endtag)方式可以将字符串复制给sql，执行hql命令的shell脚本如下：
</code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li><li style="list-style:none;color:rgb(153,153,153);">3</li><li style="list-style:none;color:rgb(153,153,153);">4</li></ul><pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="language-shell hljs bash has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background:transparent;display:block;"><span class="hljs-comment" style="color:rgb(136,0,0);">####### execute hive ######</span>
sql=$(cat &lt;&lt;!EOF

USE pmp;
<span class="hljs-keyword" style="color:rgb(0,0,136);">set</span> mapred.queue.names=queue3;

drop table <span class="hljs-keyword" style="color:rgb(0,0,136);">if</span> exists people_targeted_delivery;
create table people_targeted_delivery
( special_tag_id int,
  cnt bigint
);

INSERT OVERWRITE LOCAL DIRECTORY <span class="hljs-string" style="color:rgb(0,136,0);">'$cur_path/people_targeted_delivery'</span>
ROW FORMAT DELIMITED FIELDS TERMINATED BY <span class="hljs-string" style="color:rgb(0,136,0);">'\t'</span> 
select special_tag_id,count(<span class="hljs-number" style="color:rgb(0,102,102);">1</span>) 
from t_pmp_special_user_tags
group by special_tag_id;

!EOF)
<span class="hljs-comment" style="color:rgb(136,0,0);">############  execute begin   ###########</span>
<span class="hljs-built_in" style="color:rgb(102,0,102);">echo</span> <span class="hljs-variable" style="color:rgb(102,0,102);">$sql</span>
<span class="hljs-variable" style="color:rgb(102,0,102);">$HIVE_HOME</span>/bin/hive <span class="hljs-operator">-e</span> <span class="hljs-string" style="color:rgb(0,136,0);">"<span class="hljs-variable" style="color:rgb(102,0,102);">$sql</span>"</span>

<span class="hljs-keyword" style="color:rgb(0,0,136);">exit</span>Code=$?
<span class="hljs-keyword" style="color:rgb(0,0,136);">if</span> [ <span class="hljs-variable" style="color:rgb(102,0,102);">$exitCode</span> <span class="hljs-operator">-ne</span> <span class="hljs-number" style="color:rgb(0,102,102);">0</span> ];<span class="hljs-keyword" style="color:rgb(0,0,136);">then</span>
         <span class="hljs-built_in" style="color:rgb(102,0,102);">echo</span> <span class="hljs-string" style="color:rgb(0,136,0);">"[ERROR] hive execute failed!"</span>
         <span class="hljs-keyword" style="color:rgb(0,0,136);">exit</span> <span class="hljs-variable" style="color:rgb(102,0,102);">$exitCode</span>
<span class="hljs-keyword" style="color:rgb(0,0,136);">fi</span></code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li><li style="list-style:none;color:rgb(153,153,153);">3</li><li style="list-style:none;color:rgb(153,153,153);">4</li><li style="list-style:none;color:rgb(153,153,153);">5</li><li style="list-style:none;color:rgb(153,153,153);">6</li><li style="list-style:none;color:rgb(153,153,153);">7</li><li style="list-style:none;color:rgb(153,153,153);">8</li><li style="list-style:none;color:rgb(153,153,153);">9</li><li style="list-style:none;color:rgb(153,153,153);">10</li><li style="list-style:none;color:rgb(153,153,153);">11</li><li style="list-style:none;color:rgb(153,153,153);">12</li><li style="list-style:none;color:rgb(153,153,153);">13</li><li style="list-style:none;color:rgb(153,153,153);">14</li><li style="list-style:none;color:rgb(153,153,153);">15</li><li style="list-style:none;color:rgb(153,153,153);">16</li><li style="list-style:none;color:rgb(153,153,153);">17</li><li style="list-style:none;color:rgb(153,153,153);">18</li><li style="list-style:none;color:rgb(153,153,153);">19</li><li style="list-style:none;color:rgb(153,153,153);">20</li><li style="list-style:none;color:rgb(153,153,153);">21</li><li style="list-style:none;color:rgb(153,153,153);">22</li><li style="list-style:none;color:rgb(153,153,153);">23</li><li style="list-style:none;color:rgb(153,153,153);">24</li><li style="list-style:none;color:rgb(153,153,153);">25</li><li style="list-style:none;color:rgb(153,153,153);">26</li><li style="list-style:none;color:rgb(153,153,153);">27</li><li style="list-style:none;color:rgb(153,153,153);">28</li></ul><h4 id="方式三" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1.25em;">
方式三</h4>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">将hql语句保存为独立文件，后缀名不限制，可以用.q或者.hql作为标识：
    A，这个文件在cli模式下，用source命令执行，如：source ./mytest.hql
    B，在shell中执行命令，如：hive -f  mytest.sql
</code></pre><ul class="pre-numbering" style="list-style:none;line-height:23.8px;width:50px;background-color:rgb(238,238,238);border-right:1px solid rgb(221,221,221);text-align:right;"><li style="list-style:none;color:rgb(153,153,153);">1</li><li style="list-style:none;color:rgb(153,153,153);">2</li><li style="list-style:none;color:rgb(153,153,153);">3</li><li style="list-style:none;color:rgb(153,153,153);">4</li></ul><h4 id="hive指定预执行文件命令hive-i或叫初始化文件" style="font-family:'microsoft yahei';font-weight:100;line-height:1.1;color:rgb(63,63,63);font-size:1.25em;">
Hive指定预执行文件命令“hive –i”（或叫初始化文件）</h4>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;">命令：hive -i hive-script.sql
在hive启动cli之前，先执行指定文件（hive-script.sql）中的命令。
也就是说，允许用户在cli启动时预先执行一个指定文件，比如，有一些常用的环境参数设置，频繁执行的命令，可以添加在初始化文件中，比如，
    某些参数设置
        set mapred.queue.names=queue3;
        SET mapred.reduce.tasks=14;
    添加udf文件
        add JAR ./playdata-hive-udf.jar;
    设置Hive的日志级别 
        hive -hiveconf hive.root.logger=INFO;</code></pre>
<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;"></code></pre><div style="color:rgb(69,69,69);font-family:'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size:16px;line-height:21px;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="color:rgb(51,51,51);line-height:1.5;">#hive     </span><span style="color:rgb(51,51,51);line-height:1.5;">启动</span></span></div><div style="color:rgb(69,69,69);font-family:'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size:16px;line-height:21px;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="color:rgb(51,51,51);background-color:inherit;"></span><span style="color:rgb(51,51,51);line-height:1.5;">hive&gt;quit;     --</span><span style="color:rgb(51,51,51);">退出</span><span style="color:rgb(51,51,51);">hive</span></span></div><div style="color:rgb(69,69,69);font-family:'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size:16px;line-height:21px;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="color:rgb(51,51,51);"></span></span><div style="color:rgb(0,0,0);"><span style="color:rgb(51,51,51);background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt; exit;    --exit会影响之前的使用，所以需要下一句kill掉hadoop的进程</span></span></div><div style="color:rgb(0,0,0);"><span style="color:rgb(51,51,51);background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">&gt;hadoop job -kill jobid</span></span></div><span style="font-family:'Microsoft YaHei';font-size:18px;"><br style="background-color:inherit;"></span></div><div style="color:rgb(69,69,69);font-family:'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size:16px;line-height:21px;"><span style="color:rgb(51,51,51);background-color:inherit;"><span style="text-align:justify;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt;create database database_name; 创建数据库</span></span></span></div><div style="color:rgb(69,69,69);font-family:'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size:16px;"><div style="text-align:justify;"><span style="font-family:'Microsoft YaHei';font-size:18px;color:rgb(51,51,51);"><span style="line-height:21px;">如果数据库已经存在就会抛出一个错误信息，使用如下语句可以避免抛出错误信息：</span></span></div><div style="text-align:justify;"><span style="font-family:'Microsoft YaHei';font-size:18px;color:rgb(51,51,51);"><span style="line-height:21px;">hive&gt;creat database if not exists database_name</span></span></div><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="color:rgb(51,51,51);line-height:21px;background-color:inherit;"></span></span><h5 style="font-weight:100;line-height:21px;color:inherit;font-size:1em;"></h5><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="background-color:inherit;">hive&gt; show databases;   </span><span style="background-color:inherit;">查看数据库</span></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">如果数据库比较多的话，也可以用正则表达式来查看：</span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt; show databases like 'h.*';</span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><br></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="background-color:inherit;">hive&gt; use default;    --</span><span style="background-color:inherit;">使用哪个数据库</span></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">hive&gt;show tables;  --</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">查看该数据库中的所有表</span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">hive&gt;show tables  ‘*t*’;    --</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">支持模糊查询</span></p><p style="background-color:inherit;"><span style="text-align:justify;font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">hive&gt; describe tab_name;    --查看表的结构及表的路径</span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt; describe database database_name;  --查看数据库的描述及路径</span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">可以用下面的命令来修改数据库的路径：</span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt; creat database database_name location '路径';   </span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt; drop database if exists database_name; --删除空的数据库</span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="line-height:21px;">hive&gt; drop database if exists database_name cascade; --先删除数据库中的表再删除数据库</span><br></span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><br></span></p><p style="text-align:justify;background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">hive&gt;</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">show partitions</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;"> t1;   --</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">查看表有哪些分区</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;"> </span></p><h5 style="font-weight:100;line-height:21px;color:inherit;font-size:1em;"></h5><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><br></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';"><span style="font-size:18px;">修改表：</span></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';"><span style="font-size:18px;">hive&gt;alter table table_name rename to another_name;   --修改表名</span></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';"><span style="font-size:18px;"><br></span></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">hive&gt;drop table </span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">t1</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;"> ;</span><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">      --删除表t1</span></p><h5 style="font-weight:100;line-height:21px;color:inherit;font-size:1em;"><span style="font-family:'Microsoft YaHei';font-size:18px;">或者： hive&gt; drop table if exists t1;</span></h5><h5 style="font-weight:100;line-height:21px;color:inherit;font-size:1em;"><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;"><br></span></h5><h5 style="font-weight:100;line-height:21px;color:inherit;font-size:1em;"><span style="font-family:'Microsoft YaHei';font-size:18px;background-color:inherit;">hive不支持修改表中数据，但是可以修改表结构，而不影响数据</span></h5><h5 style="font-weight:100;line-height:21px;color:inherit;font-size:1em;"></h5><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="background-color:inherit;">有</span><span style="background-color:inherit;">local</span><span style="background-color:inherit;">的速度明显比没有</span><span style="background-color:inherit;">local</span><span style="background-color:inherit;">慢：</span></span></p><p style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="background-color:inherit;">hive&gt;</span>load data inpath '/root/inner_table.dat' into table t1;<span style="background-color:inherit;">   移动hdfs中数据到t1表中</span></span></p><p style="background-color:inherit;"><span style="background-color:inherit;"><span style="font-family:'Microsoft YaHei';font-size:18px;">hive&gt;load  data local inpath '/root/inner_table.dat' into table t1;  上传本地数据到hdfs中</span></span></p><span style="font-family:'Microsoft YaHei';font-size:18px;">hive<span style="background-color:inherit;">&gt; !</span><span style="color:#0000FF;background-color:inherit;">ls</span>;  查询当前linux文件夹下的文件<br style="background-color:inherit;">hive<span style="background-color:inherit;">&gt; dfs -</span><span style="color:#0000FF;background-color:inherit;">ls /</span><span style="background-color:inherit;">;</span><span style="background-color:inherit;"> </span><span style="background-color:inherit;">查询当前hdfs文件系统下  '/'目录下的文件</span></span><div><span style="font-family:'Microsoft YaHei';font-size:18px;"><br></span></div><div><span style="font-family:'Microsoft YaHei';font-size:18px;"><br></span></div><h1 style="font-size:2.6em;font-weight:100;line-height:1.1;color:inherit;"><span style="font-family:'Microsoft YaHei';"><span style="background-color:inherit;"><span><span style="font-weight:normal;font-size:18px;">hive笔记：</span></span></span></span></h1><div><span style="font-family:'Microsoft YaHei';font-size:18px;"><span style="background-color:inherit;"></span></span><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">1、从文件中执行hive查询：$ hive -f .sql文件的路径;</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     e.g  $hive -f /path/to/file/xxxx.hql;</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     在hive shell中可以用source命令来执行一个脚本文件: hive&gt;source .sql文件的路径</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">      e.g. hive&gt; source /path/to/file/test.sql;</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">      hive中一次使用命令： $ hive -e "SQL语句"；</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     e.g.  $ hive -e "select * from mytable limit 3";</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="background-color:inherit;"></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">2、没有一个命令可以让用户查看当前所在的是哪个数据库库</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">3、在hive内执行一些bash shell命令(在命令前加！并且以；结尾即可)</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">        <img src="https://img-blog.csdn.net/20151228174249989?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;vertical-align:middle;"></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">4、在hive内执行Hadoop的dfs命令：（去掉hadoop,以；结尾）</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">5、 Hive脚本如何注释：</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">      使用--开头的字符串来表示注释</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">6、Hive与MySQL相比，它不支持行级插入操作、更新操作和删除操作。Hive也不支持事务。</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     Hive增加了在Hadoop背景下的可以提高更高性能的扩展。</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">7、<span style="background-color:inherit;">向管理表中加载数据：</span></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">      Hive没有行级别的插入、删除、更新的操作，那么往表里面装数据的唯一的途径就是使用一种“大量”的数据装载操作，或者仅仅将文件写入到正确的目录下面。</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">      <span style="background-color:inherit;">overwrite关键字：</span></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="background-color:inherit;">       </span>       load data local inpath '${env:HOME}/目录'</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">              overwrite into table table_name</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">              partition (分区)；</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">8、从表中导出数据：</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">    hadoop fs -cp source_path target_path</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">或者：用户可以使用 insert……directory……</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     insert overwrite local directory '/tmp/目录'     这里指定的路径也可以是全URL路径</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="background-color:inherit;">9、hive中使用正则表达式</span></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">  （1）   hive&gt; select 'price.*' from table_name;</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">               选出所有列名以price作为前缀的列</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">  （2）  用Like或者RLike</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="background-color:inherit;">10、聚合函数</span></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     可以通过设置属性hive.map.aggr值为true来提高聚合的性能：</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">     hive&gt;hive.map.aggr=true;</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><span style="background-color:inherit;"><span>11、什么情况下hive可以避免进行mapreduce?</span></span></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">      在本地模式的时候可以避免触发一个mr的job，此外，如果属性hive.execmode.local.auto的值为true的话，hive还户尝试本地模式进行其他的操作。</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">       set hive.execmode.local.auto=true;</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">       说明：最好将 set hive.execmode.local.auto=true;这个设置增加到你的$HOME/.hiverc配置文件中去。</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">12、JOIN语句</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">       hive支持通常的SQL JOIN语句，但是只支持等值连接。hive也不支持在on子句中用谓词OR</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;"><br style="background-color:inherit;"></div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">13、union all</div><div style="font-family:'微软雅黑';font-size:14px;line-height:21px;">       将两个表或者多个表进行合并，每一个union all子查询都必须具有相同的列，而且对应每个字段的每个类型都必须一致。</div></div></div>

<pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:14px;line-height:23.8px;color:rgb(51,51,51);"><code class="has-numbering" style="font-family:'Source Code Pro', monospace;font-size:12.6px;color:inherit;background-color:transparent;"></code></pre><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="color:rgb(255,0,0);font-family:'comic sans ms', sans-serif;">1.Hive非交互模式常用命令：</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　1) <span style="color:rgb(255,0,255);">hive -e</span>：从命令行执行指定的HQL，不需要<span style="color:rgb(255,0,0);">分号</span>：</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;"><span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">%</span> hive <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>e <span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">select * from dummy</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span> <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span> a.txt</span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　2) <span style="color:rgb(255,0,255);">hive –f</span>： 执行HQL脚本</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;"><span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">%</span> hive <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>f <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">/</span>home<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">/</span>my<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">/</span>hive<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>script.sql  <span style="color:rgb(0,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">hive-script.sql是hql脚本文件</span></span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　3) <span style="color:rgb(255,0,255);">hive -i</span>：进入Hive交互Shell时候先执行脚本中的HQL语句</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;"><span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">%</span> hive <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>i <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">/</span>home<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">/</span>my<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">/</span>hive<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>init.sql </span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　4)<span style="color:rgb(255,0,255);"> hive -v</span>：冗余verbose模式，额外打印出执行的HQL语句</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　5) <span style="color:rgb(255,0,255);">hive -S</span>：静默Slient模式，不显示转化MR-Job的信息，只显示最终结果</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;"><span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">%</span> hive <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>S <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>e ‘<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">select</span> <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">*</span> <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">from</span> student’</span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,0);">　　<span style="color:rgb(0,0,0);">6)<span style="color:rgb(255,0,255);">hive --hiveconf &lt;property=value&gt;<span style="color:rgb(0,0,0);">：使用给定属性的值</span></span></span></span> </span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;">$HIVE_HOME/bin/hive --hiveconf mapred.reduce.tasks=<span style="color:rgb(128,0,128);font-family:'Courier New' !important;line-height:1.5 !important;">2</span> <span style="color:rgb(0,128,0);font-family:'Courier New' !important;line-height:1.5 !important;">//启动时,</span><span style="color:rgb(0,128,0);font-family:'Courier New' !important;line-height:1.5 !important;">配置reduce个数2（<span style="color:rgb(0,0,255);line-height:1.5 !important;">只在此session中有效</span>）</span></span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,0);">　　<span style="color:rgb(0,0,0);">7)</span><span style="color:rgb(255,0,255);">hive --service serviceName<span style="color:rgb(0,0,0);">：</span></span><span style="color:rgb(0,0,0);">启动服务</span></span></span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,0);"><span style="color:rgb(0,0,0);">　　8)hive <span style="color:rgb(255,0,255);">[--database test]：<span style="color:rgb(0,0,0);">进入CLI交互界面，默认进入default数据库。加上[]内容<span style="color:rgb(0,0,255);">直接进入test数据库</span>。</span></span></span></span></span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="color:rgb(128,128,128);line-height:1.5 !important;">%</span>hive <span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">database <span style="color:rgb(0,0,0);line-height:1.5 !important;">test</span></span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,0);">3.Hive的交互模式下命令：</span> </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">quit / exit：</span>退出CLI</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">reset</span>：重置所有的配置参数，初始化为hive-site.xml中的配置。如之前使用set命令设置了reduce数量。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">set &lt;key&gt;=&lt;value&gt;：</span>设置Hive运行时配置参数，<span style="color:rgb(255,0,0);">优先级最高</span>，相同key，后面的设置会覆盖前面的设置。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">set –v</span>：打印出所有Hive的配置参数和Hadoop的配置参数。</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,0);line-height:1.5 !important;">//</span><span style="color:rgb(0,128,0);line-height:1.5 !important;">找出和"mapred.reduce.tasks"相关的设置</span>
hive -e 'set -v;' | grep mapred.reduce.tasks</pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">add命令：<span style="color:rgb(0,0,0);">包括</span></span>add File[S]/Jar[S]/Archive[S] &lt;filepath&gt; *，向 <span style="color:rgb(255,0,0);">DistributeCache </span>中添加一个或过个文件、jar包、或者归档，添加之后，可以在Map和Reduce task中使用。比如，自定义一个udf函数，打成jar包，在创建函数之前，必须使用add jar命令，将该jar包添加，否则会报错找不到类。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">list 命令</span>：包括list File[S]/Jar[S]/Archive[S]。列出当前<span style="color:rgb(255,0,0);">DistributeCache</span>中的文件、jar包或者归档。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">delete 命令</span>：包括 delete File[S]/Jar[S]/Archive[S] &lt;filepath&gt;*。从<span style="color:rgb(255,0,0);">DistributeCache</span>中删除文件。</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,0);line-height:1.5 !important;">//<span style="line-height:1.5 !important;">将file加入缓冲区
<span style="color:rgb(0,0,0);line-height:1.5 !important;">add file /root/test/sql;

<span style="color:rgb(0,128,0);line-height:1.5 !important;">//<span style="line-height:1.5 !important;">列出当前缓冲区内的文件
<span style="color:rgb(0,0,0);line-height:1.5 !important;">list file;

<span style="color:rgb(0,128,0);line-height:1.5 !important;">//<span style="line-height:1.5 !important;">删除缓存区内的指定file
<span style="color:rgb(0,0,0);line-height:1.5 !important;">delete file /root/test/sql;</span></span></span></span></span></span></span></span></span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(255,0,255);">create命令</span>：创建自定义函数：hive&gt; create temporary function udfTest as ‘com.cstore.udfExample’;</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(0,0,255);">source &lt;filepath&gt;：</span>在CLI中执行脚本文件。</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,0);line-height:1.5 !important;">//</span><span style="color:rgb(0,128,0);line-height:1.5 !important;">相当于[root@ncst test]# hive -S -f /root/test/sql</span>
hive&gt; source /root/test/sql; </pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(0,0,255);">! &lt;command&gt;：<span style="color:rgb(0,0,0);">在CLI执行Linux命令</span></span>。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(0,0,255);">dfs &lt;dfs command&gt;</span>：在CLI执行hdfs命令</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-size:18px;"><span style="color:rgb(255,0,0);font-family:'comic sans ms', sans-serif;">4.保存查询结果の<span style="color:rgb(0,0,255);">三</span></span><span style="font-family:'comic sans ms', sans-serif;"><span style="color:rgb(0,0,255);">种方式</span>：</span></span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;">% hive -S -e <span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">select * from dummy</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span> &gt; a.txt <span style="color:rgb(0,128,0);font-family:'Courier New' !important;line-height:1.5 !important;">//</span><span style="color:rgb(0,128,0);font-family:'Courier New' !important;line-height:1.5 !important;">分隔符和hive数据文件的分隔符相同</span></span></pre></div><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;"><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">[</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">root@hadoop01 ~</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">]</span># hive <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>S <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">-</span>e "<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">insert</span> overwrite <span style="color:rgb(255,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">local</span> directory <span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">/root/hive/a</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span><span style="font-family:'Courier New' !important;line-height:1.5 !important;">\ 
</span><span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>  row format delimited fields terminated <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">by</span> <span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">\t</span><span style="color:rgb(255,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">'</span> <span style="color:rgb(0,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">分隔符\t</span>
<span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>  <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">select</span> <span style="color:rgb(128,128,128);font-family:'Courier New' !important;line-height:1.5 !important;">*</span> <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">from</span> logs sort <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">by</span> te"</span><span style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:1.5;background-color:rgb(255,255,255);"> </span></pre></div><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">使用hdfs命令导出整个表数据</span>
hdfs dfs <span style="color:rgb(128,128,128);line-height:1.5 !important;">-</span>get <span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>hive<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>warehouse<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>hive01 <span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>root<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>test<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>hive01<span style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:1.5;background-color:rgb(255,255,255);"> </span></pre></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;font-size:18px;"><span style="color:rgb(255,0,0);">5.Hive集群间的导入和导出</span></span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;color:rgb(0,0,0);">使用Export命令会导出Hive表的数据表数据以及数据表对应的元数据</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">导出命令</span>
EXPORT <span style="color:rgb(0,0,255);line-height:1.5 !important;">TABLE</span> test <span style="color:rgb(0,0,255);line-height:1.5 !important;">TO</span> <span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">/hive/test_export</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span>

<span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">dfs命令查看</span>
hdfs dfs <span style="color:rgb(128,128,128);line-height:1.5 !important;">-</span>ls <span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>hive<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span><span style="line-height:1.5 !important;">test_export

</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">结果显示</span>
<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>hive<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>test_export<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span><span style="line-height:1.5 !important;">_metadata
</span><span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>hive<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>test_export<span style="color:rgb(128,128,128);line-height:1.5 !important;">/</span>data</pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;color:rgb(0,0,0);">使用Import命令将导出的数据重新导入到hive中(<span style="color:rgb(255,0,255);">必须将现导入的表重命名</span>)</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">导入到内部表的命令</span>
IMPORT <span style="color:rgb(0,0,255);line-height:1.5 !important;">TABLE</span> data_managed <span style="color:rgb(0,0,255);line-height:1.5 !important;">FROM</span> <span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">/hive/test_export</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span>

<span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">导入到外部表的命令</span>
Import External <span style="color:rgb(0,0,255);line-height:1.5 !important;">Table</span> data_external <span style="color:rgb(0,0,255);line-height:1.5 !important;">From</span> <span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">/hive/test_export</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span> Location <span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">/hive/external/data</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span>

<span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">验证是否是外部表</span>
<span style="color:rgb(0,0,255);line-height:1.5 !important;">desc</span> formatted data_external</pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;font-size:18px;"><span style="color:rgb(255,0,0);">6.Hive - JDBC/ODBC</span><span style="line-height:1.5;">  </span></span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">在Hive的jar包中，"org.apache.hadoop.hive.jdbc.HiveDriver"负责提供 JDBC 接口，客户端程序有了这个包，就可以把 Hive 当成一个数据库来使用，大部分的操作与对传统数据库的操作相同，Hive 允许支持 JDBC 协议的应用程序连接到 Hive。当 Hive 在指定端口启动 hiveserver 服务后，客户端通过 Java 的 Thrift 和 Hive 服务器进行通信。过程如下：</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　1.开启 hiveserver 服务：$ hive –service hiveserver 50000（50000）  </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　2.建立与 Hive 的连接：Class.forName(“org.apache.hadoop.hive.jdbc.HiveDriver”);  </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　　　 Connection con= DriverManager.getConnection(“jdbc:hive://ip:50000/default,”hive”,”hadoop”) </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　　　 默认只能连接到 default 数据库，通过上面的两行代码建立连接后，其他的操作与传统数据库无太大差别。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　3.Hive 的 JDBC 驱动目前还不太成熟，并不支持所有的 JDBC API。</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="color:rgb(255,0,0);font-family:'comic sans ms', sans-serif;">7.Hive Web Interface</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　1.配置hive-site.xml</span></p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="font-family:'comic sans ms', sans-serif;line-height:1.5 !important;">        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>hive.hwi.war.file<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>lib/hive-hwi-0.8.1.war<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">description</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>This sets the path to the HWI war file, relative to ${HIVE_HOME}.<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">description</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>    
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>hive.hwi.listen.host<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>0.0.0.0<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">description</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>This is the host address the Hive Web Interface will listen on<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">description</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>hive.hwi.listen.port<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">name</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>9999<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">value</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">description</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>This is the port the Hive Web Interface will listen on<span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">description</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span>
        <span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&lt;/</span><span style="color:rgb(128,0,0);font-family:'Courier New' !important;line-height:1.5 !important;">property</span><span style="color:rgb(0,0,255);font-family:'Courier New' !important;line-height:1.5 !important;">&gt;</span></span></pre><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div></div><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　2.启动Hive的Web服务：hive --service hwi  </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　3.在浏览器键入地址：http://host_name:9999/hwi访问  </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">　　4.点击“Create Session”创建会话，在Query中键入查询语句</span><span style="font-family:'comic sans ms', sans-serif;"> </span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;color:rgb(255,0,0);font-size:18px;">8. Hive创建数据库</span></p><p style="color:rgb(73,73,73);font-size:14px;background-color:rgb(244,237,227);"><span style="font-family:'comic sans ms', sans-serif;">hive启动后默认有一个Default数据库，也可以人为的新建数据库，命令：</span> </p><div class="cnblogs_code" style="background-color:rgb(245,245,245);border:1px solid rgb(204,204,204);overflow:auto;font-family:'Courier New' !important;"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy" style="line-height:1.5 !important;"><a title="复制代码" style="color:rgb(73,73,73);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;border:none !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none !important;"></a></span></div><pre style="font-family:'Courier New' !important;"><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">手动指定存储位置</span>
<span style="color:rgb(0,0,255);line-height:1.5 !important;">create</span> <span style="color:rgb(0,0,255);line-height:1.5 !important;">database</span> hive02 location <span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">/hive/hive02</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="line-height:1.5 !important;">;

</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">添加其他信息(创建时间及数据库备注)</span>
<span style="color:rgb(0,0,255);line-height:1.5 !important;">create</span> <span style="color:rgb(0,0,255);line-height:1.5 !important;">database</span> hive03 comment <span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">it is my first database</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span> <span style="color:rgb(0,0,255);line-height:1.5 !important;">with</span> dbproperties(<span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">creator</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(128,128,128);line-height:1.5 !important;">=</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">kafka</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span>,<span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">date</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(128,128,128);line-height:1.5 !important;">=</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">2015-08-08</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="line-height:1.5 !important;">);<br></span><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">查看数据库的详细信息</span>
describe <span style="color:rgb(0,0,255);line-height:1.5 !important;">database</span><span style="line-height:1.5 !important;"> hive03;
</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">更详细的查看</span>
describe <span style="color:rgb(0,0,255);line-height:1.5 !important;">database</span><span style="line-height:1.5 !important;"> extended hive03; <br><span style="color:rgb(0,128,128);line-height:1.5 !important;">--最优的查看数据库结构的命令
</span><span style="color:rgb(255,0,255);line-height:1.5 !important;">describe</span> <span style="color:rgb(0,0,255);line-height:1.5 !important;">database</span> <span style="color:rgb(255,0,255);line-height:1.5 !important;">formatted</span> hive03;<span style="color:rgb(0,128,128);line-height:1.5 !important;"><br></span></span><span style="color:rgb(0,128,128);line-height:1.5 !important;">--</span><span style="color:rgb(0,128,128);line-height:1.5 !important;">database只能修改dbproperties里面内容</span>
<span style="color:rgb(0,0,255);line-height:1.5 !important;">alter</span> <span style="color:rgb(0,0,255);line-height:1.5 !important;">database</span> hive03 <span style="color:rgb(0,0,255);line-height:1.5 !important;">set</span> dbproperties(<span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">edited-by</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(128,128,128);line-height:1.5 !important;">=</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">hanmeimei</span><span style="color:rgb(255,0,0);line-height:1.5 !important;">'</span>);</pre></div><br>
            </div>
                </div>