---
layout:     post
title:      Hbase0.95  学习资料整理
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<p><span style="font-size:18px;">一、Hbase0.95官方学习网址  http://www.just4e.com/hbase.html#example_config </span></p>
<p><span style="font-size:18px;">二、Hbase Linux 环境常用命令：</span></p>
<p>            </p>
<blockquote style="border:none;">
<p></p>
<div class="content-head clearfix" style="color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<h2 class="title content-title" style="font-family:tahoma, helvetica, 'microsoft yahei', arial;color:rgb(58,58,58);font-weight:normal;">
<span style="font-size:18px;">Hbase 建表基本命令总结</span></h2>
</div>
<p></p>
<p></p>
<div id="content" class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">访问hbase,以及操作hbase，命令不用使用分号</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase shell 进入hbase</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">list 查看表</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase shell -d</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):024:0&gt; scan '.META.'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">=============小例子===================================================</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">1. 创建一个表member</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):025:0&gt; create 'member','m_id','address','info'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">2.list #查看所有表</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">3.查看表描述</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):028:0&gt; describe 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">4. scan浏览表中数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">scan 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">5.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">删除一个列族m_id：先将表disable（如果表中之前有数据的话，会把数据清空）</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):030:0&gt; disable 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):033:0&gt; is_enabled 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):034:0&gt; alter 'member',{NAME=&gt;'m_id',METHOD=&gt;'delete'}</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">最后enable，否则不能进行其他操作</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):038:0&gt; enable 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;"><br></span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">6.插入几条记录</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">put'member','scutshuxue','info:age','24'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">put'member','scutshuxue','info:birthday','1987-06-17'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">put'member','scutshuxue','info:company','alibaba'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">put'member','scutshuxue','address:contry','china' </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">put'member','scutshuxue','address:province','zhejiang' </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">put'member','scutshuxue','address:city','hangzhou' </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">scan 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;"><br></span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">7.获取数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">获取一个id的所有数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):001:0&gt;get 'member','scutshuxue'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">获取一个id，一个列族的所有数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):002:0&gt;get 'member','scutshuxue','info'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">获取一个id，一个列族中一个列的所有数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):002:0&gt;get 'member','scutshuxue','info:age' </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">通过timestamp来获取两个版本的数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):010:0&gt;get 'member','scutshuxue',{COLUMN=&gt;'info:age',TIMESTAMP=&gt;1321586238965}</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;"><br></span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">8.  更新一条记录</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">将scutshuxue的年龄改成99</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):004:0&gt;put 'member','scutshuxue','info:age' ,'99'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">10.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">查询表中有多少行：</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):019:0&gt;count 'member'  </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">11.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">删除整行</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):001:0&gt;deleteall 'member','xiaofeng'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">12.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">删除id为xiaofeng的值的‘info:age’字段</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):016:0&gt;delete 'member','temp','info:age'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">13.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">给‘xiaofeng’这个id增加'info:go'字段，并使用counter实现递增</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):041:0&gt; incr 'member','xiaofeng','info:go'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">连续执行incr以上，COUNTER VALUE 的值会递增，通过get_counter</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;"><br></span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">获取当前count的值</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):069:0&gt;get_counter 'member','xiaofeng','info:age' </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):058:0&gt;get 'member','xiaofeng','info:go'  </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">获取当前count的值</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):069:0&gt;get_counter 'member','xiaofeng','info:age' </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;"><br></span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">=============================相关删除=========================</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">1.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">删除一个列族：先将表disable（如果表中之前有数据的话，会把数据清空）</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):030:0&gt; disable 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):033:0&gt; is_enabled 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):034:0&gt; alter 'member',{NAME=&gt;'m_id',METHOD=&gt;'delete'}</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">最后enable，否则不能进行其他操作</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):038:0&gt; enable 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">2.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">删除整行</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):001:0&gt;deleteall 'scores','xiaofeng'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">3.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">将整张表清空：</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):035:0&gt;truncate 'scores'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase是先将掉disable掉，然后drop掉后重建表来实现truncate的功能</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">4.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">drop一个表（先disable，在drop）</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):029:0&gt;disable 'scores'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):029:0&gt;drop 'scores'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">=====================基本操作===========================================</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">1.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">查询表是否存在</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):021:0&gt;exists 'scores'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">2.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">判断表是否enable</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):034:0&gt;is_enabled 'scores'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">                                                                                       </span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">3.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">判断表是否disable</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):032:0&gt;is_disabled 'scores'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">4.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">列出所有的表</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):028:0&gt;list</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">5.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">创建表member</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):025:0&gt; create 'member','m_id','address','info'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">6.</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">查看表描述</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):028:0&gt; describe 'member'</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">=================查询操作================================================</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">1.scan '表名' #查看所有数据</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">2.get是根据主键查看一列</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">get '表名','主键'[，'列簇名'][，'列簇名：列名']</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">=============================================================</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">过滤查询表的内容</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">1.FirstKeyOnlyFilter() 得到每一行的列族info的第一个列</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):002:0&gt; scan 'student',{COLUMNS=&gt;'info',FILTER=&gt;"(FirstKeyOnlyFilter())"}</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">2.查看列簇是info，LIMIT是显示的行数，STARTROW是开始行对应的是主键</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):008:0&gt; scan 'student',{COLUMNS=&gt;['info'],LIMIT=&gt;4,STARTROW=&gt;'200977100710'}</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">3.查看列簇是info，name</span></p>
</div>
<p></p>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;line-height:1.5;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;">hbase(main):007:0&gt; scan 'student',{COLUMNS=&gt;['info','name'],LIMIT=&gt;4,STARTROW=&gt;'200977100710'}</span></p>
</div>
<p></p>
</blockquote>
<p></p>
<div class="content mod-cs-content text-content clearfix" style="overflow:hidden;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;">
<p>
<span style="font-size:18px;"><span style="line-height:27px;"> 三、JAVA调用Hbase代码：</span></span></p>
<p>
<span style="line-height:27px;"><span style="font-size:18px;"> </span><span style="font-size:14px;">package net.chnbs.delta.dzfp.app.common.impl;<br>
import java.util.ArrayList;<br>
import java.util.HashMap;<br>
import java.util.Iterator;<br>
import java.util.List;<br>
import java.util.Map;<br>
import java.util.Set;<br>
import java.util.Map.Entry;<br><br><br>
import org.apache.hadoop.conf.Configuration;<br>
import org.apache.hadoop.hbase.HBaseConfiguration;<br>
import org.apache.hadoop.hbase.HColumnDescriptor;<br>
import org.apache.hadoop.hbase.HTableDescriptor;<br>
import org.apache.hadoop.hbase.KeyValue;<br>
import org.apache.hadoop.hbase.client.Delete;<br>
import org.apache.hadoop.hbase.client.Get;<br>
import org.apache.hadoop.hbase.client.HBaseAdmin;<br>
import org.apache.hadoop.hbase.client.HTable;<br>
import org.apache.hadoop.hbase.client.HTableInterface;<br>
import org.apache.hadoop.hbase.client.HTablePool;<br>
import org.apache.hadoop.hbase.client.Put;<br>
import org.apache.hadoop.hbase.client.Result;<br>
import org.apache.hadoop.hbase.client.ResultScanner;<br>
import org.apache.hadoop.hbase.client.Scan;<br><br><br>
import org.apache.hadoop.hbase.filter.Filter;<br>
import org.apache.hadoop.hbase.filter.FilterList;<br>
import org.apache.hadoop.hbase.filter.SingleColumnValueFilter;<br>
import org.apache.hadoop.hbase.filter.CompareFilter.CompareOp;<br>
import org.apache.hadoop.hbase.util.Bytes;<br>
import org.apache.log4j.Logger;<br><br><br>
import net.chnbs.delta.dzfp.app.common.CommonHadoop;<br><br><br>
/**<br>
 * @Description TODO(分布式存储Hadoop 接口实现层)<br>
 * @author 彭甜<br>
 * @version 1.0.0 2013年7月15日 09:37:26<br>
 */<br>
public class CommonHadoopImp implements CommonHadoop {<br><span></span>protected static Logger log = Logger.getLogger(CommonHadoopImp.class);<br><span></span>public static Configuration configuration=null;<br><span></span>private static HTablePool pool =null;<br><span></span>public static final String ROW_KEY_VALUE="ROWKEY";//Hbase表中的行名称健<br><span></span>static {<br><span></span>configuration = HBaseConfiguration.create();<br><span></span>/**<br><span></span>* 单机调用<br><span></span>*/<br><span></span>configuration.set("hbase.zookeeper.property.clientPort", "3351");<span>
</span><br><span></span>configuration.set("hbase.zookeeper.quorum", "172.16.23.21");//设置zookeeper的主机，建议使用单数<span>
</span><br><span></span>   configuration.set("hbase.master", "172.16.23.21:60000");//设置hbase的master主机名和端口<br>
       <br><span></span><br><span></span>/*  //集群分布式调用<br><span></span> configuration.set("hbase.zookeeper.property.clientPort", "2222");<span>
</span><br><span></span> configuration.set("hbase.zookeeper.quorum", "192.9.205.150");//设置zookeeper的主机，建议使用单数<span>
</span><br><span></span> configuration.set("hbase.master", "app1.wlfp.com:60000");//设置hbase的master主机名和端口<br>
*/        <span> </span><br><span></span>   <br><span></span>   pool=new HTablePool(configuration, 1000);<br><span></span>   /*app1.wlfp.com   192.9.205.150<br><span></span>   db1.wlfp.com    192.9.205.152<br><span></span>   db2.wlfp.com    192.9.205.153*/<br><span></span>}<br><br><br><span></span>/**<br><span></span>* @Description TODO(创建没有列的表)<br><span></span>* @param tableName,String 表名<span>
</span><br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public void createTable(String tableName) throws Exception {<br><span></span>// TODO Auto-generated method stub<br><span></span>createTable(tableName,null);<br><span></span>}<br><br><br><span></span>/**<br><span></span>* @Description TODO(删除指定Hbase表中的rowKey数据)<br><span></span>* @param tableName,String 表名<span>
</span> <br><span></span>* @param hadoopMapTypeRowKey,String Hbase tableName中的 行名称<span>
</span><br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public void deleteHbaseDataByRowKeyAndTableName(String tableName,<br><span></span>String... hadoopMapTypeRowKeys) throws Exception {<span>
</span><br><span></span>HTable table = new HTable(configuration, tableName);<br><span></span>log.info("开始删除"+tableName+"中的值");<br><span></span>//存储要删除的hadoopMapTypeRowKeys<br><span></span>List list = new ArrayList();<br><span></span>if(hadoopMapTypeRowKeys!=null){<span>
</span><br><span></span>for(String hadoopMapTypeRowKey:hadoopMapTypeRowKeys){<br><span></span>Delete delete = new Delete(hadoopMapTypeRowKey.getBytes());<br><span></span>   list.add(delete);<br><span></span>}<br><span></span>}<br><span></span><br><span></span>//执行删除hadoopMapTypeRowKeys<br><span></span>table.delete(list);<br><span></span><br><span></span>log.info("删除行成功!");<br><span></span><br><br><br><span></span>}<br><span></span><br><br><br><br><br><span></span>@Override<br><span></span>public void dropTable(String tableName) throws Exception {<br><span></span>log.info("开始删除表"+tableName+"............");<br><span></span>HBaseAdmin admin = new HBaseAdmin(configuration);<br><span></span>admin.disableTable(tableName);<br><span></span>admin.deleteTable(tableName);<br><span></span>log.info("删除表"+tableName+"成功............");<br><br><br><span></span>}<br><br><br><br><br><br><br><span></span>/**<br><span></span>* @Description TODO(向指定Hbase 表中插入数据)<br><span></span>* @param tableName,String 表名<br><span></span>* @param hadoopMapTypeRowKey,String Hbase tableName中的 行名称<br><span></span>* @param map,Map 存储的数据<br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public void insertHbaseData(String tableName, Map map,String hadoopMapTypeRowKey) throws Exception {<br><span></span><br><span></span>log.info("insertHbaseData start.............");<br><span></span><br><span></span>HTableInterface table = pool.getTable(tableName);<br><span></span>Put put = new Put(hadoopMapTypeRowKey.getBytes());// 一个PUT代表一行数据，再NEW一个PUT表示第二行数据,每行一个唯一的ROWKEY，此处rowkey为put构造方法中传入的值<br><span></span><br><span></span>/*<br><span></span>* 开始插入数据<br><span></span>*/<br><span></span>if(map!=null){<br><span></span>Set keys=map.entrySet();<br><span></span>if(keys!=null){<br><span></span>Iterator iterator = keys.iterator();<br><span></span>while(iterator.hasNext()){<br><span></span>Map.Entry&lt;String, Object&gt; entry=(Entry)iterator.next();<br><span></span>String columnKey=entry.getKey();<br><span></span>String columnValue=(String) entry.getValue();<br><span></span>//log.info("columnKey:"+columnKey+",columnValueo:"+columnValue);<span>
</span><br><span></span>put.add(columnKey.getBytes(), null, (columnValue==null?"":columnValue).getBytes());//向表中制定列中插入数据columnValue.getBytes()<br><span></span>}<br><span></span>}<br><span></span>}<br><span></span><br><span></span>/*<br><span></span>* 执行插入数据<br><span></span>*/<span> </span><br><span></span>table.put(put);<br><span></span><br><span></span>log.info("insertHbaseData  end......");<br><br><br><span></span>}<br><br><br><span></span><br><span></span>/**<br><span></span>* @Description TODO(获取指定分布式存储的信息)<br><span></span>* @param tableName,String 表名<br><span></span>* @param hadoopMapTypeRowKey,String Hbase tableName中的 行名称<span>
</span><br><span></span>* @return Map&lt;String,Object&gt;<br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public Map&lt;String, Object&gt; getHbaseData(String tableName,<br><span></span>String hadoopMapTypeRowKey) throws Exception {<br><span></span>//返回的Map对象<br><span></span>Map&lt;String,Object&gt; returnMap=new HashMap&lt;String,Object&gt;();<br><span></span><br><span></span>log.info("获取"+tableName+"中的"+hadoopMapTypeRowKey+"值......");<br><span></span>HTableInterface table = pool.getTable(tableName);<br><span></span><br><span></span>Get scan = new Get(hadoopMapTypeRowKey.getBytes());// 根据hadoopMapTypeRowKey查询<br><span></span>Result r = table.get(scan);<br><span></span><br><span></span>for (KeyValue keyValue : r.raw()) {<br><span></span>//log.info("列：" + new String(keyValue.getFamily())+ "====值:" + new String(keyValue.getValue()));<br><span></span>returnMap.put(new String(keyValue.getFamily()), new String(keyValue.getValue()));<br><span></span>}<br><span></span><br><span></span>return returnMap;<br><span></span>}<br><br><br><span></span>/**<br><span></span>* @Description TODO(查询指定Hbase中表中的数据)<br><span></span>* @param tableName,String 表名<br><span></span>* @return List<br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public List queryAllHbaseData(String tableName) throws Exception {<br><span></span>log.info("查询"+tableName+"中所有数据...........");<br><span></span>List&lt;Map&lt;String,Object&gt;&gt; returnListMap=new ArrayList&lt;Map&lt;String,Object&gt;&gt;();//查询所返回的值信息<br><span></span><br><span></span>HTableInterface table = pool.getTable(tableName);<br><span></span><br><span></span>//执行查询指定表中所有的信息<br><span></span>ResultScanner rs = table.getScanner(new Scan());<br><span></span>for (Result r : rs) {<br><span></span>Map&lt;String,Object&gt; returnMap=new HashMap&lt;String,Object&gt;();<br><span></span>returnMap.put(ROW_KEY_VALUE, new String(r.getRow()));<br><span></span>//log.info("获得到rowkey:" + new String(r.getRow()));<br><span></span>for (KeyValue keyValue : r.raw()) {<br><span></span>/*log.info("列：" + new String(keyValue.getFamily())<br><span></span>+ "====值:" + new String(keyValue.getValue()));*/<br><span></span>returnMap.put(new String(keyValue.getFamily()), new String(keyValue.getValue()));<br><span></span>}<br><span></span>returnListMap.add(returnMap);<br><span></span>}<br><span></span><br><span></span>return returnListMap;<br><span></span>}<br><br><br><span></span>/**<br><span></span>* @Description TODO(根据 查询条件 查询指定HBase表中的数据 )<br><span></span>* @param tableName,String 表名<br><span></span>* @param mapParam,Map 查询条件参数<br><span></span>* @return List<br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public List queryHbaseDataList(String tableName, Map mapParam)<br><span></span>throws Exception {<br><span></span>log.info("=========查询指定HBase表中"+tableName+"的数据");<br><span></span>List&lt;Map&lt;String,Object&gt;&gt; returnListMap=new ArrayList&lt;Map&lt;String,Object&gt;&gt;();//查询所返回的值信息<br><span></span><br><span></span>HTableInterface table = pool.getTable(tableName);<br><br><br><span></span>List&lt;Filter&gt; filters = new ArrayList&lt;Filter&gt;();<br><span></span><br><span></span>/*<br><span></span>* 开始遍历查询的条件<br><span></span>*/<br><span></span>if(mapParam!=null){<br><span></span>log.info("============查询的条件:"+mapParam.toString());<br><span></span>Set keys=mapParam.entrySet();<br><span></span>if(keys!=null){<br><span></span>Iterator iterator = keys.iterator();<br><span></span>while(iterator.hasNext()){<br><span></span>Map.Entry&lt;String, Object&gt; entry=(Entry)iterator.next();<br><span></span>String columnKey=entry.getKey();//列名<br><span></span>String columnValue=(String) entry.getValue();//列名多对应的值<span>
</span><br><span></span>Filter filter = new SingleColumnValueFilter(Bytes<br><span></span>.toBytes(columnKey), null, CompareOp.EQUAL, Bytes<br><span></span>.toBytes(columnValue));<br><span></span>filters.add(filter);<br><span></span>}<br><span></span>}<br><span></span>}<br><span></span>  <br>
        /**<br>
         * 执行多条件过滤查询<br>
         */<br><span></span>FilterList filterList = new FilterList(filters);<br><span></span>Scan scan = new Scan();<br><span></span>scan.setFilter(filterList);<br><span></span><br><span></span>ResultScanner rs = table.getScanner(scan);<br><span></span>for (Result r : rs) {<br><span></span>Map&lt;String,Object&gt; returnMap=new HashMap&lt;String,Object&gt;();<br><span></span>returnMap.put(ROW_KEY_VALUE, new String(r.getRow()));<br><span></span>//log.info("获得到rowkey:" + new String(r.getRow()));<br><span></span>for (KeyValue keyValue : r.raw()) {<br><span></span>String columnKey=new String(keyValue.getFamily());//列名<br><span></span>String columnValue=new String(keyValue.getValue());//列名多对应的值<span>
</span><br><span></span>//log.info("列：" + columnKey+ "====值:" + columnValue);<br><span></span>returnMap.put(columnKey, columnValue);<br><span></span>}<br><span></span>returnListMap.add(returnMap);<br><span></span>}<br><span></span>rs.close();<br><span></span><br><span></span>return returnListMap;<br><span></span>}<br><br><br><span></span>/**<br><span></span>* @Description TODO(在HBase上创建表)<br><span></span>* @param tableName,String 表名<br><span></span>* @param columns,String[] 列名数组<br><span></span>* @throws Exception<br><span></span>*/<br><span></span>public void createTable(String tableName, String... columns)<br><span></span>throws Exception {<br><span></span>   log.info("开始创建表名"+tableName+" ......");<br><span></span><br><span></span>if(configuration==null){<br><span></span>log.info("configuration is Null................");<br><span></span>}else{<br><span></span>HBaseAdmin hBaseAdmin = new HBaseAdmin(configuration);<br><span></span><br><span></span>// 如果存在要创建的表，那么先删除，再创建<br><span></span>if (hBaseAdmin.tableExists(tableName)) {<br><span></span>hBaseAdmin.disableTable(tableName);<br><span></span>hBaseAdmin.deleteTable(tableName);<br><span></span>log.info(tableName + " is exist,detele....");<br><span></span>}<br><span></span>HTableDescriptor tableDescriptor = new HTableDescriptor(tableName);<br><span></span><br><span></span>//设置表中的列<br><span></span>if(columns!=null&amp;&amp;columns.length&gt;0){<br><span></span>for(String columnName:columns){<br><span></span>tableDescriptor.addFamily(new HColumnDescriptor(columnName));<br><span></span>}<br><span></span><br><span></span>}<br><span></span><br><span></span>//创建表<br><span></span>hBaseAdmin.createTable(tableDescriptor);<br><span></span>}<br><span></span><br><span></span>log.info("创建表名"+tableName+"结束......");<br><span></span><br><span></span>}<br><br><br><br><br><br><br>
}</span></span></p>
</div>
<p></p>
<h1 class="title" style="color:rgb(153,0,0);line-height:1.3;font-family:Simsun;">
<a class="link" href="http://www.hbase.org/" rel="nofollow"><span style="font-size:18px;">H</span></a></h1>
            </div>
                </div>