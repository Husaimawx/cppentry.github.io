---
layout:     post
title:      hbase基本介绍
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                
<h1>本文主要简单的介绍一下hbase数据库，主要是基本模型，与关系数据库的不同，主要应用场景。</h1>
<p>本文并未涉及hbase数据库的安装，具体安装过程网上都比较详细，也可参考《hbase权威指南》</p>
<h2>1 hbase数据库产生的根源</h2>
<p>hbase是google公司bigtable的开源实现，hbase基于hadoop的hdfs主要是对hadoop分布式文件系统hdfs的有效补充。因为hdfs存在存储大量小文件效率低下（小文件太对存储文件的原信息就多，造成namenode效率低下），同时还有效的解决了hdfs的不便随机存储问题。hbase可应用与在线存储，或者离线分析等。</p>
<p>hbase平台的结构如下图:<br></p>
<p><img src="https://img-blog.csdn.net/20140419093624109?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDI4MjcwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<h2>2 hbase 数据库与关系型数据库的异同</h2>
<p>通常用户访问结构化数据的时候都会查询数据库，主要是RDBMS数据库 ，但随着数据量的增加关系数据库的底层架构尚未有明显的变化，主要变化是是列式存储和大规模并行处理，下图是列式存储与行式存储的对比：</p>
<p><img src="https://img-blog.csdn.net/20140419095521671?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDI4MjcwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></p>
<p>因此，关系型数据库在保存增长量有限的数据是是很好的选择，比如用户注册，订单量，产品等，但对应极具增加的数据就显得力不从心了，因此这时可以考虑分布式的NOSQL数据库hbase。</p>
<h3>hbase与关系数据库的相同点：</h3>
<p>从典型的RDBMS的角度看，hbase并不是一个列式存储的数据库，但是它利用了磁盘上的列存储格式，这也算RDBMS与Hbase最大的相似之处，因为hbase以列式存储的格式在磁盘上存储数据。</p>
<h3>hbase与关系数据库的不同点</h3>
<p>1 传统数据库比较适合实时存取数据的场景，hbase比较适合 键值对的数据存取，或者是有序的数据存取。</p>
<p>2 RDBMS实现了数据存储的强一致性，因此根据CAP理论为了实现强一致性，<span style="font-family:Tahoma;font-size:14px;line-height:24px;">通过严格的ACID事务来进行同步，这就造成了系统的可用性和</span><span style="font-family:Tahoma;font-size:14px;line-height:24px;">伸缩性</span><span style="font-family:Tahoma;font-size:14px;line-height:24px;">方面大大折扣，而目前的很多</span><span style="font-family:Tahoma;font-size:14px;line-height:24px;">NoSQL</span><span style="font-family:Tahoma;font-size:14px;line-height:24px;"> 产
 品，包括Hbase，它们都是一种最终一致性的系统，它们为了高的可用性牺牲了一部分的一致性。（数据库中一般通过ACID事务来实现一致性）</span></p>
<p><span style="font-family:Tahoma;font-size:14px;line-height:24px;">3 RDBMS一般有固定模式和ACID事务，但hbase一类的系统大都并不支持ACID事务和辅助索引，并且hbase无固定的访问模式，可以随着应用灵活的变化。</span></p>
<h3><span style="font-family:Tahoma;font-size:14px;line-height:24px;">下面是一写其他的不同点或者是区分关系数据库与非关系数据库的点：</span></h3>
<p><span style="font-family:Tahoma;font-size:14px;line-height:24px;">数据模型：数据有多种存储方式，包括键值对，列式存储，文档存储</span></p>
<p><span style="font-family:Tahoma;font-size:14px;line-height:24px;">一致性：是严格一致性（关系数据库）还是最终一致性（非关系数据库）</span></p>
<p><span style="font-family:Tahoma;"><span style="font-size:14px;line-height:24px;">物理模型：分布式还是单机！</span></span></p>
<p><span style="font-family:Tahoma;"><span style="font-size:14px;line-height:24px;">读写性能：是读多写少，还是读少写多，是范围扫描好还是随机读写好！</span></span></p>
<p><span style="font-family:Tahoma;"><span style="font-size:14px;line-height:24px;">辅助索引：辅助索引按用户不同的字段或排列方式访问（bigtable没有辅助索引，hbase添加了辅助索引的功能）。</span></span></p>
<p><span style="font-family:Tahoma;"><span style="font-size:14px;line-height:24px;"><br></span></span></p>
<h2><span lang="en-us" style="color:rgb(70,70,70);font-family:simsun;font-size:12px;line-height:24px;" xml:lang="en-us"> HBase </span><span style="color:rgb(70,70,70);font-size:12px;line-height:24px;font-family:'宋体';">使用场景和成功案例</span></h2>
<div><span style="color:rgb(70,70,70);font-size:12px;line-height:24px;font-family:'宋体';">   一下内容来自hbase实战一书</span></div>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">有时候了解软件产品的最好方法是看看它是怎么用的。它可以解决什么问题和这些解决方案如何适用于大型应用架构，能够告诉你很多。因为</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">有许多公开的产品部署，我们正好可以这么做。本章节将详细介绍一些人们成功使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">的使用场景。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<em><span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></em></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<em><span style="line-height:21px;font-family:'宋体';">注意：不要自我限制，认为</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">只能解决这些使用场景。它是一个初生的技术，根据使用场景进行创新正驱动着系统的发展。如果你有新想法，认为可以受益于</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">提供的功能，试试吧。社区很乐于帮助你，也会从你的经验中学习。这正是开源软件精神。</span></em></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">仿效了</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Google</span><span style="line-height:21px;font-family:'宋体';">的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">，让我们开始探索典型的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">问题：存储互联网。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<em><span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></em></p>
<h4 style="border:0px;list-style:none;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);line-height:16px;">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">1</span> <span style="line-height:21px;font-family:'黑体';">典型互联网搜索问题：</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'黑体';">发明的原因</span></h4>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">搜索是一个定位你所关心的信息的行为：例如，搜索一本书的页码，其中含有你想读的主题，或者网页，其中含有你想找的信息。搜索含有特定词语的文档，需要查找索引，该索引提供了特定词语和包含该词语的所有文档的映射。为了能够搜索，首先必须建立索引。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Google</span><span style="line-height:21px;font-family:'宋体';">和其他搜索引擎正是这么做的。他们的文档库是整个互联网；搜索的特定词语就是你在搜索框里敲入的任何东西。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">，和模仿出来的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">，为这种文档库提供存储，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">提供行级访问，所以爬虫可以插入和更新单个文档。搜索索引可以基于</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span> <span style="line-height:21px;font-family:'宋体';">通过</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">MapReduce</span><span style="line-height:21px;font-family:'宋体';">计算高效生成。如果结果是单个文档，可以直接从</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">取出。支持各种访问模式是影响</span> <span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">设计的关键因素。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> 下图是googleweb索引的应用图：</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"><img src="https://img-blog.csdn.net/20140419113043562?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDI4MjcwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br></span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';"><span style="line-height:18px;font-size:12px;">建立互联网索引</span></span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:18px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">1</span> <span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">爬虫持续不断地抓取新页面，这些页面每页一行地存储到</span><span lang="en-us" style="line-height:18px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">BigTable</span><span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">里。</span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:18px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">2 MapReduce</span><span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">计算作业运行在整张表上，生成索引，为网络搜索应用做准备。</span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">搜索互联网</span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:18px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">3</span> <span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">用户发起网络搜索请求。</span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:18px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">4</span> <span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">网络搜索应用查询建立好的索引，或者直接从</span><span lang="en-us" style="line-height:18px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">BigTable</span><span style="line-height:18px;font-size:6.5pt;font-family:'宋体';">直接得到单个文档。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:13px;font-size:6.5pt;font-family:Helvetica;" xml:lang="en-us">5</span> <span style="line-height:13px;font-size:6.5pt;font-family:'宋体';">搜索结果提交给用户。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">讲完典型</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">使用场景以后，我们来看看其他使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">的地方。愿意使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">的用户数量在过去几年里迅猛增长。部分原因在于</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">产品变得更加可靠和性能更好，更多原因在于越来越多的公司开始投入大量资源来支持和使用它。随着越来越多的商业服务供应商提供支持，用户越发自信地把</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">应用于关键应用系统。一个设计初衷是用来存储互联网持续更新网页副本的技术，用在互联网相关的其他方面也很是合适的。例如，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">在社交网络公司内部和周围各种各样的需求中找到了用武之地。从存储个人之间的通信信息，到通信信息分析，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">成为</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span><span style="line-height:21px;font-family:'宋体';">，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Twitter</span><span style="line-height:21px;font-family:'宋体';">，和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span><span style="line-height:21px;font-family:'宋体';">等公司里的关键基础架构。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">在这个领域，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">有三种主要使用场景，但不限于这些。为了保持本节简单明了，我们这里介绍主要的使用场景。</span></p>
<h4 style="border:0px;list-style:none;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);line-height:16px;">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">1.2.2</span> <span style="line-height:21px;font-family:'黑体';">捕获增量数据</span></h4>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">数据通常是细水长流，累加到已有数据库以备将来使用，例如分析，处理和服务。许多</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">使用场景属于这个类别——使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">作为数据存储，捕获来自于各种数据源的增量数据。例如，这种数据源可能是网页爬虫（我们讨论过的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">典型问题），可能是记录用户看了什么广告和多长时间的广告效果数据，也可能是记录各种参数的时间序列数据。我们讨论几个成功的使用场景和公司。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">捕获监控参数：</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">OPENTSDB</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">服务于数百万用户的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">WEB</span><span style="line-height:21px;font-family:'宋体';">产品的后台基础架构一般都有数百或数千台服务器。这些服务器承担了各种功能——服务流量，捕获日志，存储数据，处理数据等等。为了保持产品正常运行，监控服务器和上面运行软件的健康状态是至关重要的（从</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">OS</span><span style="line-height:21px;font-family:'宋体';">到用户交互应用）。大规模监控整个环境需要能够采集和存储来自于不同数据源的各种参数的监控系统。每个公司有自己的办法。一些公司使用商业工具来收集和展示参数；而其他一些公司采用开源框架。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">创建了一个开源框架，用来收集服务器的各种监控参数。按照时间收集参数一般称之为时间序列数据：也就是说，按照时间顺序收集和记录数据。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">的开源框架叫做</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">OpenTSDB</span><span style="line-height:21px;font-family:'宋体';">，其含义是开放时间序列数据库</span> <span lang="en-us" style="line-height:21px;" xml:lang="en-us">Open
 Time Series Database</span> <span style="line-height:21px;font-family:'宋体';">。这个框架使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">作为核心平台来存储和检索所收集的参数。创建这个框架的目的是为了拥有一个可扩展的监控数据收集系统，一方面能够存储和检索参数数据并保存很长时间，另一方面如果需要增加功能也可以添加各种新参数。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">OpenTSDB</span><span style="line-height:21px;font-family:'宋体';">监控所有基础架构和软件，包括</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">机群自身。我们将在第</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">7</span><span style="line-height:21px;font-family:'宋体';">章作为建构在</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">之上的示例应用来详细介绍</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">OpenTSDB</span><span style="line-height:21px;font-family:'宋体';">。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">捕获用户交互数据：</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span><span style="line-height:21px;font-family:'宋体';">和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">捕获监控数据是一种使用方式。还有一种是捕获用户交互数据。如何跟踪数百万用户在网站上的活动？怎么知道哪一个网站功能是最受欢迎的？怎样使得这一次的网页浏览直接影响到下一次？例如，谁看了什么？某个按钮被点击了多少次？还记得</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span><span style="line-height:21px;font-family:'宋体';">和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Stumble</span> <span style="line-height:21px;font-family:'宋体';">里的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Like</span><span style="line-height:21px;font-family:'宋体';">按钮和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">里的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">+1</span> <span style="line-height:21px;font-family:'宋体';">按钮吗？是不是听起来像是一个计数问题？每次用户</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Like</span><span style="line-height:21px;font-family:'宋体';">一个特定主题计数器增加一次。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">在开始阶段采用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">MySQL</span><span style="line-height:21px;font-family:'宋体';">，但是随着网站服务越来越流行，这个技术选择遇到问题了。急剧增长的用户在线负载需求远远超过了</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">MySQL</span><span style="line-height:21px;font-family:'宋体';">机群的能力，最终</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">选择</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">来替换这些机群。当时，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">产品不能直接提供必须的功能。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span> <span style="line-height:21px;font-family:'宋体';">在</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">上做了一些小的开发改动，后来这些开发工作贡献回了项目社区。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">FaceBook</span><span style="line-height:21px;font-family:'宋体';">使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">的计数器来计量人们</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Like</span><span style="line-height:21px;font-family:'宋体';">特定网页的次数。内容原创人和网页主人可以得到近乎实时的、多少用户</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Like</span><span style="line-height:21px;font-family:'宋体';">他们网页的数据信息。他们可以因此更敏捷地判断应该提供什么内容。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span> <span style="line-height:21px;font-family:'宋体';">为此创建了一个叫</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook
 Insight</span><span style="line-height:21px;font-family:'宋体';">的系统，该系统需要一个可扩展的存储系统。公司考虑了很多种可能，包括关系型数据库、内存数据库、和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Cassandra</span><span style="line-height:21px;font-family:'宋体';">数据库，最后决定使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">。基于</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span> <span style="line-height:21px;font-family:'宋体';">可以很方便地横向扩展服务规模，提供给数百万用户，也可以继续使用他们已有的运行大规模</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">机群的经验。该系统每天处理数百亿条事件，记录数百个参数。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="nl" style="line-height:21px;" xml:lang="nl">TELEMETRY</span><span style="line-height:21px;font-family:'宋体';">：</span><span lang="nl" style="line-height:21px;" xml:lang="nl">MOZILLA</span> <span style="line-height:21px;font-family:'宋体';">和</span> <span lang="nl" style="line-height:21px;" xml:lang="nl">TREND
 MICRO</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">软件运行数据和软件质量数据，不像监控参数数据那么简单。例如，软件崩溃报告是有用的软件运行数据，经常用来探究软件质量和规划软件开发路线图。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">可以成功地用来捕获和存储用户计算机上生成的软件崩溃报告。这种使用场景不像前两种使用场景，和网络服务应用不一定有关系。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">Mozilla</span><span style="line-height:21px;font-family:'宋体';">基金会负责</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">FireFox</span><span style="line-height:21px;font-family:'宋体';">网络浏览器和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Thunderbird</span><span style="line-height:21px;font-family:'宋体';">电邮客户端两个产品。这些工具安装在全世界数百万台计算机上，支持各种操作系统。当这些工具崩溃时，会以</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Bug</span><span style="line-height:21px;font-family:'宋体';">报告的形式返回一个软件崩溃报告给</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Mozilla</span><span style="line-height:21px;font-family:'宋体';">。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Mozilla</span><span style="line-height:21px;font-family:'宋体';">如何收集这些数据？收集后又是怎么使用呢？实际情况是这样的，一个叫做</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Socorro</span><span style="line-height:21px;font-family:'宋体';">的系统收集了这些报告，用来指导研发部门研制更稳定的产品。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Socorrade</span><span style="line-height:21px;font-family:'宋体';">系统的数据存储和分析建构在</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">上。</span><a name="_ftnref1" title="" style="text-decoration:none;color:rgb(118,95,71);"><span style="line-height:21px;"><span lang="en-us" xml:lang="en-us"> <span><span lang="en-us" style="font-size:10.5pt;font-family:'Times new roman';" xml:lang="en-us">[1]</span></span></span></span></a></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">采用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">使得基本分析可以用到比以前多得多的数据。这种分析用来指导</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Mozilla</span><span style="line-height:21px;font-family:'宋体';">的开发人员，使其更为专注，研制出</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Bug</span><span style="line-height:21px;font-family:'宋体';">最少的版本。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">Trend Micro</span><span style="line-height:21px;font-family:'宋体';">为企业客户提供互联网安全和入侵管理服务。安全的重要环节是感知，日志收集和分析对于提供这种感知能力是至关重要的。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Trend
 Micro</span><span style="line-height:21px;font-family:'宋体';">使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">来管理网络信誉数据库，该数据库需要行级更新和支持</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">MapReduce</span><span style="line-height:21px;font-family:'宋体';">批处理。有点像</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Mozilla</span><span style="line-height:21px;font-family:'宋体';">的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Socorro</span><span style="line-height:21px;font-family:'宋体';">系统，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">也用来收集和分析日志活动，每天收集数十亿条记录。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">中灵活的模式支持数据结构出现变化，当分析流程重新调整时</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Trend
 Micro</span><span style="line-height:21px;font-family:'宋体';">可以增加新属性。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">广告效果和点击流</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">过去的十年，在线广告成为互联网产品的一个主要收入来源。提供免费服务给用户，在用户使用服务的时侯投放广告给目标用户。这种精准投放需要针对用户交互数据做详细的捕获和分析，以便于理解用户的特征。基于这种特征，选择并投放广告。精细的用户交互数据带来更好的模型，进而导致更好的广告投放效果和更多的收入。但这类数据有两个特点：它以连续流的形式出现，它很容易按用户划分。理想情况下，这种数据一旦产生就能够马上使用，用户特征模型可以没有延迟地持续优化——也就是说，以在线方式使用。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<em><span style="line-height:21px;font-family:'宋体';">在线</span> <span lang="en-us" style="line-height:21px;" xml:lang="en-us">VS</span> <span style="line-height:21px;font-family:'宋体';">离线系统</span></em></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<em><span style="line-height:21px;font-family:'宋体';">在线和离线的术语多次出现。对于初学者来说，这些术语描述了软件系统执行的条件。在线系统需要低延迟。某些情况下，系统哪怕给出没有答案的响应，也要比花了很长时间给出正确答案的响应好。你可以把在线系统想象为一个跳着脚的没有耐心的用户。离线系统不需要低延迟，用户可以等待答案，不期待马上给出响应。当实现应用系统时在线或者离线的目标影响着许多技术决策。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">是一个在线系统。和</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Hadoop
 MapReduce</span><span style="line-height:21px;font-family:'宋体';">的紧密结合又赋予它离线访问的能力。</span></em></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">非常适合收集这种用户交互数据，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">已经成功地应用在这种场合，它可以增量捕获第一手点击流和用户交互数据，然后用不同处理方式（</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">MapReduce</span><span style="line-height:21px;font-family:'宋体';">是其中一种）来处理数据（清理、装饰、使用数据）。在这种公司，你会发现很多</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">案例。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us"> </span></p>
<h4 style="border:0px;list-style:none;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);line-height:16px;">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">1.2.3</span> <span style="line-height:21px;font-family:'黑体';">内容服务</span></h4>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">传统数据库的一个最大使用场合是为用户提供内容服务。各种各样的数据库支撑着提供各种内容服务的应用系统。多年来这些应用在发展，因此他们所依赖的数据库也在发展。用户希望使用和交互的内容种类越来越多。此外，由于互联网迅猛的增长以及终端设备更加迅猛的增长，对这些应用的连接方式提出了更高的要求。各种各样的终端设备带来了一个挑战：不同种类设备需要以不同格式使用同样的内容。</span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="font-family:'宋体';">一方面是用户使用内容</span> <span lang="en-us" xml:lang="en-us">User Consuming Content</span><span style="font-family:'宋体';">，对应另一面是用户生成内容</span> <span lang="en-us" xml:lang="en-us">User
 Generate</span><span lang="en-us" style="font-family:'newBaskerville-roman';" xml:lang="en-us">Content</span><span style="font-family:'宋体';">。</span><span lang="en-us" style="font-family:'newBaskerville-roman';" xml:lang="en-us">Tweete</span><span style="font-family:'宋体';">、</span><span lang="en-us" style="font-family:'newBaskerville-roman';" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">帖子、</span><span lang="en-us" style="font-family:'newBaskerville-roman';" xml:lang="en-us">Instagram</span> <span style="font-family:'宋体';">图片和微博等都是这样的例子。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">他们相同的地方是使用和生成了许多内容。大量用户通过应用系统来使用和生成内容，而这些应用系统需要</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Hbase</span><span style="line-height:21px;font-family:'宋体';">作为基础。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">集中的内容系统系统</span> <span lang="en-us" style="line-height:21px;" xml:lang="en-us">CMS</span><span style="line-height:21px;font-family:'宋体';">可以存储内容和提供服务。但是当用户越来越多，生成内容越来越多的时候，就需要一个更具扩展性的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">CMS</span><span style="line-height:21px;font-family:'宋体';">解决方案。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">这种可扩展的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">CMS</span><span style="line-height:21px;font-family:'宋体';">往往使用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Hbase</span><span style="line-height:21px;font-family:'宋体';">作为基础，再加上其他的开源框架，例如</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Solr</span><span style="line-height:21px;font-family:'宋体';">，构成一个完整的功能组合。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">Salesforce</span><span style="line-height:21px;font-family:'宋体';">提供托管</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">CRM</span><span style="line-height:21px;font-family:'宋体';">产品，这个产品通过网络浏览器界面提交给用户使用，显示出了丰富的关系型数据库功能。在</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Google</span><span style="line-height:21px;font-family:'宋体';">发表</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">NoSQL</span><span style="line-height:21px;font-family:'宋体';">原型概念论文之前很长一段时间，生产环境中使用的大型关键数据库最合理的选择就是商用关系型数据库。多年来，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Salesforce</span><span style="line-height:21px;font-family:'宋体';">通过数据库分库和尖端性能优化这些手段扩展系统，达到每天处理数亿事务的能力。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">当</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Salesforce</span><span style="line-height:21px;font-family:'宋体';">看到分布式数据库这样的选择后，他们评测了所有</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">NoSQL</span><span style="line-height:21px;font-family:'宋体';">技术的产品，最后决定部署</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">。这个选择的主要原因是有来由的。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">BigTable</span><span style="line-height:21px;font-family:'宋体';">类型的系统是唯一的可以无缝融合水平扩展能力和行级强一致性的结构方式。此外，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Salesforce</span><span style="line-height:21px;font-family:'宋体';">已经把</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Hadoop</span><span style="line-height:21px;font-family:'宋体';">用于大型离线批处理任务，他们可以继续利用</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Hadoop</span><span style="line-height:21px;font-family:'宋体';">上面积累的宝贵经验。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">URL</span><span style="line-height:21px;font-family:'宋体';">短链</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">最近一段时间</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">URL</span><span style="line-height:21px;font-family:'宋体';">短链非常流行，许多类似产品破土而出。</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">StumbleUpon</span><span style="line-height:21px;font-family:'宋体';">使用名字为</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">su.pr.</span><span style="line-height:21px;font-family:'宋体';">的短链产品，这个产品以</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">为基础。这个产品用来缩短</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">URL</span><span style="line-height:21px;font-family:'宋体';">，存储大量的短链以及和原始长链接的映射关系，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">帮助产品实现扩展能力。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">用户模型服务</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">经过</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">处理过的内容往往并不直接提交给用户使用，而是用来决定应该提交给用户什么内容。这种中间处理数据用来丰富用户的交互。还记得前面提到的广告服务场景里的用户模式吗？用户模式（或者说模型）就是来自于</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">。这种模型多种多样，可以用于多种不同场景，例如，针对特定用户投放什么广告的决定，用户在电商门户购物时实时报价的决定，用户在搜索引擎检索时增加背景信息和关联内容，等等。很多这种使用案例可能不便于公开讨论，说多了我们就麻烦了。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">当用户在电商网站上发生交易时，用户模型服务可以用来实时报价。这种模型需要基于不断产生的新用户数据持续优化。</span></p>
<h4 style="border:0px;list-style:none;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);line-height:16px;">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">1.2.4</span> <span style="line-height:21px;font-family:'黑体';">信息交换</span></h4>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">各种社交网络破土而出，世界变得越来越小。社叫网站的一个重要作用就是帮助人们进行交互。有时交互在群组内发生（小规模和大规模）；有时交互在两个个人之见发生。想想看，数亿人通过社交网络进行对话的场面。只是和远处的人通话是不够的，人们还想看看和其他人通话的历史记录。社交网络公司感到幸运的是，存储很廉价，大数据领域的创新可以帮助他们充分利用廉价的存储。</span></p>
<p align="left" style="border:0px;list-style:none;line-height:21px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">短信系统经常被公开讨论，他也可能极大地驱动了</span><span lang="en-us" xml:lang="en-us">HBase</span><span style="font-family:'宋体';">的发展。当你使用</span><span lang="en-us" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">时，某个时候你可能会收到或者发送短信给你的朋友。</span><span lang="en-us" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">的这个特性完全依赖于</span><span lang="en-us" xml:lang="en-us">HBase</span><span style="font-family:'宋体';">。用户读写的所有短信都存储在</span><span lang="en-us" xml:lang="en-us">HBase</span><span style="font-family:'宋体';">里。支持</span><span lang="en-us" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">短信的系统需要具备：高的写吞吐量，极大的表，数据中心内的强一致性。除了短信系统之外，使用</span><span lang="en-us" xml:lang="en-us">HBase</span><span style="font-family:'宋体';">的其他应用系统另外要求：高的读吞吐量，计数器吞吐量，自动分库。工程师们发现</span><span lang="en-us" xml:lang="en-us">HBase</span><span style="font-family:'宋体';">是个理想的解决方案，因为他支持所有这些要求，他拥有一个活跃的用户社区，</span><span lang="en-us" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">运营团队在</span><span lang="en-us" xml:lang="en-us">Hadoop</span><span style="font-family:'宋体';">部署上有丰富经验，等等。在“</span><span lang="en-us" xml:lang="en-us">Hadoop
 goes realtime at Facebook</span><span style="font-family:'宋体';">”这篇文章里，</span><span lang="en-us" xml:lang="en-us">Facebook</span><span style="font-family:'宋体';">工程师解释了这个决定背后的逻辑和显示了他们使用</span><span lang="en-us" xml:lang="en-us">Hadoop</span><span style="font-family:'宋体';">和</span><span lang="en-us" xml:lang="en-us">HBase</span><span style="font-family:'宋体';">建设在线系统的经验。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span><span style="line-height:21px;font-family:'宋体';">工程师在</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HbaseCon
 2012</span><span style="line-height:21px;font-family:'宋体';">会议上分享了一些有趣的数据。在这个平台上每天交换数十亿条短信，每天带来大约</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">750</span><span style="line-height:21px;font-family:'宋体';">亿次操作。尖峰时刻，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span><span style="line-height:21px;font-family:'宋体';">的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">集群每秒发生</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">150</span><span style="line-height:21px;font-family:'宋体';">万次操作。从数据规模角度看，</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">Facebook</span><span style="line-height:21px;font-family:'宋体';">的集群每月增加</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">250TB</span><span style="line-height:21px;font-family:'宋体';">的新数据，这可能是已知的最大的</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">部署，无论是服务器的数量还是服务器所承载的用户量。</span></p>
<p style="border:0px;list-style:none;line-height:16px;color:rgb(70,70,70);font-family:simsun;font-size:14px;background-color:rgb(248,236,216);">
<span style="line-height:21px;font-family:'宋体';">上述一些示例，解释了</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">如何解决一些有趣的老问题和新问题。你可能注意到一个相同点：</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">可以用来对相同数据进行在线服务和离线处理。这正是</span><span lang="en-us" style="line-height:21px;" xml:lang="en-us">HBase</span><span style="line-height:21px;font-family:'宋体';">的独到之处。</span></p>
<p><span style="font-family:Tahoma;"><span style="font-size:14px;line-height:24px;"><br></span></span></p>
            </div>
                </div>