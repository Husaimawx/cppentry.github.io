---
layout:     post
title:       Hbase访问方式之Java API
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <div style="font-size:14px;" class="iteye-blog-content-contain">
<p><span style="color:#333333;line-height:26px;font-family:'Microsoft YaHei';"><strong>Hbase的访问方式</strong><br><span style="color:#ff0000;">1、Native Java API：最常规和高效的访问方式；</span><br>2、HBase Shell：HBase的命令行工具，最简单的接口，适合HBase管理使用；<br>3、Thrift Gateway：利用Thrift序列化技术，支持C++，PHP，Python等多种语言，适合其他异构系统在线访问HBase表数据；<br>4、REST Gateway：支持REST 风格的Http API访问HBase, 解除了语言限制；<br>5、MapReduce：直接使用MapReduce作业处理Hbase数据；<br>6、使用Pig/hive处理Hbase数据。<br></span></p>
<p style="color:#333333;font-family:Arial;line-height:26px;"><span style="font-family:'Microsoft YaHei';"><strong>常用Java API的用法：</strong><br></span></p>
<p style="color:#333333;font-family:Arial;line-height:26px;"><span style="font-family:'Microsoft YaHei';">1、加载配置</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;overflow:auto;color:#333333;line-height:26px;background-color:#e7e5dc;" class="dp-highlighter bg_java">
<div class="bar">
<div style="font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:#C0C0C0;border-left-width:3px;border-left-style:solid;border-left-color:#6ce26c;background-color:#f8f8f8;" class="tools">
<strong>[java]</strong> <a title="view plain" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="ViewSource">view plain</a><a title="copy" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="CopyToClipboard">copy</a><a title="在CODE上查看代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265" rel="nofollow"><img src="https://code.csdn.net/assets/CODE_ico.png" height="12" style="border-style:none;" width="12" alt="在CODE上查看代码片"></a><a title="派生到我的代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265/fork" rel="nofollow"><img src="https://code.csdn.net/assets/ico_fork.svg" height="12" style="border-style:none;" width="12" alt="派生到我的代码片"></a>
<div style="width:18px;"> </div>
</div>
</div>
<ol style="border:none;color:#5c5c5c;margin-left:45px !important;background-color:#ffffff;" class="dp-j"><li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;background-color:inherit;">Configuration config = HBaseConfiguration.create();   </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//可以自定义配置，也可以从自定义配置文件中读取</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">/*config.set("hbase.zookeeper.property.clientPort", "4181");</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">config.set("hbase.zookeeper.quorum", "hadoop.datanode5.com,hadoop.datanode2.com,hadoop.datanode3.com");</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">config.set("hbase.master", "hadoop.datanode3.com\\:600000");*/</span><span style="border:none;background-color:inherit;">  </span></span></li>
</ol></div>
<p style="color:#333333;font-family:Arial;line-height:26px;"> </p>
<p style="color:#333333;font-family:Arial;line-height:26px;"><span style="font-family:'Microsoft YaHei';">2、表的创建、表信息修改、表删除</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;overflow:auto;color:#333333;line-height:26px;background-color:#e7e5dc;" class="dp-highlighter bg_java">
<div class="bar">
<div style="font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:#C0C0C0;border-left-width:3px;border-left-style:solid;border-left-color:#6ce26c;background-color:#f8f8f8;" class="tools">
<strong>[java]</strong> <a title="view plain" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="ViewSource">view plain</a><a title="copy" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="CopyToClipboard">copy</a><a title="在CODE上查看代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265" rel="nofollow"><img src="https://code.csdn.net/assets/CODE_ico.png" height="12" style="border-style:none;" width="12" alt="在CODE上查看代码片"></a><a title="派生到我的代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265/fork" rel="nofollow"><img src="https://code.csdn.net/assets/ico_fork.svg" height="12" style="border-style:none;" width="12" alt="派生到我的代码片"></a>
<div style="width:18px;"> </div>
</div>
</div>
<ol style="border:none;color:#5c5c5c;margin-left:45px !important;background-color:#ffffff;" class="dp-j"><li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;background-color:inherit;">HBaseAdmin admin = </span><span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> HBaseAdmin(config);  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//创建表</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">HTableDescriptor htd = <span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> HTableDescriptor(tableName);  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">htd.addFamily(<span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> HColumnDescriptor(</span><span style="border:none;color:#0000FF;background-color:inherit;" class="string">"cf1"</span><span style="border:none;background-color:inherit;">));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">htd.addFamily(<span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> HColumnDescriptor(</span><span style="border:none;color:#0000FF;background-color:inherit;" class="string">"cf2"</span><span style="border:none;background-color:inherit;">));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">admin.createTable(htd);  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//修改表信息</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">admin.disableTable(tableName);  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">// modifying existing ColumnFamily</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">admin.modifyColumn(tableName, <span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> HColumnDescriptor(</span><span style="border:none;color:#0000FF;background-color:inherit;" class="string">"cf1"</span><span style="border:none;background-color:inherit;">));    </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">admin.enableTable(tableName);   </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//删除表</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">admin.disableTable(Bytes.toBytes(tableName));  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">admin.deleteTable(Bytes.toBytes(tableName));  </span></li>
</ol></div>
<p style="color:#333333;font-family:Arial;line-height:26px;"> </p>
<p><span style="color:#333333;line-height:26px;font-family:'Microsoft YaHei';">3、添加记录</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;overflow:auto;color:#333333;line-height:26px;background-color:#e7e5dc;" class="dp-highlighter bg_java">
<div class="bar">
<div style="font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:#C0C0C0;border-left-width:3px;border-left-style:solid;border-left-color:#6ce26c;background-color:#f8f8f8;" class="tools">
<strong>[java]</strong> <a title="view plain" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="ViewSource">view plain</a><a title="copy" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="CopyToClipboard">copy</a><a title="在CODE上查看代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265" rel="nofollow"><img src="https://code.csdn.net/assets/CODE_ico.png" height="12" style="border-style:none;" width="12" alt="在CODE上查看代码片"></a><a title="派生到我的代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265/fork" rel="nofollow"><img src="https://code.csdn.net/assets/ico_fork.svg" height="12" style="border-style:none;" width="12" alt="派生到我的代码片"></a>
<div style="width:18px;"> </div>
</div>
</div>
<ol style="border:none;color:#5c5c5c;margin-left:45px !important;background-color:#ffffff;" class="dp-j"><li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">/** 在多次使用时，建议用HTablePool</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">  HTable table = new HTable(config, tableName); </span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">  =&gt;</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">  HTablePool pool = new HTablePool(config, 1000);</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">  HTableInterface table = pool.getTable(tableName);*/</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">HTable table = <span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> HTable(config, tableName);  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">/**</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment"> * 在插入操作时，默认不适用任何缓存</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment"> * 可自定义使用缓存，以及缓存大小</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment"> * 每个任务最后需要手工调用 flushCommits();</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment"> */</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">/*table.setAutoFlush(false);</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">table.setWriteBufferSize(1024);*/</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">Put put1 = <span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> Put(Bytes.toBytes(rowKey));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">if</span><span style="border:none;background-color:inherit;"> (ts == </span><span style="border:none;color:#c00000;background-color:inherit;" class="number">0</span><span style="border:none;background-color:inherit;">) {  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">    put1.add(Bytes.toBytes(family), Bytes.toBytes(qualifier), Bytes.toBytes(value));  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">} <span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">else</span><span style="border:none;background-color:inherit;"> {  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">       <span style="border:none;color:#008200;background-color:inherit;" class="comment">//自定义版本时，从自定义的版本号，类型为long</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">    put1.add(Bytes.toBytes(family), Bytes.toBytes(qualifier), ts,Bytes.toBytes(value));  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">}  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">table.put(put1);  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//table.flushCommits();</span><span style="border:none;background-color:inherit;">  </span></span></li>
</ol></div>
<p><span style="color:#333333;line-height:26px;font-family:'Microsoft YaHei';">4、查询，根据Rowkey查询</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;overflow:auto;color:#333333;line-height:26px;background-color:#e7e5dc;" class="dp-highlighter bg_java">
<div class="bar">
<div style="font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:#C0C0C0;border-left-width:3px;border-left-style:solid;border-left-color:#6ce26c;background-color:#f8f8f8;" class="tools">
<strong>[java]</strong> <a title="view plain" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="ViewSource">view plain</a><a title="copy" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="CopyToClipboard">copy</a><a title="在CODE上查看代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265" rel="nofollow"><img src="https://code.csdn.net/assets/CODE_ico.png" height="12" style="border-style:none;" width="12" alt="在CODE上查看代码片"></a><a title="派生到我的代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265/fork" rel="nofollow"><img src="https://code.csdn.net/assets/ico_fork.svg" height="12" style="border-style:none;" width="12" alt="派生到我的代码片"></a>
<div style="width:18px;"> </div>
</div>
</div>
<ol style="border:none;color:#5c5c5c;margin-left:45px !important;background-color:#ffffff;" class="dp-j"><li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;background-color:inherit;">Get get1 = </span><span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> Get(Bytes.toBytes(rowKey));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">Result result = table.get(get1);  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">System.out.println(<span style="border:none;color:#0000FF;background-color:inherit;" class="string">"get result:"</span><span style="border:none;background-color:inherit;"> + Bytes.toString(result.getValue(Bytes.toBytes(family), Bytes.toBytes(qualifier))));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">Result[] result = table.get(List&lt;Get&gt;);<span style="border:none;color:#008200;background-color:inherit;" class="comment">//查询指定Rowkey的多条记录</span><span style="border:none;background-color:inherit;">  </span></span></li>
</ol></div>
<p><span style="color:#333333;line-height:26px;font-family:'Microsoft YaHei';">5、查询，指定条件和rowkey区间查询</span></p>
<div style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;overflow:auto;color:#333333;line-height:26px;background-color:#e7e5dc;" class="dp-highlighter bg_java">
<div class="bar">
<div style="font-size:9px;line-height:normal;font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;color:#C0C0C0;border-left-width:3px;border-left-style:solid;border-left-color:#6ce26c;background-color:#f8f8f8;" class="tools">
<strong>[java]</strong> <a title="view plain" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="ViewSource">view plain</a><a title="copy" href="http://blog.csdn.net/woshiwanxin102213/article/details/17676961" rel="nofollow" class="CopyToClipboard">copy</a><a title="在CODE上查看代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265" rel="nofollow"><img src="https://code.csdn.net/assets/CODE_ico.png" height="12" style="border-style:none;" width="12" alt="在CODE上查看代码片"></a><a title="派生到我的代码片" style="color:#a0a0a0;border:none;font-size:9px;display:inline-block;width:16px;background-image:none;background-color:inherit;background-position:0% 0%;" href="https://code.csdn.net/snippets/134265/fork" rel="nofollow"><img src="https://code.csdn.net/assets/ico_fork.svg" height="12" style="border-style:none;" width="12" alt="派生到我的代码片"></a>
<div style="width:18px;"> </div>
</div>
</div>
<ol style="border:none;color:#5c5c5c;margin-left:45px !important;background-color:#ffffff;" class="dp-j"><li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;background-color:inherit;">Scan scan = </span><span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">new</span><span style="border:none;background-color:inherit;"> Scan();  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//默认缓存大小为1，设置成一个合理的值，可以减少scan过程中next()的时间开销，代价是客户端的内存</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">scan.setCaching(<span style="border:none;color:#c00000;background-color:inherit;" class="number">500</span><span style="border:none;background-color:inherit;">);  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">scan.setCacheBlocks(<span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">false</span><span style="border:none;background-color:inherit;">);  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//根据startRowKey、endRowKey查询</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//Scan scan = new Scan(Bytes.toBytes("startRowKey"), Bytes.toBytes("endRowKey"));</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">//rowKey之外的过滤条件，在List中可以add;</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">/**List&lt;Filter&gt; filters = new ArrayList&lt;Filter&gt;();</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">Filter filter = new SingleColumnValueFilter("familyName".getBytes(), </span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">        "qualifierName".getBytes(), </span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">        CompareOp.EQUAL,</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">        Bytes.toBytes("value"));</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">filters.add(filter);</span> </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#008200;background-color:inherit;" class="comment">scan.setFilter(new FilterList(filters));*/</span><span style="border:none;background-color:inherit;">  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">ResultScanner scanner = table.getScanner(scan);  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">System.out.println(<span style="border:none;color:#0000FF;background-color:inherit;" class="string">"scan result list:"</span><span style="border:none;background-color:inherit;">);  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">          </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;"><span style="border:none;color:#006699;font-weight:bold;background-color:inherit;" class="keyword">for</span><span style="border:none;background-color:inherit;"> (Result result : scanner) {  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">    System.out.println(Bytes.toString(result.getRow()));  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">    System.out.println(Bytes.toString(result.getValue(Bytes.toBytes(<span style="border:none;color:#0000FF;background-color:inherit;" class="string">"data"</span><span style="border:none;background-color:inherit;">), Bytes.toBytes(</span><span style="border:none;color:#0000FF;background-color:inherit;" class="string">"data1"</span><span style="border:none;background-color:inherit;">))));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">    System.out.println(Bytes.toString(result.getValue(Bytes.toBytes(<span style="border:none;color:#0000FF;background-color:inherit;" class="string">"data"</span><span style="border:none;background-color:inherit;">), Bytes.toBytes(</span><span style="border:none;color:#0000FF;background-color:inherit;" class="string">"data2"</span><span style="border:none;background-color:inherit;">))));  </span></span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;line-height:18px;margin-left:0px !important;background-color:#f8f8f8;"><span style="border:none;color:#000000;background-color:inherit;">}  </span></li>
<li style="border-style:none none none solid;border-left-width:3px;border-left-color:#6ce26c;color:inherit;line-height:18px;margin-left:0px !important;" class="alt"><span style="border:none;color:#000000;background-color:inherit;">scanner.close();  </span></li>
</ol></div>
<p><span style="color:#333333;line-height:26px;font-family:'Microsoft YaHei';"><strong>参考：</strong></span></p>
<p style="color:#333333;font-family:Arial;line-height:26px;"> </p>
<p style="color:#333333;font-family:Arial;line-height:26px;"><span style="font-family:'Microsoft YaHei';">1、<a style="color:#336699;" href="http://www.taobaotest.com/blogs/1605" rel="nofollow">http://www.taobaotest.com/blogs/1605</a></span></p>
<p style="color:#333333;font-family:Arial;line-height:26px;"><span style="font-family:'Microsoft YaHei';">2、<a style="color:#336699;" href="http://abloz.com/hbase/book.html#data_model_operations" rel="nofollow">http://abloz.com/hbase/book.html#data_model_operations</a>（官网示例）</span></p>
<p><span style="font-family:'Microsoft YaHei';"> </span></p>
<p> </p>
<p><span style="font-family:'Microsoft YaHei';">http://blog.csdn.net/woshiwanxin102213/article/details/17676961</span></p>
<p><span style="font-family:'Microsoft YaHei';">http://blog.csdn.net/woshiwanxin102213/article/details/17914083</span></p>
<p><span style="font-family:'Microsoft YaHei';">http://blog.csdn.net/woshiwanxin102213/article/details/17611457</span></p>
<p> </p>
</div>            </div>
                </div>