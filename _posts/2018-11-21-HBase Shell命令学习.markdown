---
layout:     post
title:      HBase Shell命令学习
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                在hbase shell状态下，使用命令help，会显示hbase 所有的命令<br><pre><code class="language-shell"><br>hbase(main):015:0&gt; help<br>NameError: undefined local variable or method `he' for #&lt;Object:0x1900f17&gt;<br><br>hbase(main):016:0&gt; help<br>HBase Shell, version 0.92.1, r1298924, Fri Mar  9 16:58:34 UTC 2012<br>Type 'help "COMMAND"', (e.g. 'help "get"' -- the quotes are necessary) for help on a specific command.<br>Commands are grouped. Type 'help "COMMAND_GROUP"', (e.g. 'help "general"') for help on a command group.<br><br>COMMAND GROUPS:<br>  Group name: general<br>  Commands: status, version<br><br>  Group name: ddl<br>  Commands: alter, alter_async, alter_status, create, describe, disable, disable_all, drop, drop_all, enable, enable_all, exists, is_disabled, is_enabled, list, show_filters<br><br>  Group name: dml<br>  Commands: count, delete, deleteall, get, get_counter, incr, put, scan, truncate<br><br>  Group name: tools<br>  Commands: assign, balance_switch, balancer, close_region, compact, flush, hlog_roll, major_compact, move, split, unassign, zk_dump<br><br>  Group name: replication<br>  Commands: add_peer, disable_peer, enable_peer, list_peers, remove_peer, start_replication, stop_replication<br><br>  Group name: security<br>  Commands: grant, revoke, user_permission<br><br>SHELL USAGE:<br>Quote all names in HBase Shell such as table and column names.  Commas delimit<br>command parameters.  Type &lt;RETURN&gt; after entering a command to run it.<br>Dictionaries of configuration used in the creation and alteration of tables are<br>Ruby Hashes. They look like this:<br><br>  {'key1' =&gt; 'value1', 'key2' =&gt; 'value2', ...}<br><br>and are opened and closed with curley-braces.  Key/values are delimited by the<br>'=&gt;' character combination.  Usually keys are predefined constants such as<br>NAME, VERSIONS, COMPRESSION, etc.  Constants do not need to be quoted.  Type<br>'Object.constants' to see a (messy) list of all constants in the environment.<br><br>If you are using binary keys or values and need to enter them in the shell, use<br>double-quote'd hexadecimal representation. For example:<br><br>  hbase&gt; get 't1', "key\x03\x3f\xcd"<br>  hbase&gt; get 't1', "key\003\023\011"<br>  hbase&gt; put 't1', "test\xef\xff", 'f1:', "\x01\x33\x40"<br><br>The HBase shell is the (J)Ruby IRB with the above HBase-specific commands added.<br>For more on the HBase Shell, see http://hbase.apache.org/docs/current/book.html<br></code></pre><br>挨个看看<br>general：<br>status 查看hbase状态<br><pre><code class="language-shell"><br>hbase(main):017:0&gt; status<br>1 servers, 0 dead, 4.0000 average load<br></code></pre><br>version 查看版本<br><pre><code class="language-shell"><br>0.92.1, r1298924, Fri Mar  9 16:58:34 UTC 2012 <br></code></pre><br>看一下hbase常用的操作命令有：<br>create,describe,disable,drop,list,scan,put,get,delete,deleteall,count,status<br><pre><code class="language-shell"><br>创建表<br>create 'user','username','mobile'<br>查看所有的表：<br>hbase(main):001:0&gt; list<br>TABLE                                                                                                                 <br>test                                         <br>test1     <br>user <br>查看表结构<br><br>hbase(main):003:0&gt; describe 'user'<br>DESCRIPTION                                                                                     ENABLED                                            <br> {NAME =&gt; 'user', FAMILIES =&gt; [{NAME =&gt; 'mobile', BLOOMFILTER =&gt; 'NONE', REPLICATION_SCOPE =&gt; ' true                                               <br> 0', VERSIONS =&gt; '3', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', TTL =&gt; '2147483647', BLOCKSIZ                                                    <br> E =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'name', BLOOMFILTER =&gt; 'NO                                                    <br> NE', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '3', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', TT                                                    <br> L =&gt; '2147483647', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}]} <br>删除一个列族，alter，disable，enable<br>hbase(main):003:0&gt;alter 'user',{NAME=&gt;'mobile',METHOD=&gt;'delete'} <br>drop一个表<br>Drop the named table. Table must first be disabled. If table has. more than one region, run a major compaction on .META.:<br>drop之前必须先disabled表<br>hbase(main):036:0&gt; disable   'test'<br>0 row(s) in 2.2000 seconds<br><br>hbase(main):037:0&gt; drop 'test'<br>0 row(s) in 1.8130 seconds<br><br>hbase(main):038:0&gt; list<br>TABLE                                                                                                                 <br>persion                                                              <br>test1                                                         <br>user <br>查看表是否存在<br>hbase(main):039:0&gt; exists 'test'<br>Table test does not exist  <br><br>睡觉。 <br>==续<br>version就是修改数据的版本，比如你可以查你修改之前的值<br>查看此列的多个版本<br>hbase(main):005:0&gt; get 'blog','1',{COLUMN=&gt;'author:name',VERSIONS=&gt;2}<br>COLUMN                         CELL                                                                                 <br> author:name                   timestamp=1336903227226, value=zhangkai                                              <br> author:name                   timestamp=1336903136510, value=zhnagkai                                              <br>2 row(s) in 0.0350 seconds<br>如果只想看旧版本的值，需要借助TIMESTAMP<br>hbase(main):006:0&gt; get 'blog','1',{COLUMN=&gt;'author:name',TIMESTAMP=&gt;1336903136510}<br>COLUMN                         CELL                                                                                 <br> author:name                   timestamp=1336903136510, value=zhnagkai                                              <br>1 row(s) in 0.0270 seconds<br>删除一列<br>delete 'blog','1','author:name'<br>删除RowKey的所有column<br>deleteall 'blog','1'<br></code></pre><br><br><br>参考：http://wiki.apache.org/hadoop/Hbase/Shell            </div>
                </div>