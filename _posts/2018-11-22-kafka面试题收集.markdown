---
layout:     post
title:      kafka面试题收集
---
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
								<div class="article-copyright">
					版权声明：本文为博主原创文章，未经博主允许不得转载。					https://blog.csdn.net/WYpersist/article/details/80102803				</div>
								            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css">
						<div class="htmledit_views" id="content_views">
                <h3><strong><img src="https://img-blog.csdn.net/20180517075356419?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dZcGVyc2lzdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></strong></h3><h3><strong>Kafka <span style="font-family:'宋体';">如何消费</span></strong></h3><h3><strong>kafka<span style="font-family:'宋体';">节点之间如何复制备份的？</span></strong></h3><h3><strong>kafka<span style="font-family:'宋体';">消息是否会丢失？为什么？</span></strong></h3><h3><strong>kafka<span style="font-family:'宋体';">最合理的配置是什么？</span></strong></h3><h3><strong>kafka<span style="font-family:'宋体';">的</span><span style="font-family:Calibri;">leader</span><span style="font-family:'宋体';">选举机制是什么？</span></strong></h3><h3><strong>kafka<span style="font-family:'宋体';">对硬件的配置有什么要求？</span></strong></h3><h3><strong>kafka<span style="font-family:'宋体';">的消息保证有几种方式？</span></strong></h3><div><strong><span style="font-family:'宋体';"></span></strong><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">1、请说明什么是Apache Kafka?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">Apache Kafka是由Apache开发的一种发布订阅消息系统，它是一个分布式的、分区的和重复的日志服务。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">2、请说明什么是传统的消息传递方法?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">传统的消息传递方法包括两种：</p><ul class="list-paddingleft-2" style="margin-bottom:0px;padding:20px 30px;list-style:square outside;color:rgb(34,34,34);font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">排队：在队列中，一组用户可以从服务器中读取消息，每条消息都发送给其中一个人。</p></li><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">发布-订阅：在这个模型中，消息被广播给所有的用户。</p></li></ul><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">3、请说明Kafka相对传统技术有什么优势?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">Apache Kafka与传统的消息传递技术相比优势之处在于：</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">快速:单一的Kafka代理可以处理成千上万的客户端，每秒处理数兆字节的读写操作。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">可伸缩:在一组机器上对数据进行分区和简化，以支持更大的数据</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">持久:消息是持久性的，并在集群中进行复制，以防止数据丢失。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">设计:它提供了容错保证和持久性</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">4、在Kafka中broker的意义是什么?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">在Kafka集群中，broker术语用于引用服务器。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">5、Kafka服务器能接收到的最大信息是多少?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">Kafka服务器可以接收到的消息的最大大小是1000000字节。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">6、解释Kafka的Zookeeper是什么?我们可以在没有Zookeeper的情况下使用Kafka吗?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">Zookeeper是一个开放源码的、高性能的协调服务，它用于Kafka的分布式应用。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">不，不可能越过Zookeeper，直接联系Kafka broker。一旦Zookeeper停止工作，它就不能服务客户端请求。</p><ul class="list-paddingleft-2" style="margin-bottom:0px;padding:20px 30px;list-style:square outside;color:rgb(34,34,34);font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">Zookeeper主要用于在集群中不同节点之间进行通信</p></li><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">在Kafka中，它被用于提交偏移量，因此如果节点在任何情况下都失败了，它都可以从之前提交的偏移量中获取</p></li><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">除此之外，它还执行其他活动，如: leader检测、分布式同步、配置管理、识别新节点何时离开或连接、集群、节点实时状态等等。</p></li></ul><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">7、解释Kafka的用户如何消费信息?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">在Kafka中传递消息是通过使用sendfile API完成的。它支持将字节从套接口转移到磁盘，通过内核空间保存副本，并在内核用户之间调用内核。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">8、解释如何提高远程用户的吞吐量?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">如果用户位于与broker不同的数据中心，则可能需要调优套接口缓冲区大小，以对长网络延迟进行摊销。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">9、解释一下，在数据制作过程中，你如何能从Kafka得到准确的信息?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">在数据中，为了精确地获得Kafka的消息，你必须遵循两件事: 在数据消耗期间避免重复，在数据生产过程中避免重复。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">这里有两种方法，可以在数据生成时准确地获得一个语义:</p><ul class="list-paddingleft-2" style="margin-bottom:0px;padding:20px 30px;list-style:square outside;color:rgb(34,34,34);font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">每个分区使用一个单独的写入器，每当你发现一个网络错误，检查该分区中的最后一条消息，以查看您的最后一次写入是否成功</p></li><li style="list-style:inherit;margin-top:0px;margin-left:0px;padding:0px;"><p style="margin-bottom:0px;">在消息中包含一个主键(UUID或其他)，并在用户中进行反复制</p></li></ul><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">10、解释如何减少ISR中的扰动?broker什么时候离开ISR?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">ISR是一组与leaders完全同步的消息副本，也就是说ISR中包含了所有提交的消息。ISR应该总是包含所有的副本，直到出现真正的故障。如果一个副本从leader中脱离出来，将会从ISR中删除。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">11、Kafka为什么需要复制?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">Kafka的信息复制确保了任何已发布的消息不会丢失，并且可以在机器错误、程序错误或更常见些的软件升级中使用。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">12、如果副本在ISR中停留了很长时间表明什么?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">如果一个副本在ISR中保留了很长一段时间，那么它就表明，跟踪器无法像在leader收集数据那样快速地获取数据。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">13、请说明如果首选的副本不在ISR中会发生什么?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">如果首选的副本不在ISR中，控制器将无法将leadership转移到首选的副本。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:700;">14、有可能在生产后发生消息偏移吗?</span></p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">在大多数队列系统中，作为生产者的类无法做到这一点，它的作用是触发并忘记消息。broker将完成剩下的工作，比如使用id进行适当的元数据处理、偏移量等。</p><p style="color:rgb(34,34,34);margin-top:16px;font-family:'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', 'Helvetica Neue', Arial, sans-serif;background-color:rgb(255,255,255);">作为消息的用户，你可以从Kafka broker中获得补偿。如果你注视SimpleConsumer类，你会注意到它会获取包括偏移量作为列表的MultiFetchResponse对象。此外，当你对Kafka消息进行迭代时，你会拥有包括偏移量和消息发送的MessageAndOffset对象。</p><br></div>            </div>
                </div>